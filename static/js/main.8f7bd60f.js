/*! For license information please see main.8f7bd60f.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},570:function(){!function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLElement){var e=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&"undefined"!==typeof navigator.userAgent&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return e=!1;e=!0}}))}catch(r){}if(void 0===HTMLElement.prototype.nativeFocus&&!e){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(e){for(var t=0;t<e.length;t++)e[t][0].scrollTop=e[t][1],e[t][0].scrollLeft=e[t][2];e=[]};HTMLElement.prototype.focus=function(e){if(e&&e.preventScroll){var t=function(e){for(var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;t&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=r,n.push([t,t.scrollTop,t.scrollLeft]),n}(this);this.nativeFocus(),"function"===typeof setTimeout?setTimeout((function(){n(t)}),0):n(t)}else this.nativeFocus()}}}}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function w(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),k.length>0)for(n=0;n<k.length;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,T={};function N(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(E(t),T[e]=!0)}function C(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)u(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},j={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=C(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=W(t,e.localeData()),U[t]=U[t]||B(t),U[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function K(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return C(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(C(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Ee=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Ie=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ne=/\d+/,Ce=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,De=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return u(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Ue={};function je(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Ue[e[n]]=r}function Ve(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&u(Ue,e)&&Ue[e](t,n._a,n,e)}var Be,qe=0,We=1,He=2,Ge=3,Ye=4,Ke=5,Qe=6,$e=7,Xe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",_e),Re("MM",_e,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[We]=le(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ce),Re("YY",_e,ge),Re("YYYY",Ie,be),Re("YYYYY",Te,we),Re("YYYYYY",Te,we),je(["YYYYY","YYYYYY"],qe),je("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),je("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return se(this.year())}function gt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function Et(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",_e),Re("ww",_e,ge),Re("W",_e),Re("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var St={dow:0,doy:6};function It(){return this._week.dow}function Tt(){return this._week.doy}function Nt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ct(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Dt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",_e),Re("e",_e),Re("E",_e),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,Ft=Pe,Ut=Pe;function jt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Dt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),u.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+Xt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",_e),Re("h",_e),Re("k",_e),Re("HH",_e,ge),Re("hh",_e,ge),Re("kk",_e,ge),Re("hmm",xe),Re("hmmss",Ee),Re("Hmm",xe),Re("Hmmss",Ee),je(["H","HH"],Ge),je(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[Ge]=le(e),m(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r)),m(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ke]=le(e.substr(i)),m(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ke]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:P,longDateFormat:H,invalidDate:Y,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:St,weekdays:Pt,weekdaysMin:Mt,weekdaysShort:Rt,meridiemParse:nn},sn={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(t){var n=null;if(void 0===sn[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){sn[t]=null}return sn[t]}function pn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new A(D(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),pn(e),sn[e]}return delete sn[e],null}function mn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(D(sn[e]._config,t)):(null!=(r=dn(e))&&(i=r._config),t=D(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=sn[e],sn[e]=n),pn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===pn()&&pn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=dn(e))return t;e=[e]}return hn(e)}function gn(){return I(sn)}function kn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[qe],n[We])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ye]||0!==n[Ke]||0!==n[Qe])?Ge:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<qe||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Xe),m(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,a,o,u=e._i,s=bn.exec(u)||wn.exec(u);if(s){for(m(e).iso=!0,t=0,n=xn.length;t<n;t++)if(xn[t][1].exec(s[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=En.length;t<n;t++)if(En[t][1].exec(s[3])){a=(s[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!_n.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Vn(e)}else e._isValid=!1}function Cn(e,t,n,r,i,a){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function An(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=In.exec(Dn(e._i));if(n){if(t=Cn(n[4],n[3],n[2],n[5],n[6],n[7]),!An(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=Sn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[He]&&null==e._a[We]&&jn(e),null!=e._dayOfYear&&(a=Ln(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ye]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function jn(e){var t,n,r,i,a,o,u,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[qe],_t(Kn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Kn(),a,o),n=Ln(t.gg,e._a[qe],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>xt(n,a,o)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(u=wt(n,r,i,a,o),e._a[qe]=u.year,e._dayOfYear=u.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,u,s=""+e._i,c=s.length,l=0;for(i=W(e._f,e._locale).match(L)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(Me(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&m(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),j[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-l,s.length>0&&m(e).unusedInput.push(s),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=zn(e._locale,e._a[Ge],e._meridiem),null!==(u=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(u,e._a[qe])),Un(e),kn(e)}else Rn(e);else Nn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,a,o,u=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));d(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Wn(e){var t=new _(kn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(kn(t)):(f(t)?e._d=t:a(n)?Bn(e):n?Vn(e):Gn(e),y(e)||(e._d=null),e))}function Gn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?qn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Wn(u)}function Kn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function Zn(){return Xn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(u(e,t)&&(-1===Be.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Tr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function or(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function sr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Re("Z",De),Re("ZZ",De),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(De,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(De,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=dr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Ar(this,Tr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&sr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Sr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ge])*n,m:le(o[Ye])*n,s:le(o[Ke])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&u(e,"_locale")&&(r._locale=e._locale),or(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Cr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Cr(e,t):((n=Cr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ar(this,Tr(n,r),e),this}}function Ar(e,t,n,i){var a=t._milliseconds,o=ur(t._days),u=ur(t._months);e.isValid()&&(i=null==i||i,u&&ct(e,he(e,"Month")+u*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Tr.fn=ar.prototype,Tr.invalid=ir;var Pr=Dr(1,"add"),Rr=Dr(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Lr(e){return x(e)||f(e)||Mr(e)||l(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function jr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):jr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(C(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function Br(){return new _(this)}function qr(e,t){var n=x(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=x(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=x(e)?e:Kn(e),a=x(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Gr(e,t){var n,r=x(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(x(e)&&e.isValid()||Kn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Kn(),e)}function ri(e,t){return this.isValid()&&(x(e)&&e.isValid()||Kn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var si=1e3,ci=60*si,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function di(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,si)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=si-hi(t,si)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function bi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function xi(){return y(this)}function Ei(){return d({},m(this))}function Si(){return m(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ni(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Ci(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Ri(e){return u(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return u(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return u(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function ji(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Ne}function zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function qi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return xt(this.year(),1,4)}function Gi(){return xt(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=wt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",Fi),Re("NN",Fi),Re("NNN",Fi),Re("NNNN",Ui),Re("NNNNN",ji),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Ne),Re("yy",Ne),Re("yyy",Ne),Re("yyyy",Ne),Re("yo",Vi),je(["y","yy","yyy","yyyy"],qe),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ce),Re("g",Ce),Re("GG",_e,ge),Re("gg",_e,ge),Re("GGGG",Ie,be),Re("gggg",Ie,be),Re("GGGGG",Te,we),Re("ggggg",Te,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),je("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",_e),Re("DD",_e,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],He),je("Do",(function(e,t){t[He]=le(e.match(_e)[0])}));var Ji=fe("Date",!0);function Zi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Se),Re("DDDD",ke),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",_e),Re("mm",_e,ge),je(["m","mm"],Ye);var ea=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",_e),Re("ss",_e,ge),je(["s","ss"],Ke);var ta,na,ra=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Se,ye),Re("SS",Se,ge),Re("SSS",Se,ke),ta="SSSS";ta.length<=9;ta+="S")Re(ta,Ne);function ia(e,t){t[Qe]=le(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")je(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=_.prototype;function sa(e){return Kn(1e3*e)}function ca(){return Kn.apply(null,arguments).parseZone()}function la(e){return e}ua.add=Pr,ua.calendar=zr,ua.clone=Br,ua.diff=Qr,ua.endOf=mi,ua.format=ei,ua.from=ti,ua.fromNow=ni,ua.to=ri,ua.toNow=ii,ua.get=pe,ua.invalidAt=Si,ua.isAfter=qr,ua.isBefore=Wr,ua.isBetween=Hr,ua.isSame=Gr,ua.isSameOrAfter=Yr,ua.isSameOrBefore=Kr,ua.isValid=xi,ua.lang=oi,ua.locale=ai,ua.localeData=ui,ua.max=$n,ua.min=Qn,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=vi,ua.subtract=Rr,ua.toArray=bi,ua.toObject=wi,ua.toDate=ki,ua.toISOString=Jr,ua.inspect=Zr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Xr,ua.unix=gi,ua.valueOf=yi,ua.creationData=Ii,ua.eraName=Oi,ua.eraNarrow=Di,ua.eraAbbr=Ai,ua.eraYear=Pi,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=qi,ua.isoWeekYear=Wi,ua.quarter=ua.quarters=Xi,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=Nt,ua.isoWeek=ua.isoWeeks=Ct,ua.weeksInYear=Yi,ua.weeksInWeekYear=Ki,ua.isoWeeksInYear=Hi,ua.isoWeeksInISOWeekYear=Gi,ua.date=Ji,ua.day=ua.days=Wt,ua.weekday=Ht,ua.isoWeekday=Gt,ua.dayOfYear=Zi,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ea,ua.second=ua.seconds=ra,ua.millisecond=ua.milliseconds=na,ua.utcOffset=pr,ua.utc=mr,ua.local=yr,ua.parseZone=gr,ua.hasAlignedHourOffset=kr,ua.isDST=br,ua.isLocal=_r,ua.isUtcOffset=xr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=aa,ua.zoneName=oa,ua.dates=S("dates accessor is deprecated. Use date instead.",Ji),ua.months=S("months accessor is deprecated. Use month instead",lt),ua.years=S("years accessor is deprecated. Use year instead",mt),ua.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),ua.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fa=A.prototype;function ha(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function da(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function pa(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,u=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=ha(t,(i+o)%7,r,"day");return u}function va(e,t){return da(e,t,"months")}function ma(e,t){return da(e,t,"monthsShort")}function ya(e,t,n){return pa(e,t,n,"weekdays")}function ga(e,t,n){return pa(e,t,n,"weekdaysShort")}function ka(e,t,n){return pa(e,t,n,"weekdaysMin")}fa.calendar=R,fa.longDateFormat=G,fa.invalidDate=K,fa.ordinal=X,fa.preparse=la,fa.postformat=la,fa.relativeTime=Z,fa.pastFuture=ee,fa.set=O,fa.eras=Ti,fa.erasParse=Ni,fa.erasConvertYear=Ci,fa.erasAbbrRegex=Mi,fa.erasNameRegex=Ri,fa.erasNarrowRegex=Li,fa.months=at,fa.monthsShort=ot,fa.monthsParse=st,fa.monthsRegex=dt,fa.monthsShortRegex=ht,fa.week=Et,fa.firstDayOfYear=Tt,fa.firstDayOfWeek=It,fa.weekdays=jt,fa.weekdaysMin=zt,fa.weekdaysShort=Vt,fa.weekdaysParse=qt,fa.weekdaysRegex=Yt,fa.weekdaysShortRegex=Kt,fa.weekdaysMinRegex=Qt,fa.isPM=tn,fa.meridiem=an,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var ba=Math.abs;function wa(){var e=this._data;return this._milliseconds=ba(this._milliseconds),this._days=ba(this._days),this._months=ba(this._months),e.milliseconds=ba(e.milliseconds),e.seconds=ba(e.seconds),e.minutes=ba(e.minutes),e.hours=ba(e.hours),e.months=ba(e.months),e.years=ba(e.years),this}function _a(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xa(e,t){return _a(this,e,t,1)}function Ea(e,t){return _a(this,e,t,-1)}function Sa(e){return e<0?Math.floor(e):Math.ceil(e)}function Ia(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Sa(Na(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=ce(a/1e3),s.seconds=e%60,t=ce(e/60),s.minutes=t%60,n=ce(t/60),s.hours=n%24,o+=ce(n/24),u+=i=ce(Ta(o)),o-=Sa(Na(i)),r=ce(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Ta(e){return 4800*e/146097}function Na(e){return 146097*e/4800}function Ca(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ta(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Na(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Aa=Da("ms"),Pa=Da("s"),Ra=Da("m"),Ma=Da("h"),La=Da("d"),Fa=Da("w"),Ua=Da("M"),ja=Da("Q"),Va=Da("y");function za(){return Tr(this)}function Ba(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=qa("milliseconds"),Ha=qa("seconds"),Ga=qa("minutes"),Ya=qa("hours"),Ka=qa("days"),Qa=qa("months"),$a=qa("years");function Xa(){return ce(this.days()/7)}var Ja=Math.round,Za={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function to(e,t,n,r){var i=Tr(e).abs(),a=Ja(i.as("s")),o=Ja(i.as("m")),u=Ja(i.as("h")),s=Ja(i.as("d")),c=Ja(i.as("M")),l=Ja(i.as("w")),f=Ja(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,eo.apply(null,h)}function no(e){return void 0===e?Ja:"function"===typeof e&&(Ja=e,!0)}function ro(e,t){return void 0!==Za[e]&&(void 0===t?Za[e]:(Za[e]=t,"s"===e&&(Za.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Za;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},Za,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=to(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=ao(this._milliseconds)/1e3,c=ao(this._days),l=ao(this._months),f=this.asSeconds();return f?(e=ce(s/60),t=ce(e/60),s%=60,e%=60,n=ce(l/12),l%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=oo(this._months)!==oo(f)?"-":"",o=oo(this._days)!==oo(f)?"-":"",u=oo(this._milliseconds)!==oo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var so=ar.prototype;return so.isValid=rr,so.abs=wa,so.add=xa,so.subtract=Ea,so.as=Ca,so.asMilliseconds=Aa,so.asSeconds=Pa,so.asMinutes=Ra,so.asHours=Ma,so.asDays=La,so.asWeeks=Fa,so.asMonths=Ua,so.asQuarters=ja,so.asYears=Va,so.valueOf=Oa,so._bubble=Ia,so.clone=za,so.get=Ba,so.milliseconds=Wa,so.seconds=Ha,so.minutes=Ga,so.hours=Ya,so.days=Ka,so.weeks=Xa,so.months=Qa,so.years=$a,so.humanize=io,so.toISOString=uo,so.toString=uo,so.toJSON=uo,so.locale=ai,so.localeData=ui,so.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),so.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ce),Re("X",Ae),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Kn),r.fn=ua,r.min=Jn,r.max=Zn,r.now=er,r.utc=p,r.unix=sa,r.months=va,r.isDate=f,r.locale=pn,r.invalid=g,r.duration=Tr,r.isMoment=x,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=or,r.monthsShort=ma,r.weekdaysMin=ka,r.defineLocale=vn,r.updateLocale=mn,r.locales=gn,r.weekdaysShort=ga,r.normalizeUnits=re,r.relativeTimeRounding=no,r.relativeTimeThreshold=ro,r.calendarFormat=Vr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,S=60108,I=60114,T=60109,N=60110,C=60112,O=60113,D=60120,A=60115,P=60116,R=60121,M=60128,L=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),x=j("react.portal"),E=j("react.fragment"),S=j("react.strict_mode"),I=j("react.profiler"),T=j("react.provider"),N=j("react.context"),C=j("react.forward_ref"),O=j("react.suspense"),D=j("react.suspense_list"),A=j("react.memo"),P=j("react.lazy"),R=j("react.block"),j("react.scope"),M=j("react.opaque.id"),L=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return Y(e.type);case R:return Y(e._render);case P:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ne=null,Ce=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function De(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function Ae(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Pe,Fe=!1,Ue=!1;function je(){null===Ne&&null===Ce||(Me(),Ae())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ge=!1,Ye=null,Ke={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Nt=Tt("animationend"),Ct=Tt("animationiteration"),Ot=Tt("animationstart"),Dt=Tt("transitionend"),At=new Map,Pt=new Map,Rt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),At.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Lt):0!==(u&=a)&&(r=Ft(u),i=Lt)}else 0!==(a=n&~o)?(r=Ft(a),i=Lt):0!==u&&(r=Ft(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var Yt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Fe||Me();var i=Jt,a=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=a)||je()}}function Xt(e,t,n,r){Kt(Yt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Nn(){return Tn}var Cn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=sn(Cn),Dn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Rn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Kn(e,t,n,r){De(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Xn(e){Cr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),$n=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Kn(t,$n,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Rt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ge||(Ge=!0,Ye=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,c),a=s}}}if(Ge)throw e=Ye,Ge=!1,Ye=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Le(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=At.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=On;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Nt:case Ct:case Ot:s=bn;break;case Dt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Yn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Yn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Y(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ni=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Oi=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Ai=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ci?Ci:function(){},ji=null,Vi=null,zi=!1,Bi=Oi(),qi=1e4>Bi?Oi:function(){return Oi()-Bi};function Wi(){switch(Di()){case Ai:return 99;case Pi:return 98;case Ri:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ri;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Gi(e,t){return e=Hi(e),Si(e,t)}function Yi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Ai,Ki),n}finally{zi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Ys(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ks(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ys(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xs(t,e.mode,n)).return=e,t}if(_a(t)||B(t))return(t=Ks(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Ks(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ys(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Y(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Na={},Ca=ci(Na),Oa=ci(Na),Da=ci(Na);function Aa(e){if(e===Na)throw Error(o(174));return e}function Pa(e,t){switch(fi(Da,t),fi(Oa,e),fi(Ca,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function Ra(){li(Ca),li(Oa),li(Da)}function Ma(e){Aa(Da.current);var t=Aa(Ca.current),n=pe(t,e.type);t!==n&&(fi(Oa,e),fi(Ca,n))}function La(e){Oa.current===e&&(li(Ca),li(Oa))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Kr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);Ba(ja,n)}ja=e,Va=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ga(e){if(e!==ja)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Kr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Kr(e.stateNode.nextSibling):null;return!0}function Ya(){Va=ja=null,za=!1}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Mo,e=n(r,i)}while(ro)}if($a.current=Ao,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Do.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=Wi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ao={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:No,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:No,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ys(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Yo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Ko,Qo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Ks(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Ks(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Aa(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Aa(Ca.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Or(Ir[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,u),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Or("invalid",r);break;case"textarea":se(r,u),Or("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ko(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Or(Ir[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Or("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Or("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Or("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Aa(Da.current),Aa(Ca.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&zu)&&0===(134217727&Bu)||gs(Pu,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Aa(Ca.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Eu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Nu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Ou=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Au=0,Pu=null,Ru=null,Mu=0,Lu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Hu=0,Gu=1/0;function Yu(){Gu=qi()+500}var Ku,Qu=null,$u=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Au)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Au)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(Bu|=t,4===Uu&&gs(e,Mu));var r=Wi();1===t?0!==(8&Au)&&0===(48&Au)?ks(e):(ms(e,n),0===Au&&(Yu(),Ki())):(0===(4&Au)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Mu:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ii(Ai,Qi)):ji.push(n),n=Fi):14===t?n=Yi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Yi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Au))throw Error(o(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Mu:0);if(0===n)return null;var r=n,i=Au;Au|=16;var a=Is();for(Pu===e&&Mu===r||(Yu(),Es(e,r));;)try{Cs();break}catch(s){Ss(e,s)}if(na(),Ou.current=a,Au=i,null!==Ru?r=0:(Pu=null,Mu=0,r=Uu),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Au|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:As(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(As.bind(null,e),r);break}As(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Hr(As.bind(null,e),n);break}As(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Au))throw Error(o(327));if(Ms(),e===Pu&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Au|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e),ms(e,qi()),null}function bs(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Yu(),Ki())}}function ws(e,t){var n=Au;Au&=-2,Au|=8;try{return e(t)}finally{0===(Au=n)&&(Yu(),Ki())}}function _s(e,t){fi(Fu,Lu),Lu|=t,Vu|=t}function xs(){Lu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Ra();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Pu=e,Ru=Gs(e.current,null),Mu=Lu=Vu=t,Uu=0,ju=null,qu=Bu=zu=0}function Ss(e,t){for(;;){var n=Ru;try{if(na(),$a.current=Ao,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Du.current=null,null===n||null===n.return){Uu=1,ju=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((Y(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ju||!Ju.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(x){t=x,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Is(){var e=Ou.current;return Ou.current=Ao,null===e?Ao:e}function Ts(e,t){var n=Au;Au|=16;var r=Is();for(Pu===e&&Mu===t||Es(e,t);;)try{Ns();break}catch(i){Ss(e,i)}if(na(),Au=n,Ou.current=r,null!==Ru)throw Error(o(261));return Pu=null,Mu=0,Uu}function Ns(){for(;null!==Ru;)Os(Ru)}function Cs(){for(;null!==Ru&&!Ni();)Os(Ru)}function Os(e){var t=Ku(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Ru=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Uu&&(Uu=5)}function As(e){var t=Wi();return Gi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ms()}while(null!==es);if(0!==(48&Au))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ru=Pu=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Au,Au|=32,Du.current=null,zr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Rs()}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Qu),Qu.flags&=-3;break;case 6:_u(Qu),Qu.flags&=-3,Iu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Iu(Qu.alternate,Qu);break;case 4:Iu(Qu.alternate,Qu);break;case 8:Su(u,s=Qu);var _=s.alternate;bu(s),null!==_&&bu(_)}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!zr,Br=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var x=Qu.flags;if(36&x&&yu(k,Qu.alternate,Qu),128&x){b=void 0;var E=Qu.ref;if(null!==E){var S=Qu.stateNode;Qu.tag,b=S,"function"===typeof E?E(b):E.current=b}}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Ui(),Au=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((x=Qu).sibling=null,x.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(ms(e,qi()),$u)throw $u=!1,e=Xu,Xu=null,e;return 0!==(8&Au)||Ki(),null}function Rs(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Nu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Yi(97,(function(){return Ms(),null}))),Qu=Qu.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Us)}return!1}function Ls(e,t){ns.push(t,e),Zu||(Zu=!0,Yi(97,(function(){return Ms(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Yi(97,(function(){return Ms(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Au))throw Error(o(331));var t=Au;Au|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Au=t,Ki(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Mu&n)===n&&(4===Uu||3===Uu&&(62914560&Mu)===Mu&&500>qi()-Hu?Es(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Ks(n.children,i,a,t);case L:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=Ws(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case O:return(e=Ws(13,n,t,i)).type=O,e.elementType=O,e.lanes=a,e;case D:return(e=Ws(19,n,t,i)).elementType=D,e.lanes=a,e;case F:return Qs(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case N:u=9;break e;case C:u=11;break e;case A:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ks(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function $s(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Ku=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Yo(t),Ya();break;case 5:Ma(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Yo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Kr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ya();t=t.child}return t;case 5:return Ma(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,Re=function(e,t,n,r,i){var a=Au;Au|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Au=a)&&(Yu(),Ki())}},Me=function(){0===(49&Au)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Ki()}(),Ms())},Le=function(e,t){var n=Au;Au|=2;try{return e(t)}finally{0===(Au=n)&&(Yu(),Ki())}};var sc={Events:[ri,ii,ai,De,Ae,Ms,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Au;if(0!==(48&n))return e(t);Au|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Au=n,Ki()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},479:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.fill)&&void 0!==n?n:"#fff",l=null!==(i=e.stroke)&&void 0!==i?i:"transparent",f=e.fillOpacity,h=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:80,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:55}),{viewBox:"0 0 55 80"}),a.default.createElement("g",{transform:"matrix(1 0 0 -1 0 80)"},a.default.createElement("rect",r({width:10,height:20,rx:3},{fill:c,stroke:l,fillOpacity:f,strokeOpacity:h}),a.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(4.3/s,"s"),values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:15,width:10,height:80,rx:3},{fill:c,stroke:l,fillOpacity:f,strokeOpacity:h}),a.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(2/s,"s"),values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:30,width:10,height:50,rx:3},{fill:c,stroke:l,fillOpacity:f,strokeOpacity:h}),a.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(1.4/s,"s"),values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:45,width:10,height:30,rx:3},{fill:c,stroke:l,fillOpacity:f,strokeOpacity:h}),a.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(2/s,"s"),values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}))))}},843:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=e.fill,c=null!==(n=e.stroke)&&void 0!==n?n:"#fff",l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:57,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:57}),{viewBox:"0 0 57 57"}),a.default.createElement("g",{transform:"translate(1 1)",strokeWidth:2,fill:"none",fillRule:"evenodd"},a.default.createElement("circle",r({cx:5,cy:50,r:5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/u,"s"),values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"cx",begin:"0s",dur:"".concat(2.2/u,"s"),values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:27,cy:5,r:5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/u,"s"),from:5,to:5,values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"cx",begin:"0s",dur:"".concat(2.2/u,"s"),from:27,to:27,values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:49,cy:50,r:5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"".concat(2.2/u,"s"),values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"cx",from:49,to:49,begin:"0s",dur:"".concat(2.2/u,"s"),values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}))))}},332:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=null!==(n=e.fill)&&void 0!==n?n:"#fff",c=e.stroke,l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:140,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:135}),{viewBox:"0 0 135 140"}),a.default.createElement("rect",r({y:10,width:15,height:120,rx:6},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"".concat(1/u,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"".concat(1/u,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:30,y:10,width:15,height:120,rx:6},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"".concat(1/u,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"".concat(1/u,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:60,width:15,height:140,rx:6},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"".concat(1/u,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"y",begin:"0s",dur:"".concat(1/u,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:90,y:10,width:15,height:120,rx:6},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"".concat(1/u,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"".concat(1/u,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("rect",r({x:120,y:10,width:15,height:120,rx:6},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"".concat(1/u,"s"),values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"".concat(1/u,"s"),values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}},367:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=null!==(n=e.fill)&&void 0!==n?n:"#fff",c=e.stroke,l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:135,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:135}),{viewBox:"0 0 135 135"}),a.default.createElement("path",r({d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"".concat(2.5/u,"s"),repeatCount:"indefinite"})),a.default.createElement("path",r({d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"".concat(8/u,"s"),repeatCount:"indefinite"})))}},963:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=null!==(n=e.fill)&&void 0!==n?n:"#fff",c=e.stroke,l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:105,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:105}),{viewBox:"0 0 105 105"}),a.default.createElement("circle",r({cx:12.5,cy:12.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:12.5,cy:52.5,r:12.5,fillOpacity:null!==l&&void 0!==l?l:.5},{fill:s,stroke:c,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:52.5,cy:12.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:52.5,cy:52.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:92.5,cy:12.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:92.5,cy:52.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:12.5,cy:92.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:52.5,cy:92.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:92.5,cy:92.5,r:12.5},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"".concat(1/u,"s"),values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})))}},208:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.fill)&&void 0!==n?n:"#fff",l=e.stroke,f=null!==(i=e.fillOpacity)&&void 0!==i?i:.5;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:64,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:140}),{viewBox:"0 0 140 64"}),a.default.createElement("path",r({d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z",fillOpacity:f},{fill:c,stroke:l}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.4/s,"s"),values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("path",r({d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z",fillOpacity:f},{fill:c,stroke:l}),a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"".concat(1.4/s,"s"),values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("path",r({d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"},{fill:c,stroke:l})))}},544:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.stroke)&&void 0!==n?n:"#fff",l=null!==(i=e.strokeWidth)&&void 0!==i?i:2,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:38,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:38}),{viewBox:"0 0 38 38",overflow:"visible"}),a.default.createElement("g",r({transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},{stroke:c,strokeWidth:l,strokeOpacity:f}),a.default.createElement("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),a.default.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(1/s,"s"),repeatCount:"indefinite"}))))}},953:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.stroke)&&void 0!==n?n:"#fff",l=null!==(i=e.strokeWidth)&&void 0!==i?i:2,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:44,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:44}),{viewBox:"0 0 44 44"}),a.default.createElement("g",r({fill:"none",fillRule:"evenodd"},{stroke:c,strokeWidth:l,strokeOpacity:f}),a.default.createElement("circle",{cx:22,cy:22,r:1},a.default.createElement("animate",{attributeName:"r",begin:"0s",dur:"".concat(1.8/s,"s"),values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"".concat(1.8/s,"s"),values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:22,cy:22,r:1},a.default.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"".concat(1.8/s,"s"),values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"".concat(1.8/s,"s"),values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},25:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.stroke)&&void 0!==n?n:"#fff",l=null!==(i=e.strokeWidth)&&void 0!==i?i:2,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:45,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:45}),{viewBox:"0 0 45 45"}),a.default.createElement("g",r({fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},{stroke:c,strokeWidth:l,strokeOpacity:f}),a.default.createElement("circle",{cx:22,cy:22,r:6},a.default.createElement("animate",{attributeName:"r",begin:"1.5s",dur:"".concat(3/s,"s"),values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"".concat(3/s,"s"),values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"".concat(3/s,"s"),values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:22,cy:22,r:6},a.default.createElement("animate",{attributeName:"r",begin:"3s",dur:"".concat(3/s,"s"),values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"".concat(3/s,"s"),values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"stroke-width",begin:"3s",dur:"".concat(3/s,"s"),values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:22,cy:22,r:8},a.default.createElement("animate",{attributeName:"r",begin:"0s",dur:"".concat(1.5/s,"s"),values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"}))))}},990:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=null!==(n=e.fill)&&void 0!==n?n:"#fff",c=e.stroke,l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:58,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:58}),{viewBox:"0 0 58 58"}),a.default.createElement("g",r({transform:"translate(2 1)",fillRule:"evenodd"},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("circle",{cx:42.601,cy:11.462,r:5},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:49.063,cy:27.063,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:42.601,cy:42.663,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:27,cy:49.125,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:11.399,cy:42.663,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:4.938,cy:27.063,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:11.399,cy:11.462,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",{cx:27,cy:5,r:5,fillOpacity:0},a.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"".concat(1.3/u,"s"),values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"}))))}},639:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u,s=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),c=null!==(n=e.stroke)&&void 0!==n?n:"#fff",l=null!==(i=e.strokeWidth)&&void 0!==i?i:2,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(o=e.height)&&void 0!==o?o:38,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(u=e.width)&&void 0!==u?u:38}),{viewBox:"0 0 38 38"}),a.default.createElement("defs",null,a.default.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"prefix__a"},a.default.createElement("stop",{stopOpacity:0,offset:"0%"}),a.default.createElement("stop",{stopOpacity:.631,offset:"63.146%"}),a.default.createElement("stop",{offset:"100%"}))),a.default.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},a.default.createElement("path",r({d:"M36 18c0-9.94-8.06-18-18-18"},{stroke:c,strokeWidth:l,strokeOpacity:f}),a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(.9/s,"s"),repeatCount:"indefinite"})),a.default.createElement("circle",{cx:36,cy:18,r:1},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"".concat(.9/s,"s"),repeatCount:"indefinite"}))))}},602:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(791));t.default=function(e){var t,n,i,o,u=Number(String(null!==(t=e.speed)&&void 0!==t?t:1)),s=null!==(n=e.fill)&&void 0!==n?n:"#fff",c=e.stroke,l=e.fillOpacity,f=e.strokeOpacity;return a.default.createElement("svg",r({},r(r({},e),{className:e.className?"icon-loading ".concat(e.className):"icon-loading",fill:void 0,fillOpacity:void 0,height:null!==(i=e.height)&&void 0!==i?i:30,speed:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,width:null!==(o=e.width)&&void 0!==o?o:120}),{viewBox:"0 0 120 30"}),a.default.createElement("circle",r({cx:15,cy:15,r:15},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"".concat(.8/u,"s"),values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"".concat(.8/u,"s"),values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:60,cy:15,r:9,fillOpacity:null!==l&&void 0!==l?l:.3},{fill:s,stroke:c,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"r",from:9,to:9,begin:"0s",dur:"".concat(.8/u,"s"),values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"fill-opacity",from:.5,to:.5,begin:"0s",dur:"".concat(.8/u,"s"),values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),a.default.createElement("circle",r({cx:105,cy:15,r:15},{fill:s,stroke:c,fillOpacity:l,strokeOpacity:f}),a.default.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"".concat(.8/u,"s"),values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a.default.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"".concat(.8/u,"s"),values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},987:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeDots=t.TailSpin=t.SpinningCircles=t.Rings=t.Puff=t.Oval=t.Hearts=t.Grid=t.Circles=t.Bars=t.BallTriangle=t.Audio=void 0;var i=r(n(479)),a=r(n(843)),o=r(n(332)),u=r(n(367)),s=r(n(963)),c=r(n(208)),l=r(n(544)),f=r(n(953)),h=r(n(25)),d=r(n(990)),p=r(n(639)),v=r(n(602));t.Audio=i.default,t.BallTriangle=a.default,t.Bars=o.default,t.Circles=u.default,t.Grid=s.default,t.Hearts=c.default,t.Oval=l.default,t.Puff=f.default,t.Rings=h.default,t.SpinningCircles=d.default,t.TailSpin=p.default,t.ThreeDots=v.default;var m={Audio:t.Audio,BallTriangle:t.BallTriangle,Bars:t.Bars,Circles:t.Circles,Grid:t.Grid,Hearts:t.Hearts,Oval:t.Oval,Puff:t.Puff,Rings:t.Rings,SpinningCircles:t.SpinningCircles,TailSpin:t.TailSpin,ThreeDots:t.ThreeDots};t.default=m},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function D(){var e=O.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],N=1,C=null,O=3,D=!1,A=!1,P=!1;function R(e){for(var t=x(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,_(I,t)}t=x(T)}}function M(e){if(P=!1,R(e),!A)if(null!==x(I))A=!0,n(L);else{var t=x(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){A=!1,P&&(P=!1,i()),D=!0;var a=O;try{for(R(n),C=x(I);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,O=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===x(I)&&E(I),R(n)}else E(I);C=x(I)}if(null!==C)var s=!0;else{var c=x(T);null!==c&&r(M,c.startTime-n),s=!1}return s}finally{C=null,O=a,D=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return x(I)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:N++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(T,e),null===x(I)&&e===x(T)&&(P?i():P=!0,r(M,o-u))):(e.sortIndex=s,_(I,e),A||D||(A=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},53:function(e,t,n){"use strict";e.exports=n.p+"static/media/hero1.6ad3f21eb02d13a546b3.png"},447:function(e,t,n){"use strict";e.exports=n.p+"static/media/hero2.71598ffa590539418d14.png"},338:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.cc59f4a291dd7ad9367f.png"},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(T([])));k&&k!==n&&a.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,u,s){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,l(b,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".621ad75c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="discord-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/discord-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdiscord_clone=self.webpackChunkdiscord_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return z},SDK_VERSION:function(){return ze},_DEFAULT_ENTRY_NAME:function(){return Ne},_addComponent:function(){return Ae},_addOrOverwriteComponent:function(){return Pe},_apps:function(){return Oe},_clearComponents:function(){return Fe},_components:function(){return De},_getProvider:function(){return Me},_registerComponent:function(){return Re},_removeServiceInstance:function(){return Le},deleteApp:function(){return He},getApp:function(){return qe},getApps:function(){return We},initializeApp:function(){return Be},onLog:function(){return Ke},registerVersion:function(){return Ye},setLogLevel:function(){return Qe}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}var c=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function _(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function x(e,t,n){return x=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},E(e)}var S=n(687),I=n.n(S),T=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},C=function(e){return function(e){var t=T(e);return N.encodeByteArray(t,!0)}(e).replace(/\./g,"")},O=function(e){try{return N.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function D(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=D(e[n],t[n]));return e}var A=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return d(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function P(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[C(JSON.stringify({alg:"none",type:"JWT"})),C(JSON.stringify(a)),""].join(".")}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function L(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function F(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function U(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function j(){var e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function V(){return"object"===typeof indexedDB}var z=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(v(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(v(a),B.prototype.create),a}return d(n)}(E(Error)),B=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return d(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?q(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new z(n,a,t);return o}}]),e}();function q(e,t){return e.replace(W,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var W=/\{\$([^}]+)}/g;function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Y(u)&&Y(s)){if(!G(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Y(e){return null!==e&&"object"===typeof e}function K(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function X(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return d(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=p(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Z),void 0===r.error&&(r.error=Z),void 0===r.complete&&(r.complete=Z);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Z(){}function ee(e){return e&&e._delegate?e._delegate:e}function te(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ne=function(){function e(t){f(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return d(e,[{key:"transaction",value:function(e,t){return new re(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ie(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),re=function(){function e(t){var n=this;f(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return d(e,[{key:"objectStore",value:function(e){return new ie(this._transaction.objectStore(e))}}]),e}(),ie=function(){function e(t){f(this,e),this._store=t}return d(e,[{key:"index",value:function(e){return new ae(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ae(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return te(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return te(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return te(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return te(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ae=function(){function e(t){f(this,e),this._index=t}return d(e,[{key:"get",value:function(e){return te(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function oe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ue(e){return function(e){if(Array.isArray(e))return a(e)}(e)||oe(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){se(a,r,i,o,u,"next",e)}function u(e){se(a,r,i,o,u,"throw",e)}o(void 0)}))}}var le=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return d(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),fe="[DEFAULT]",he=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return d(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new A;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(c){}var t,n=p(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ce(S.mark((function e(){var t;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ue(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ue(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=p(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ub){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===fe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ub){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return this.component?this.component.multipleInstances?e:fe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var de,pe,ve=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return d(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new he(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),me=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pe||(pe={}));var ye,ge,ke={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},be=pe.INFO,we=(l(de={},pe.DEBUG,"log"),l(de,pe.VERBOSE,"log"),l(de,pe.INFO,"info"),l(de,pe.WARN,"warn"),l(de,pe.ERROR,"error"),de),_e=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=we[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xe=function(){function e(t){f(this,e),this.name=t,this._logLevel=be,this._logHandler=_e,this._userLogHandler=null,me.push(this)}return d(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in pe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ke[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pe.DEBUG].concat(t)),this._logHandler.apply(this,[this,pe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,pe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pe.INFO].concat(t)),this._logHandler.apply(this,[this,pe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pe.WARN].concat(t)),this._logHandler.apply(this,[this,pe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pe.ERROR].concat(t)),this._logHandler.apply(this,[this,pe.ERROR].concat(t))}}]),e}();var Ee=function(){function e(t){f(this,e),this.container=t}return d(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Se="@firebase/app",Ie="0.7.19",Te=new xe("@firebase/app"),Ne="[DEFAULT]",Ce=(l(ye={},Se,"fire-core"),l(ye,"@firebase/app-compat","fire-core-compat"),l(ye,"@firebase/analytics","fire-analytics"),l(ye,"@firebase/analytics-compat","fire-analytics-compat"),l(ye,"@firebase/app-check","fire-app-check"),l(ye,"@firebase/app-check-compat","fire-app-check-compat"),l(ye,"@firebase/auth","fire-auth"),l(ye,"@firebase/auth-compat","fire-auth-compat"),l(ye,"@firebase/database","fire-rtdb"),l(ye,"@firebase/database-compat","fire-rtdb-compat"),l(ye,"@firebase/functions","fire-fn"),l(ye,"@firebase/functions-compat","fire-fn-compat"),l(ye,"@firebase/installations","fire-iid"),l(ye,"@firebase/installations-compat","fire-iid-compat"),l(ye,"@firebase/messaging","fire-fcm"),l(ye,"@firebase/messaging-compat","fire-fcm-compat"),l(ye,"@firebase/performance","fire-perf"),l(ye,"@firebase/performance-compat","fire-perf-compat"),l(ye,"@firebase/remote-config","fire-rc"),l(ye,"@firebase/remote-config-compat","fire-rc-compat"),l(ye,"@firebase/storage","fire-gcs"),l(ye,"@firebase/storage-compat","fire-gcs-compat"),l(ye,"@firebase/firestore","fire-fst"),l(ye,"@firebase/firestore-compat","fire-fst-compat"),l(ye,"fire-js","fire-js"),l(ye,"firebase","fire-js-all"),ye),Oe=new Map,De=new Map;function Ae(e,t){try{e.container.addComponent(t)}catch(n){Te.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pe(e,t){e.container.addOrOverwriteComponent(t)}function Re(e){var t=e.name;if(De.has(t))return Te.debug("There were multiple attempts to register component ".concat(t,".")),!1;De.set(t,e);var n,r=p(Oe.values());try{for(r.s();!(n=r.n()).done;){Ae(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Me(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne;Me(e,t).clearInstance(n)}function Fe(){De.clear()}var Ue=(l(ge={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(ge,"bad-app-name","Illegal App name: '{$appName}"),l(ge,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(ge,"app-deleted","Firebase App named '{$appName}' already deleted"),l(ge,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(ge,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(ge,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),l(ge,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),l(ge,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),l(ge,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ge),je=new B("app","Firebase",Ue),Ve=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new le("app",(function(){return i}),"PUBLIC"))}return d(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw je.create("app-deleted",{appName:this._name})}}]),e}(),ze="9.6.9";function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw je.create("bad-app-name",{appName:String(i)});var a=Oe.get(i);if(a){if(G(e,a.options)&&G(r,a.config))return a;throw je.create("duplicate-app",{appName:i})}var o,u=new ve(i),s=p(De.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ve(e,r,u);return Oe.set(i,l),l}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=Oe.get(e);if(!t)throw je.create("no-app",{appName:e});return t}function We(){return Array.from(Oe.values())}function He(e){return Ge.apply(this,arguments)}function Ge(){return Ge=ce(S.mark((function e(t){var n;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Oe.has(n)){e.next=6;break}return Oe.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ge.apply(this,arguments)}function Ye(e,t,n){var r,i=null!==(r=Ce[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Te.warn(u.join(" "))}Re(new le("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ke(e,t){if(null!==e&&"function"!==typeof e)throw je.create("invalid-log-argument");!function(e,t){var n,r=p(me);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ke[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:pe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Qe(e){var t;t=e,me.forEach((function(e){e.setLogLevel(t)}))}var $e="firebase-heartbeat-store",Xe=null;function Je(){var e,t,n;return Xe||(Xe=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore($e)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ne(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ne(a.result),e.oldVersion,e.newVersion,new re(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw je.create("storage-open",{originalErrorMessage:e.message})}))),Xe}function Ze(e){return et.apply(this,arguments)}function et(){return et=ce(S.mark((function e(t){var n;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je();case 3:return n=e.sent,e.abrupt("return",n.transaction($e).objectStore($e).get(rt(t)));case 7:throw e.prev=7,e.t0=e.catch(0),je.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),et.apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return nt=ce(S.mark((function e(t,n){var r,i,a;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je();case 3:return r=e.sent,i=r.transaction($e,"readwrite"),a=i.objectStore($e),e.next=8,a.put(n,rt(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),je.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),nt.apply(this,arguments)}function rt(e){return"".concat(e.name,"!").concat(e.options.appId)}var it=function(){function e(t){var n=this;f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ct(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return d(e,[{key:"triggerHeartbeat",value:function(){var e=ce(S.mark((function e(){var t,n,r;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=at(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ce(S.mark((function e(){var t,n,r,i,a;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=at(),n=ot(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=C(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function at(){return(new Date).toISOString().substring(0,10)}function ot(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=p(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),lt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),lt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ut,st,ct=function(){function e(t){f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return d(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ce(S.mark((function e(){return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ce(S.mark((function e(){var t;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ze(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ce(S.mark((function e(t){var n,r;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",tt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ce(S.mark((function e(t){var n,r;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",tt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ue(r.heartbeats),ue(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function lt(e){return C(JSON.stringify({version:2,heartbeats:e})).length}ut="",Re(new le("platform-logger",(function(e){return new Ee(e)}),"PRIVATE")),Re(new le("heartbeat",(function(e){return new it(e)}),"PRIVATE")),Ye(Se,Ie,ut),Ye(Se,Ie,"esm2017"),Ye("fire-js","");var ft=function(){function e(t,n){var r=this;f(this,e),this._delegate=t,this.firebase=n,Ae(t,new le("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return d(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),He(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ae(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pe(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ht=(l(st={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(st,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),st),dt=new B("app-compat","Firebase",ht);var pt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Be(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(H(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ye,setLogLevel:Qe,onLog:Ke,apps:null,SDK_VERSION:ze,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Re(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw dt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&D(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!H(n,e=e||Ne))throw dt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ft);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){D(n,e)},createSubscribe:X,ErrorFactory:B,deepExtend:D}),n}(),vt=new xe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&vt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yt=pt;!function(e){Ye("@firebase/app-compat","0.1.20",e)}();function gt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function kt(){return kt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kt.apply(this,arguments)}yt.registerVersion("firebase","9.6.9","app-compat");function bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function wt(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var _t;Object.create;var xt="facebook.com",Et="github.com",St="google.com",It="password",Tt="twitter.com",Nt="EMAIL_SIGNIN",Ct="PASSWORD_RESET",Ot="RECOVER_EMAIL",Dt="REVERT_SECOND_FACTOR_ADDITION",At="VERIFY_AND_CHANGE_EMAIL",Pt="VERIFY_EMAIL";function Rt(){return l({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Mt=function(){var e;return l(e={},"admin-restricted-operation","This operation is restricted to administrators only."),l(e,"argument-error",""),l(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),l(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),l(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),l(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),l(e,"cordova-not-ready","Cordova framework is not ready."),l(e,"cors-unsupported","This browser is not supported."),l(e,"credential-already-in-use","This credential is already associated with a different user account."),l(e,"custom-token-mismatch","The custom token corresponds to a different audience."),l(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),l(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),l(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),l(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),l(e,"email-already-in-use","The email address is already in use by another account."),l(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),l(e,"expired-action-code","The action code has expired."),l(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),l(e,"internal-error","An internal AuthError has occurred."),l(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),l(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),l(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),l(e,"invalid-auth-event","An internal AuthError has occurred."),l(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),l(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),l(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),l(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),l(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),l(e,"invalid-email","The email address is badly formatted."),l(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),l(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),l(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),l(e,"invalid-credential","The supplied auth credential is malformed or has expired."),l(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),l(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),l(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),l(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),l(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),l(e,"wrong-password","The password is invalid or the user does not have a password."),l(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),l(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),l(e,"invalid-provider-id","The specified provider ID is invalid."),l(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),l(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),l(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),l(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),l(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),l(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),l(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),l(e,"missing-continue-uri","A continue URL must be provided in the request."),l(e,"missing-iframe-start","An internal AuthError has occurred."),l(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),l(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),l(e,"missing-multi-factor-info","No second factor identifier is provided."),l(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),l(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),l(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),l(e,"app-deleted","This instance of FirebaseApp has been deleted."),l(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),l(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),l(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),l(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),l(e,"no-auth-event","An internal AuthError has occurred."),l(e,"no-such-provider","User was not linked to an account with the given provider."),l(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),l(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),l(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),l(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),l(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),l(e,"provider-already-linked","User can only be linked to one identity for the given provider."),l(e,"quota-exceeded","The project's quota for this operation has been exceeded."),l(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),l(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),l(e,"rejected-credential","The request contains malformed or mismatching credentials."),l(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),l(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),l(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),l(e,"timeout","The operation has timed out."),l(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),l(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),l(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),l(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),l(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),l(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),l(e,"unverified-email","The operation requires a verified email."),l(e,"user-cancelled","The user did not grant your application the permissions it requested."),l(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),l(e,"user-disabled","The user account has been disabled by an administrator."),l(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),l(e,"user-signed-out",""),l(e,"weak-password","The password must be 6 characters long or more."),l(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),l(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Lt=Rt,Ft=new B("auth","Firebase",Rt()),Ut=new xe("@firebase/auth");function jt(e){if(Ut.logLevel<=pe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ut.error.apply(Ut,["Auth (".concat(ze,"): ").concat(e)].concat(n))}}function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wt.apply(void 0,[e].concat(n))}function zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wt.apply(void 0,[e].concat(n))}function Bt(e,t,n){var r=Object.assign(Object.assign({},Lt()),l({},t,n));return new B("auth","Firebase",r).create(t,{appName:e.name})}function qt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vt(e,"argument-error"),Bt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ue(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ue(o)))}return Ft.create.apply(Ft,[e].concat(n))}function Ht(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wt.apply(void 0,[t].concat(r))}}function Gt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function Yt(e,t){e||Gt(t)}var Kt=new Map;function Qt(e){Yt(e instanceof Function,"Expected a class definition");var t=Kt.get(e);return t?(Yt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kt.set(e,t),t)}function $t(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Zt=function(){function e(t,n){f(this,e),this.shortDelay=t,this.longDelay=n,Yt(n>t,"Short delay should be less than long delay!"),this.isMobile=M()||U()}return d(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xt()||F()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function en(e,t){Yt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var tn=function(){function e(){f(this,e)}return d(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),nn=(l(_t={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),l(_t,"MISSING_CUSTOM_TOKEN","internal-error"),l(_t,"INVALID_IDENTIFIER","invalid-email"),l(_t,"MISSING_CONTINUE_URI","internal-error"),l(_t,"INVALID_PASSWORD","wrong-password"),l(_t,"MISSING_PASSWORD","internal-error"),l(_t,"EMAIL_EXISTS","email-already-in-use"),l(_t,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),l(_t,"INVALID_IDP_RESPONSE","invalid-credential"),l(_t,"INVALID_PENDING_TOKEN","invalid-credential"),l(_t,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),l(_t,"MISSING_REQ_TYPE","internal-error"),l(_t,"EMAIL_NOT_FOUND","user-not-found"),l(_t,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),l(_t,"EXPIRED_OOB_CODE","expired-action-code"),l(_t,"INVALID_OOB_CODE","invalid-action-code"),l(_t,"MISSING_OOB_CODE","internal-error"),l(_t,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),l(_t,"INVALID_ID_TOKEN","invalid-user-token"),l(_t,"TOKEN_EXPIRED","user-token-expired"),l(_t,"USER_NOT_FOUND","user-token-expired"),l(_t,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),l(_t,"INVALID_CODE","invalid-verification-code"),l(_t,"INVALID_SESSION_INFO","invalid-verification-id"),l(_t,"INVALID_TEMPORARY_PROOF","invalid-credential"),l(_t,"MISSING_SESSION_INFO","missing-verification-id"),l(_t,"SESSION_EXPIRED","code-expired"),l(_t,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),l(_t,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),l(_t,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),l(_t,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),l(_t,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),l(_t,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),l(_t,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),l(_t,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),l(_t,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),l(_t,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),l(_t,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),_t),rn=new Zt(3e4,6e4);function an(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function on(e,t,n,r){return un.apply(this,arguments)}function un(){return un=ce(I().mark((function e(t,n,r,i){var a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",sn(t,a,ce(I().mark((function e(){var a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=K(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",tn.fetch()(hn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}function sn(e,t,n){return cn.apply(this,arguments)}function cn(){return cn=ce(I().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},nn),n),e.prev=2,a=new dn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw pn(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw pn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw pn(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Bt(t,p,d);case 30:Vt(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof z)){e.next=37;break}throw e.t0;case 37:Vt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),cn.apply(this,arguments)}function ln(e,t,n,r){return fn.apply(this,arguments)}function fn(){return fn=ce(I().mark((function e(t,n,r,i){var a,o,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,on(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}function hn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?en(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var dn=function(){function e(t){var n=this;f(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zt(n.auth,"network-request-failed"))}),rn.get())}))}return d(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zt(e,t,r);return i.customData._tokenResponse=n,i}function vn(e,t){return mn.apply(this,arguments)}function mn(){return mn=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function yn(e,t){return gn.apply(this,arguments)}function gn(){return gn=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function kn(e,t){return bn.apply(this,arguments)}function bn(){return bn=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function wn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _n(){return _n=ce(I().mark((function e(t){var n,r,i,a,o,u,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ee(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ht((a=En(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wn(xn(a.auth_time)),issuedAtTime:wn(xn(a.iat)),expirationTime:wn(xn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function xn(e){return 1e3*Number(e)}function En(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return jt("JWT malformed, contained fewer than 3 sections"),null;try{var a=O(r);return a?JSON.parse(a):(jt("Failed to decode base64 JWT payload"),null)}catch(o){return jt("Caught error parsing JWT payload as JSON",o),null}}function Sn(e,t){return In.apply(this,arguments)}function In(){return In=ce(I().mark((function e(t,n){var r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof z&&Tn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),In.apply(this,arguments)}function Tn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Nn=function(){function e(t){f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return d(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cn=function(){function e(t,n){f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return d(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function On(e){return Dn.apply(this,arguments)}function Dn(){return Dn=ce(I().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Sn(t,kn(r,{idToken:i}));case 6:Ht(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Rn(o.providerUserInfo):[],s=Pn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function An(){return(An=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee(t),e.next=3,On(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ue(n),ue(t))}function Rn(e){return e.map((function(e){var t=e.providerId,n=bt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Mn(e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn(t,{},ce(I().mark((function e(){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=hn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",tn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}var Fn=function(){function e(){f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return d(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ht(e.idToken,"internal-error"),Ht("undefined"!==typeof e.idToken,"internal-error"),Ht("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=En(e);return Ht(t,"internal-error"),Ht("undefined"!==typeof t.exp,"internal-error"),Ht("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ce(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ht(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ht("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ht("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ht("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Un(e,t){Ht("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jn=function(){function e(t){f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ue(a.providerData):[],this.metadata=new Cn(a.createdAt||void 0,a.lastLoginAt||void 0)}return d(e,[{key:"getIdToken",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ht(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _n.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return An.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ce(I().mark((function e(t){var n,r,i=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,On(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Sn(this,vn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Ht(k&&x,t,"internal-error");var E=Fn.fromJSON(this.name,x);Ht("string"===typeof k,t,"internal-error"),Un(f,t.name),Un(h,t.name),Ht("boolean"===typeof b,t,"internal-error"),Ht("boolean"===typeof w,t,"internal-error"),Un(d,t.name),Un(p,t.name),Un(v,t.name),Un(m,t.name),Un(y,t.name),Un(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ce(I().mark((function t(n,r){var i,a,o,u=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Fn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,On(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Vn=function(){function e(){f(this,e),this.type="NONE",this.storage={}}return d(e,[{key:"_isAvailable",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Vn.type="NONE";var zn=Vn;function Bn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qn=function(){function e(t,n,r){f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return d(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ce(I().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,v,m=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Qt(zn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Qt(zn),u=Bn(i,n.config.apiKey,n.name),s=null,c=p(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=jn._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($n(t))return"Blackberry";if(Xn(t))return"Webos";if(Gn(t))return"Safari";if((t.includes("chrome/")||Yn(t))&&!t.includes("edge/"))return"Chrome";if(Qn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/firefox\//i.test(e)}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/crios\//i.test(e)}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/iemobile/i.test(e)}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/android/i.test(e)}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/blackberry/i.test(e)}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/webos/i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/iphone|ipad|ipod/i.test(e)}function Zn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return Jn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function er(){return j()&&10===document.documentMode}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return Jn(e)||Qn(e)||Xn(e)||$n(e)||/windows phone/i.test(e)||Kn(e)}function nr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wn(R());break;case"Worker":t="".concat(Wn(R()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ze,"/").concat(r)}var rr=function(){function e(t,n,r){f(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ar(this),this.idTokenSubscription=new ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return d(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Qt(t)),this._initializationPromise=this.queue(ce(I().mark((function r(){var i,a;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ce(I().mark((function e(t){var n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ht(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ee(t):null)&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ce(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Qt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new B("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ht(n=t&&Qt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qn.create(this,[Qt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ce(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ht(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ce(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ir(e){return ee(e)}var ar=function(){function e(t){var n=this;f(this,e),this.auth=t,this.observer=null,this.addObserver=X((function(e){return n.observer=e}))}return d(e,[{key:"next",get:function(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function or(e,t,n){var r=ir(e);Ht(r._canInitEmulator,r,"emulator-config-failed"),Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ur(t),o=function(e){var t=ur(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:sr(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:sr(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ur(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var cr=function(){function e(t,n){f(this,e),this.providerId=t,this.signInMethod=n}return d(e,[{key:"toJSON",value:function(){return Gt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gt("not implemented")}}]),e}();function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:resetPassword",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e,t){return vr.apply(this,arguments)}function vr(){return vr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function mr(e,t){return yr.apply(this,arguments)}function yr(){return yr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPassword",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(e,t){return kr.apply(this,arguments)}function kr(){return kr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:sendOobCode",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}function br(e,t){return wr.apply(this,arguments)}function wr(){return wr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gr(t,n));case 1:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function _r(e,t){return xr.apply(this,arguments)}function xr(){return xr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gr(t,n));case 1:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Er(e,t){return Sr.apply(this,arguments)}function Sr(){return Sr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gr(t,n));case 1:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function Ir(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gr(t,n));case 1:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Nr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithEmailLink",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Or(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithEmailLink",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}var Ar=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return d(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",mr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nr(t,{email:this._email,oobCode:this._password}));case 5:Vt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Or(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(cr);function Pr(e,t){return Rr.apply(this,arguments)}function Rr(){return Rr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithIdp",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}var Mr=function(e){y(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return d(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=K(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(cr);function Lr(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:sendVerificationCode",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Ur(){return Ur=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function jr(){return jr=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}var Vr=l({},"USER_NOT_FOUND","user-not-found");function zr(){return zr=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithPhoneNumber",an(t,r),Vr));case 2:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}var Br=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return d(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ur.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(cr);var qr=function(){function e(t){var n,r,i,a,o,u;f(this,e);var s=Q($(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ht(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return d(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Q($(e)).link,n=t?Q($(t)).deep_link_id:null,r=Q($(e)).deep_link_id;return(r?Q($(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ub){return null}}}]),e}();var Wr=function(){function e(){f(this,e),this.providerId=e.PROVIDER_ID}return d(e,null,[{key:"credential",value:function(e,t){return Ar._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qr.parseLink(t);return Ht(n,"argument-error"),Ar._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Wr.PROVIDER_ID="password",Wr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hr=function(){function e(t){f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return d(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Gr=function(e){y(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).scopes=[],e}return d(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ue(this.scopes)}}]),n}(Hr),Yr=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ht(e.idToken||e.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ht("providerId"in t&&"signInMethod"in t,"argument-error"),Mr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Gr),Kr=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"facebook.com")}return d(n,null,[{key:"credential",value:function(e){return Mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ub){return null}}}]),n}(Gr);Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kr.PROVIDER_ID="facebook.com";var Qr=function(e){y(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return d(n,null,[{key:"credential",value:function(e,t){return Mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ub){return null}}}]),n}(Gr);Qr.GOOGLE_SIGN_IN_METHOD="google.com",Qr.PROVIDER_ID="google.com";var $r=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"github.com")}return d(n,null,[{key:"credential",value:function(e){return Mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ub){return null}}}]),n}(Gr);$r.GITHUB_SIGN_IN_METHOD="github.com",$r.PROVIDER_ID="github.com";var Xr=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return d(n,[{key:"_getIdTokenResponse",value:function(e){return Pr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(cr),Jr=function(e){y(n,e);var t=_(n);function n(e){return f(this,n),Ht(e.startsWith("saml."),"argument-error"),t.call(this,e)}return d(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Xr.fromJSON(e);return Ht(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Xr._create(r,n)}catch(i){return null}}}]),n}(Hr),Zr=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.call(this,"twitter.com")}return d(n,null,[{key:"credential",value:function(e,t){return Mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ub){return null}}}]),n}(Gr);function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signUp",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}Zr.TWITTER_SIGN_IN_METHOD="twitter.com",Zr.PROVIDER_ID="twitter.com";var ni=function(){function e(t){f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return d(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ce(I().mark((function t(n,r,i){var a,o,u,s,c=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,jn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ri(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ce(I().mark((function t(n,r,i){var a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ri(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ri(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ii(){return ii=ce(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ir(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ni({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ei(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ni._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var ai=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,u;return f(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(v(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return d(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(z);function oi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ai._fromErrorAndOperation(e,n,t,r);throw n}))}function ui(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,hi(!0,r,n);case 3:return e.t0=yn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ui(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=ce(I().mark((function e(t,n){var r,i,a=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Sn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ni._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(e,t,n){return di.apply(this,arguments)}function di(){return di=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(n);case 2:i=ui(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ht(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=ce(I().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Sn(t,oi(i,a,n,t),r);case 6:return Ht((o=e.sent).idToken,i,"internal-error"),Ht(u=En(o.idToken),i,"internal-error"),s=u.sub,Ht(t.uid===s,i,"user-mismatch"),e.abrupt("return",ni._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Vt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),vi.apply(this,arguments)}function mi(e,t){return yi.apply(this,arguments)}function yi(){return yi=ce(I().mark((function e(t,n){var r,i,a,o,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,oi(t,i,n);case 4:return a=e.sent,e.next=7,ni._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mi(ir(t),n));case 1:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,hi(!1,r,n.providerId);case 3:return e.abrupt("return",li(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e,t){return xi.apply(this,arguments)}function xi(){return(xi=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(ee(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t){return Si.apply(this,arguments)}function Si(){return Si=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(t,"POST","/v1/accounts:signInWithCustomToken",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ii(){return Ii=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ir(t),e.next=3,Ei(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ni._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}var Ti=function(){function e(t,n){f(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return d(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ni._fromServerResponse(e,t):Vt(e,"internal-error")}}]),e}(),Ni=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return d(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ti);function Ci(e,t,n){var r;Ht((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ht("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ht(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ht(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Oi(){return Oi=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ci(i,a,r),e.next=5,_r(i,a);case 5:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Di(){return Di=ce(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(ee(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Ai(){return Ai=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr(ee(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,lr(r,{oobCode:n});case 3:i=e.sent,Ht(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ht(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ht(i.mfaInfo,r,"internal-error");case 13:Ht(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ti._fromServerResponse(ir(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Mi(){return Mi=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(ee(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Li(e,t,n){return Fi.apply(this,arguments)}function Fi(){return Fi=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ir(t),e.next=3,ei(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ni._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ui(){return Ui=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),a={requestType:"EMAIL_SIGNIN",email:n},Ht(r.handleCodeInApp,i,"argument-error"),r&&Ci(i,a,r),e.next=6,Er(i,a);case 6:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function ji(){return ji=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),Ht((a=Wr.credentialWithLink(n,r||$t()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",gi(i,a));case 4:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:createAuthUri",an(t,n)));case 1:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(){return Bi=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xt()?$t():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vi(ee(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(){return(qi=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ci(r.auth,a,n),e.next=8,br(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(){return(Wi=ce(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ci(i.auth,o,r),e.next=8,Ir(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Yi(){return(Yi=ce(I().mark((function e(t,n){var r,i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ee(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Sn(a,Hi(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t,n){return Qi.apply(this,arguments)}function Qi(){return Qi=ce(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Sn(t,hr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}var $i=d((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Xi=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i)).username=a,o}return d(n)}($i),Ji=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"facebook.com",r)}return d(n)}($i),Zi=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return d(n)}(Xi),ea=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"google.com",r)}return d(n)}($i),ta=function(e){y(n,e);var t=_(n);function n(e,r,i){return f(this,n),t.call(this,e,"twitter.com",r,i)}return d(n)}(Xi);function na(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=En(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new $i(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ji(a,i);case"github.com":return new Zi(a,i);case"google.com":return new ea(a,i);case"twitter.com":return new ta(a,i,e.screenName||null);case"custom":case"anonymous":return new $i(a,null);default:return new $i(a,r,i)}}(n)}var ra=function(){function e(t,n){f(this,e),this.type=t,this.credential=n}return d(e,[{key:"toJSON",value:function(){return{multiFactorSession:l({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ia=function(){function e(t,n,r){f(this,e),this.session=t,this.hints=n,this.signInResolver=r}return d(e,[{key:"resolveSignIn",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ir(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ti._fromServerResponse(r,e)}));Ht(i.mfaPendingCredential,r,"internal-error");var o=ra._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ce(I().mark((function e(t){var a,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ni._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ht(n.user,r,"internal-error"),e.abrupt("return",ni._forOperation(n.user,n.operationType,u));case 17:Vt(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function aa(e,t){return on(e,"POST","/v2/accounts/mfaEnrollment:start",an(e,t))}function oa(e,t){return on(e,"POST","/v2/accounts/mfaEnrollment:withdraw",an(e,t))}var ua=function(){function e(t){var n=this;f(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ti._fromServerResponse(t.auth,e)})))}))}return d(e,[{key:"getSession",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ra,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Sn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ce(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Sn(this.user,oa(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),sa=new WeakMap;var ca="__sak",la=function(){function e(t,n){f(this,e),this.storageRetriever=t,this.type=n}return d(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ca,"1"),this.storage.removeItem(ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ub){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fa=function(e){y(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=R();return Gn(e)||Jn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=tr(),e._shouldAllowMigration=!0,e}return d(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);er()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ce(I().mark((function e(t,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ce(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(la);fa.type="LOCAL";var ha=fa,da=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return d(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(la);da.type="SESSION";var pa=da;function va(e){return Promise.all(e.map(function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ma=function(){function e(t){f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return d(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ce(I().mark((function e(t){var n,r,i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,va(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ya(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ma.receivers=[];var ga=function(){function e(t){f(this,e),this.target=t,this.handlers=new Set}return d(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ce(I().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ya("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ka(){return window}function ba(){return"undefined"!==typeof ka().WorkerGlobalScope&&"function"===typeof ka().importScripts}function wa(){return _a.apply(this,arguments)}function _a(){return(_a=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ea="firebaseLocalStorageDb",Sa="firebaseLocalStorage",Ia="fbase_key",Ta=function(){function e(t){f(this,e),this.request=t}return d(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Na(e,t){return e.transaction([Sa],t?"readwrite":"readonly").objectStore(Sa)}function Ca(){var e=indexedDB.deleteDatabase(Ea);return new Ta(e).toPromise()}function Oa(){var e=indexedDB.open(Ea,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Sa,{keyPath:Ia})}catch(r){n(r)}})),e.addEventListener("success",ce(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Sa)){n.next=12;break}return r.close(),n.next=5,Ca();case 5:return n.t0=t,n.next=8,Oa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Da(e,t,n){return Aa.apply(this,arguments)}function Aa(){return Aa=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Na(t,!0).put((l(i={},Ia,n),l(i,"value",r),i)),e.abrupt("return",new Ta(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Na(t,!1).get(n),e.next=3,new Ta(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Ma(e,t){var n=Na(e,!0).delete(t);return new Ta(n).toPromise()}var La=function(){function e(){f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return d(e,[{key:"_openDb",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Oa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ce(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ma._getInstance(ba()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ce(I().mark((function e(n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ce(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ga(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Oa();case 5:return t=e.sent,e.next=8,Da(t,ca,"1");case 8:return e.next=10,Ma(t,ca);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ce(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Da(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ce(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ma(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ce(I().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Na(e,!1).getAll();return new Ta(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=p(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();La.type="LOCAL";var Fa=La;function Ua(e,t){return on(e,"POST","/v2/accounts/mfaSignIn:start",an(e,t))}function ja(e){return Va.apply(this,arguments)}function Va(){return Va=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ba(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qa=1e12,Wa=function(){function e(t){f(this,e),this.auth=t,this.counter=qa,this._widgets=new Map}return d(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ha(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||qa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||qa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||qa,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ha=function(){function e(t,n,r){var i=this;f(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ht(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return d(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ga=Ba("rcb"),Ya=new Zt(3e4,6e4),Ka="https://www.google.com/recaptcha/api.js?",Qa=function(){function e(){f(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ka().grecaptcha}return d(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ht($a(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ka().grecaptcha):new Promise((function(r,i){var a=ka().setTimeout((function(){i(zt(e,"network-request-failed"))}),Ya.get());ka()[Ga]=function(){ka().clearTimeout(a),delete ka()[Ga];var o=ka().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zt(e,"internal-error"))},za("".concat(Ka,"?").concat(K({onload:Ga,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ka().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function $a(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Xa=function(){function e(){f(this,e)}return d(e,[{key:"load",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Wa(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ja="recaptcha",Za={theme:"light",type:"image"},eo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Za),r=arguments.length>2?arguments[2]:void 0;f(this,e),this.parameters=n,this.type=Ja,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ir(r),this.isInvisible="invisible"===this.parameters.size,Ht("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ht(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xa:new Qa,this.validateStartingState()}return d(e,[{key:"verify",value:function(){var e=ce(I().mark((function e(){var t,n,r,i=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ht(!this.parameters.sitekey,this.auth,"argument-error"),Ht(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ht("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ka()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ht(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ce(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ht(Xt()&&!ba(),this.auth,"internal-error"),e.next=3,to();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ja(this.auth);case 8:Ht(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ht(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function to(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var no=function(){function e(t,n){f(this,e),this.verificationId=t,this.onConfirmation=n}return d(e,[{key:"confirm",value:function(e){var t=Br._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ro(){return ro=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ir(t),e.next=3,uo(i,n,ee(r));case 3:return a=e.sent,e.abrupt("return",new no(a,(function(e){return gi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t,n){return ao.apply(this,arguments)}function ao(){return(ao=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,hi(!1,i,"phone");case 3:return e.next=5,uo(i.auth,n,ee(r));case 5:return a=e.sent,e.abrupt("return",new no(a,(function(e){return bi(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(){return(oo=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,uo(i.auth,n,ee(r));case 3:return a=e.sent,e.abrupt("return",new no(a,(function(e){return _i(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e,t,n){return so.apply(this,arguments)}function so(){return so=ce(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ht("string"===typeof a,t,"argument-error"),Ht(r.type===Ja,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ht("enroll"===u.type,t,"internal-error"),e.next=13,aa(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ht("signin"===u.type,t,"internal-error"),Ht(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ua(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Lr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),so.apply(this,arguments)}function co(){return(co=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(ee(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lo=function(){function e(t){f(this,e),this.providerId=e.PROVIDER_ID,this.auth=ir(t)}return d(e,[{key:"verifyPhoneNumber",value:function(e,t){return uo(this.auth,e,ee(t))}}],[{key:"credential",value:function(e,t){return Br._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Br._fromTokenResponse(n,r):null}}]),e}();function fo(e,t){return t?Qt(t):(Ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lo.PROVIDER_ID="phone",lo.PHONE_SIGN_IN_METHOD="phone";var ho=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return d(n,[{key:"_getIdTokenResponse",value:function(e){return Pr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(cr);function po(e){return mi(e.auth,new ho(e),e.bypassAuthState)}function vo(e){var t=e.auth,n=e.user;return Ht(n,t,"internal-error"),pi(n,new ho(e),e.bypassAuthState)}function mo(e){return yo.apply(this,arguments)}function yo(){return yo=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ht(r=t.user,n,"internal-error"),e.abrupt("return",li(r,new ho(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}var go=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return d(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ce(I().mark((function t(n,r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ce(I().mark((function e(t){var n,r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return po;case"linkViaPopup":case"linkViaRedirect":return mo;case"reauthViaPopup":case"reauthViaRedirect":return vo;default:Vt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ko=new Zt(2e3,1e4);function bo(e,t,n){return wo.apply(this,arguments)}function wo(){return wo=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ir(t),qt(t,n,Hr),a=fo(i,r),o=new So(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function _o(){return _o=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qt((i=ee(t)).auth,n,Hr),a=fo(i.auth,r),o=new So(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function xo(e,t,n){return Eo.apply(this,arguments)}function Eo(){return Eo=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qt((i=ee(t)).auth,n,Hr),a=fo(i.auth,r),o=new So(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}var So=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o){var u;return f(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=v(u),u}return d(n,[{key:"executeNotNull",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ht(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ce(I().mark((function e(){var t,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt(1===this.filter.length,"Popup operations only handle one event"),t=ya(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ko.get())}()}}]),n}(go);So.currentPopupAction=null;var Io=new Map,To=function(e){y(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return d(n,[{key:"execute",value:function(){var e=ce(I().mark((function e(){var t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Io.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,No(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kt(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Io.set(this.auth._key(),t);case 21:return this.bypassAuthState||Io.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ce(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kt(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kt(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(go);function No(e,t){return Co.apply(this,arguments)}function Co(){return Co=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Po(n),i=Ao(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function Oo(e,t){return Do.apply(this,arguments)}function Do(){return Do=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t)._set(Po(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ao(e){return Qt(e._redirectPersistence)}function Po(e){return Bn("pendingRedirect",e.config.apiKey,e.name)}function Ro(e,t,n){return function(e,t,n){return Mo.apply(this,arguments)}(e,t,n)}function Mo(){return Mo=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ir(t),qt(t,n,Hr),a=fo(i,r),e.next=5,Oo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Lo(e,t,n){return function(e,t,n){return Fo.apply(this,arguments)}(e,t,n)}function Fo(){return Fo=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qt((i=ee(t)).auth,n,Hr),a=fo(i.auth,r),e.next=5,Oo(a,i.auth);case 5:return e.next=7,Wo(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t,n){return function(e,t,n){return jo.apply(this,arguments)}(e,t,n)}function jo(){return jo=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qt((i=ee(t)).auth,n,Hr),a=fo(i.auth,r),e.next=5,hi(!1,i,n.providerId);case 5:return e.next=7,Oo(a,i.auth);case 7:return e.next=9,Wo(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(t)._initializationPromise;case 2:return e.abrupt("return",Bo(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(e,t){return qo.apply(this,arguments)}function qo(){return qo=ce(I().mark((function e(t,n){var r,i,a,o,u,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ir(t),a=fo(i,n),o=new To(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Wo(e){return Ho.apply(this,arguments)}function Ho(){return(Ho=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ya("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Go=function(){function e(t){f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return d(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ko(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Yo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Yo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ko(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Qo(e){return $o.apply(this,arguments)}function $o(){return $o=ce(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",on(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jo=/^https?/;function Zo(){return Zo=ce(I().mark((function e(t){var n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qo(t);case 4:n=e.sent,r=n.authorizedDomains,i=p(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!eu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Zo.apply(this,arguments)}function eu(e){var t=$t(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Jo.test(r))return!1;if(Xo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tu=new Zt(3e4,6e4);function nu(){var e=ka().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ue(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ru=null;function iu(e){return ru=ru||function(e){return new Promise((function(t,n){var r,i,a;function o(){nu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nu(),n(zt(e,"network-request-failed"))},timeout:tu.get()})}if(null===(i=null===(r=ka().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ka().gapi)||void 0===a?void 0:a.load)){var u=Ba("iframefcb");return ka()[u]=function(){gapi.load?o():n(zt(e,"network-request-failed"))},za("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ru=null,e}))}(e),ru}var au=new Zt(5e3,15e3),ou={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function su(e){var t=e.config;Ht(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?en(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ze},i=uu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(K(r).slice(1))}function cu(e){return lu.apply(this,arguments)}function lu(){return lu=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(t);case 2:return n=e.sent,Ht(r=ka().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:su(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ou,dontclear:!0},(function(e){return new Promise(function(){var n=ce(I().mark((function n(r,i){var a,o,u;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ka().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zt(t,"network-request-failed"),o=ka().setTimeout((function(){i(a)}),au.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}var fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hu="_blank",du="http://localhost",pu=function(){function e(t){f(this,e),this.window=t,this.associatedEvent=null}return d(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},fu),{width:r.toString(),height:i.toString(),top:a,left:o}),l=R().toLowerCase();n&&(u=Yn(l)?hu:n),Hn(l)&&(t=t||du,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zn(l)&&"_self"!==u)return mu(t||"",u),new pu(null);var h=window.open(t||"",u,f);Ht(h,e,"popup-blocked");try{h.focus()}catch(d){}return new pu(h)}function mu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yu="__/auth/handler",gu="emulator/auth/handler";function ku(e,t,n,r,i,a){Ht(e.config.authDomain,e,"auth-domain-config-required"),Ht(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ze,eventId:i};if(t instanceof Hr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Gr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yu);return en(t,gu)}(e),"?").concat(K(p).slice(1))}var bu="webStorageSupport",wu=function(){function e(){f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pa,this._completeRedirectFn=Bo}return d(e,[{key:"_openPopup",value:function(){var e=ce(I().mark((function e(t,n,r,i){var a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ku(t,n,r,$t(),i),e.abrupt("return",vu(t,o,ya()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ce(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ku(t,n,r,$t(),i),ka().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Yt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(t);case 2:return n=e.sent,r=new Go(t),n.register("authEvent",(function(e){return Ht(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bu,{type:bu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return tr()||Gn()||Jn()}}]),e}(),_u=wu,xu=function(){function e(t){f(this,e),this.factorId=t}return d(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gt("unexpected MultiFactorSessionType")}}}]),e}(),Eu=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone")).credential=e,r}return d(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return on(e,"POST","/v2/accounts/mfaEnrollment:finalize",an(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return on(e,"POST","/v2/accounts/mfaSignIn:finalize",an(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xu),Su=function(){function e(){f(this,e)}return d(e,null,[{key:"assertion",value:function(e){return Eu._fromCredential(e)}}]),e}();Su.FACTOR_ID="phone";var Iu,Tu="@firebase/auth",Nu="0.19.10",Cu=function(){function e(t){f(this,e),this.auth=t,this.internalListeners=new Map}return d(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ou(){return window}Iu="Browser",Re(new le("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ht(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ht(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Iu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(Iu)},i=new rr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Re(new le("auth-internal",(function(e){return function(e){return new Cu(e)}(ir(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Tu,Nu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Iu)),Ye(Tu,Nu,"esm2017");function Du(e,t,n){return Au.apply(this,arguments)}function Au(){return Au=ce(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ou(),o=a.BuildInfo,Yt(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Uu(n.sessionId);case 4:return u=e.sent,s={},Jn()?s.ibi=o.packageName:Qn()?s.apn=o.packageName:Vt(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ku(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Pu(){return Pu=ce(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ou(),r=n.BuildInfo,i={},Jn()?i.iosBundleId=r.packageName:Qn()?i.androidPackageName=r.packageName:Vt(t,"operation-not-supported-in-this-environment"),e.next=5,Qo(t,i);case 5:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ru(e){var t=Ou().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Mu(e,t,n){return Lu.apply(this,arguments)}function Lu(){return Lu=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ou(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(zt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Qn()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Lu.apply(this,arguments)}function Fu(e){var t,n,r,i,a,o,u,s,c,l,f=Ou();Ht("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ht("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ht("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Uu(e){return ju.apply(this,arguments)}function ju(){return(ju=ce(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e){if(Yt(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zu=function(e){y(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return d(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kt(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Go);function Bu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Yu(),postBody:null,tenantId:e.tenantId,error:zt(e,"no-auth-event")}}function qu(e,t){return Ku()._set(Qu(e),t)}function Wu(e){return Hu.apply(this,arguments)}function Hu(){return Hu=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku()._get(Qu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ku()._remove(Qu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Gu(e,t){var n,r,i=function(e){var t=$u(e),n=t.link?decodeURIComponent(t.link):void 0,r=$u(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $u(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$u(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?zt(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Yu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ku(){return Qt(ha)}function Qu(e){return Bn("authEvent",e.config.apiKey,e.name)}function $u(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||oe(t)||o(t)||u();r[0];return Q(r.slice(1).join("?"))}var Xu=function(){function e(){f(this,e),this._redirectPersistence=pa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bo}return d(e,[{key:"_initialize",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ce(I().mark((function e(t,n,r,i){var a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Io.clear(),e.next=10,this._originValidation(t);case 10:return o=Bu(t,r,i),e.next=13,qu(t,o);case 13:return e.next=15,Du(t,o,n);case 15:return u=e.sent,e.next=18,Ru(u);case 18:return s=e.sent,e.abrupt("return",Mu(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Pu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ou(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wu(e);case 2:t.onEvent(Zu());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ce(I().mark((function n(r){var i,a;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Wu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Gu(i,r.url)),t.onEvent(a||Zu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ou().handleOpenURL=function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ju=Xu;function Zu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function es(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return!("file:"!==es()&&"ionic:"!==es()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ns(){return j()&&11===(null===document||void 0===document?void 0:document.documentMode)}function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/Edge\/\d+/.test(e)}function is(){try{var e=self.localStorage,t=ya();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return ns()||rs(e)}()||V()}catch(n){return as()&&V()}return!1}function as(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function os(){return("http:"===es()||"https:"===es()||F()||ts())&&!(U()||L())&&is()&&!as()}function us(){return ts()&&"undefined"!==typeof document}function ss(){return cs.apply(this,arguments)}function cs(){return(cs=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(us()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ls={LOCAL:"local",NONE:"none",SESSION:"session"},fs=Ht,hs="persistence";function ds(e,t){fs(Object.values(ls).includes(t),e,"invalid-persistence-type"),U()?fs(t!==ls.SESSION,e,"unsupported-persistence-type"):L()?fs(t===ls.NONE,e,"unsupported-persistence-type"):as()?fs(t===ls.NONE||t===ls.LOCAL&&V(),e,"unsupported-persistence-type"):fs(t===ls.NONE||is(),e,"unsupported-persistence-type")}function ps(e){return vs.apply(this,arguments)}function vs(){return vs=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ms(),r=Bn(hs,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ys=Ht,gs=function(){function e(){f(this,e),this.browserResolver=Qt(_u),this.cordovaResolver=Qt(Ju),this.underlyingResolver=null,this._redirectPersistence=pa,this._completeRedirectFn=Bo}return d(e,[{key:"_initialize",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ce(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ce(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return us()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ys(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ss();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ks(e){return e.unwrap()}function bs(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Ss(e,function(e,t){var n,r=ee(e),i=t;return Ht(t.customData.operationType,r,"argument-error"),Ht(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ia._fromError(r,i)}(e,t));else if(r){var i=ws(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ws(e){var t=(e instanceof z?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof z)&&"temporaryProof"in t&&"phoneNumber"in t)return lo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===It)return null;switch(r){case St:n=Qr;break;case xt:n=Kr;break;case Et:n=$r;break;case Tt:n=Zr;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Xr._create(r,u):Mr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Yr(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof z?n.credentialFromError(e):n.credentialFromResult(e)}function _s(e,t){return t.catch((function(t){throw t instanceof z&&bs(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ws(t)),additionalUserInfo:na(e),user:Is.getOrCreate(r)}}))}function xs(e,t){return Es.apply(this,arguments)}function Es(){return Es=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return _s(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ss=function(){function e(t,n){f(this,e),this.resolver=n,this.auth=t.wrapped()}return d(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return _s(ks(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Is=function(){function e(t){f(this,e),this._delegate=t,this.multiFactor=function(e){var t=ee(e);return sa.has(t)||sa.set(t,ua._fromUser(t)),sa.get(t)}(t)}return d(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(this.auth,bi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(this.auth,io(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(this.auth,xo(this._delegate,t,gs)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(ir(this.auth));case 2:return e.abrupt("return",Uo(this._delegate,t,gs));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(this.auth,_i(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return xs(this.auth,function(e,t,n){return oo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return _s(this.auth,function(e,t,n){return _o.apply(this,arguments)}(this._delegate,e,gs))}},{key:"reauthenticateWithRedirect",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(ir(this.auth));case 2:return e.abrupt("return",Lo(this._delegate,t,gs));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return qi.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ki(ee(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ki(ee(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return co.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Yi.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Wi.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Is.USER_MAP=new WeakMap;var Ts=Ht,Ns=function(){function e(t,n){if(f(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ts(r,"invalid-api-key",{appName:t.name}),Ts(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?gs:void 0;this._delegate=n.initialize({options:{persistence:Os(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Mt),this.linkUnderlyingAuth()}return d(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Is.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){or(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ai.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Pi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Di.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(this._delegate,Li(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Bi.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ts(os(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vo(this._delegate,gs);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",_s(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ir(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Cs(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Cs(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ui.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Oi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ds(this._delegate,t),e.t0=t,e.next=e.t0===ls.SESSION?4:e.t0===ls.LOCAL?6:e.t0===ls.NONE?11:13;break;case 4:return n=pa,e.abrupt("break",14);case 6:return e.next=8,Qt(Fa)._isAvailable();case 8:return r=e.sent,n=r?Fa:ha,e.abrupt("break",14);case 11:return n=zn,e.abrupt("break",14);case 13:return e.abrupt("return",Vt("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return _s(this._delegate,function(e){return ii.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return _s(this._delegate,gi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return _s(this._delegate,function(e,t){return Ii.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return _s(this._delegate,function(e,t,n){return gi(ee(e),Wr.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return _s(this._delegate,function(e,t,n){return ji.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return xs(this._delegate,function(e,t,n){return ro.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ts(os(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",_s(this._delegate,bo(this._delegate,t,gs)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ts(os(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ps(this._delegate);case 3:return e.abrupt("return",Ro(this._delegate,t,gs));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Mi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Cs(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Is.getOrCreate(e))},error:t,complete:n}}function Os(e,t){var n=function(e,t){var n=ms();if(!n)return[];var r=Bn(hs,e,t);switch(n.getItem(r)){case ls.NONE:return[zn];case ls.LOCAL:return[Fa,pa];case ls.SESSION:return[pa];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Fa)||n.push(Fa),"undefined"!==typeof window)for(var r=0,i=[ha,pa];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(zn)||n.push(zn),n}Ns.Persistence=ls;var Ds=function(){function e(){f(this,e),this.providerId="phone",this._delegate=new lo(ks(yt.auth()))}return d(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lo.credential(e,t)}}]),e}();Ds.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,Ds.PROVIDER_ID=lo.PROVIDER_ID;var As,Ps=Ht,Rs=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt.app();f(this,e),Ps(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new eo(t,n,i.auth()),this.type=this._delegate.type}return d(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(As=yt).INTERNAL.registerComponent(new le("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ns(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nt,PASSWORD_RESET:Ct,RECOVER_EMAIL:Ot,REVERT_SECOND_FACTOR_ADDITION:Dt,VERIFY_AND_CHANGE_EMAIL:At,VERIFY_EMAIL:Pt}},EmailAuthProvider:Wr,FacebookAuthProvider:Kr,GithubAuthProvider:$r,GoogleAuthProvider:Qr,OAuthProvider:Yr,SAMLAuthProvider:Jr,PhoneAuthProvider:Ds,PhoneMultiFactorGenerator:Su,RecaptchaVerifier:Rs,TwitterAuthProvider:Zr,Auth:Ns,AuthCredential:cr,Error:z}).setInstantiationMode("LAZY").setMultipleInstances(!1)),As.registerVersion("@firebase/auth-compat","0.2.10");var Ms,Ls="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Fs={},Us=Us||{},js=Ls||self;function Vs(){}function zs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qs="closure_uid_"+(1e9*Math.random()>>>0),Ws=0;function Hs(e,t,n){return e.call.apply(e.bind,arguments)}function Gs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ys(e,t,n){return(Ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hs:Gs).apply(null,arguments)}function Ks(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qs(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $s(){this.s=this.s,this.o=this.o}var Xs={};$s.prototype.s=!1,$s.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,qs)&&e[qs]||(e[qs]=++Ws)}(this);delete Xs[e]}},$s.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Js=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Zs=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ec(e){return Array.prototype.concat.apply([],arguments)}function tc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function nc(e){return/^[\s\xa0]*$/.test(e)}var rc,ic=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ac(e,t){return-1!=e.indexOf(t)}function oc(e,t){return e<t?-1:e>t?1:0}e:{var uc=js.navigator;if(uc){var sc=uc.userAgent;if(sc){rc=sc;break e}}rc=""}function cc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function lc(e){var t={};for(var n in e)t[n]=e[n];return t}var fc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<fc.length;a++)n=fc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function dc(e){return dc[" "](e),e}dc[" "]=Vs;var pc,vc=ac(rc,"Opera"),mc=ac(rc,"Trident")||ac(rc,"MSIE"),yc=ac(rc,"Edge"),gc=yc||mc,kc=ac(rc,"Gecko")&&!(ac(rc.toLowerCase(),"webkit")&&!ac(rc,"Edge"))&&!(ac(rc,"Trident")||ac(rc,"MSIE"))&&!ac(rc,"Edge"),bc=ac(rc.toLowerCase(),"webkit")&&!ac(rc,"Edge");function wc(){var e=js.document;return e?e.documentMode:void 0}e:{var _c="",xc=function(){var e=rc;return kc?/rv:([^\);]+)(\)|;)/.exec(e):yc?/Edge\/([\d\.]+)/.exec(e):mc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bc?/WebKit\/(\S+)/.exec(e):vc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xc&&(_c=xc?xc[1]:""),mc){var Ec=wc();if(null!=Ec&&Ec>parseFloat(_c)){pc=String(Ec);break e}}pc=_c}var Sc,Ic={};function Tc(){return function(e){var t=Ic;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ic(String(pc)).split("."),n=ic("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=oc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||oc(0==a[2].length,0==o[2].length)||oc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(js.document&&mc){var Nc=wc();Sc=Nc||(parseInt(pc,10)||void 0)}else Sc=void 0;var Cc=Sc,Oc=function(){if(!js.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{js.addEventListener("test",Vs,t),js.removeEventListener("test",Vs,t)}catch(nN){}return e}();function Dc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ac(e,t){if(Dc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kc){e:{try{dc(t.nodeName);var i=!0;break e}catch(tN){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Pc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ac.Z.h.call(this)}}Dc.prototype.h=function(){this.defaultPrevented=!0},Qs(Ac,Dc);var Pc={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rc="closure_listenable_"+(1e6*Math.random()|0),Mc=0;function Lc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Mc,this.ca=this.fa=!1}function Fc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Uc(e){this.src=e,this.g={},this.h=0}function jc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Js(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Fc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Uc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Vc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Lc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var zc="closure_lm_"+(1e6*Math.random()|0),Bc={};function qc(e,t,n,r,i){if(r&&r.once)return Hc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qc(e,t[a],n,r,i);return null}return n=Jc(n),e&&e[Rc]?e.N(t,n,Bs(r)?!!r.capture:!!r,i):Wc(e,t,n,!1,r,i)}function Wc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Bs(i)?!!i.capture:!!i,u=$c(e);if(u||(e[zc]=u=new Uc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Qc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Oc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Kc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Hc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hc(e,t[a],n,r,i);return null}return n=Jc(n),e&&e[Rc]?e.O(t,n,Bs(r)?!!r.capture:!!r,i):Wc(e,t,n,!0,r,i)}function Gc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gc(e,t[a],n,r,i);else r=Bs(r)?!!r.capture:!!r,n=Jc(n),e&&e[Rc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vc(a=e.g[t],n,r,i))&&(Fc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$c(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vc(t,n,r,i)),(n=-1<e?t[e]:null)&&Yc(n))}function Yc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Rc])jc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Kc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$c(t))?(jc(n,e),0==n.h&&(n.src=null,t[zc]=null)):Fc(e)}}}function Kc(e){return e in Bc?Bc[e]:Bc[e]="on"+e}function Qc(e,t){if(e.ca)e=!0;else{t=new Ac(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yc(e),e=n.call(r,t)}return e}function $c(e){return(e=e[zc])instanceof Uc?e:null}var Xc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(e){return"function"===typeof e?e:(e[Xc]||(e[Xc]=function(t){return e.handleEvent(t)}),e[Xc])}function Zc(){$s.call(this),this.i=new Uc(this),this.P=this,this.I=null}function el(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Dc(t,e);else if(t instanceof Dc)t.target=t.target||e;else{var i=t;hc(t=new Dc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=tl(o,r,!0,t)&&i}if(i=tl(o=t.g=e,r,!0,t)&&i,i=tl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=tl(o=t.g=n[a],r,!1,t)&&i}function tl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&jc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Qs(Zc,$s),Zc.prototype[Rc]=!0,Zc.prototype.removeEventListener=function(e,t,n,r){Gc(this,e,t,n,r)},Zc.prototype.M=function(){if(Zc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fc(n[r]);delete t.g[e],t.h--}}this.I=null},Zc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nl=js.JSON.stringify;function rl(){var e=fl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var il,al=function(){function e(){f(this,e),this.h=this.g=null}return d(e,[{key:"add",value:function(e,t){var n=ol.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ol=new(function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return d(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ul}),(function(e){return e.reset()})),ul=function(){function e(){f(this,e),this.next=this.g=this.h=null}return d(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function sl(e){js.setTimeout((function(){throw e}),0)}function cl(e,t){il||function(){var e=js.Promise.resolve(void 0);il=function(){e.then(hl)}}(),ll||(il(),ll=!0),fl.add(e,t)}var ll=!1,fl=new al;function hl(){for(var e;e=rl();){try{e.h.call(e.g)}catch(nN){sl(nN)}var t=ol;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ll=!1}function dl(e,t){Zc.call(this),this.h=e||1,this.g=t||js,this.j=Ys(this.kb,this),this.l=Date.now()}function pl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function vl(e,t,n){if("function"===typeof e)n&&(e=Ys(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ys(e.handleEvent,e)}return 2147483647<Number(t)?-1:js.setTimeout(e,t||0)}function ml(e){e.g=vl((function(){e.g=null,e.i&&(e.i=!1,ml(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qs(dl,Zc),(Ms=dl.prototype).da=!1,Ms.S=null,Ms.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),el(this,"tick"),this.da&&(pl(this),this.start()))}},Ms.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ms.M=function(){dl.Z.M.call(this),pl(this),delete this.g};var yl=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return d(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ml(this)}},{key:"M",value:function(){kt(g(n.prototype),"M",this).call(this),this.g&&(js.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($s);function gl(e){$s.call(this),this.h=e,this.g={}}Qs(gl,$s);var kl=[];function bl(e,t,n,r){Array.isArray(n)||(n&&(kl[0]=n.toString()),n=kl);for(var i=0;i<n.length;i++){var a=qc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wl(e){cc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Yc(e)}),e),e.g={}}function _l(){this.g=!0}function xl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nl(n)}catch(KT){return t}}(e,n)+(r?" "+r:"")}))}gl.prototype.M=function(){gl.Z.M.call(this),wl(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_l.prototype.Aa=function(){this.g=!1},_l.prototype.info=function(){};var El={},Sl=null;function Il(){return Sl=Sl||new Zc}function Tl(e){Dc.call(this,El.Ma,e)}function Nl(e){var t=Il();el(t,new Tl(t,e))}function Cl(e,t){Dc.call(this,El.STAT_EVENT,e),this.stat=t}function Ol(e){var t=Il();el(t,new Cl(t,e))}function Dl(e,t){Dc.call(this,El.Na,e),this.size=t}function Al(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return js.setTimeout((function(){e()}),t)}El.Ma="serverreachability",Qs(Tl,Dc),El.STAT_EVENT="statevent",Qs(Cl,Dc),El.Na="timingevent",Qs(Dl,Dc);var Pl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ml(){}function Ll(e){return e.h||(e.h=e.i())}function Fl(){}Ml.prototype.h=null;var Ul,jl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vl(){Dc.call(this,"d")}function zl(){Dc.call(this,"c")}function Bl(){}function ql(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new gl(this),this.P=Hl,e=gc?125:void 0,this.W=new dl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}Qs(Vl,Dc),Qs(zl,Dc),Qs(Bl,Ml),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},Ul=new Bl;var Hl=45e3,Gl={},Yl={};function Kl(e,t,n){e.K=1,e.v=gf(hf(t)),e.s=n,e.U=!0,Ql(e,null)}function Ql(e,t){e.F=Date.now(),Zl(e),e.A=hf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Df(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Wl,e.g=Ah(e.l,n?t:null,!e.s),0<e.O&&(e.L=new yl(Ys(e.Ia,e,e.g),e.O)),bl(e.V,e.g,"readystatechange",e.gb),t=e.H?lc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Nl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function $l(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Xl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Jl(e,n))==Yl){4==t&&(e.o=4,Ol(14),i=!1),xl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gl){e.o=4,Ol(15),xl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xl(e.j,e.m,r,null),af(e,r)}$l(e)&&r!=Yl&&r!=Gl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ol(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eh(t),t.L=!0,Ol(11))):(xl(e.j,e.m,n,"[Invalid Chunked Response]"),rf(e),nf(e))}function Jl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yl:(n=Number(t.substring(n,r)),isNaN(n)?Gl:(r+=1)+n>t.length?Yl:(t=t.substr(r,n),e.C=r+n,t))}function Zl(e){e.Y=Date.now()+e.P,ef(e,e.P)}function ef(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Al(Ys(e.eb,e),t)}function tf(e){e.B&&(js.clearTimeout(e.B),e.B=null)}function nf(e){0==e.l.G||e.I||Th(e.l,e)}function rf(e){tf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,pl(e.W),wl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function af(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Uf(n.i,e)))if(n.I=e.N,!e.J&&Uf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ih(n),vh(n)}xh(n),Ol(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Al(Ys(n.ab,n),6e3));if(1>=Ff(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ch(n,11)}else if((e.J||n.g==e)&&Ih(n),!nc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ac(l,"spdy")||ac(l,"quic")||ac(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(jf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,yf(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Dh(r,r.H?r.la:null,r.W),d.J){Vf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(tf(p),Zl(p)),r.g=d}else _h(r);0<n.l.length&&gh(n)}else"stop"!=a[0]&&"close"!=a[0]||Ch(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ch(n,7):ph(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Nl(4)}catch(a){}}function of(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zs(e)||"string"===typeof e)Zs(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(zs(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(zs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function uf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof uf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function sf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];cf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)cf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function cf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ms=ql.prototype).setTimeout=function(e){this.P=e},Ms.gb=function(e){e=e.target;var t=this.L;t&&3==ch(e)?t.l():this.Ia(e)},Ms.Ia=function(e){try{if(e==this.g)e:{var t=ch(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||gc||this.g&&(this.h.h||this.g.ga()||lh(this.g)))){this.I||4!=t||7==n||Nl(8==n||0>=r?3:2),tf(this);var i=this.g.ba();this.N=i;t:if($l(this)){var a=lh(this.g);e="";var o=a.length,u=4==ch(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rf(this),nf(this);var s="";break t}this.h.i=new js.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ol(12),rf(this),nf(this);break e}xl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,af(this,i)}this.U?(Xl(this,t,s),gc&&this.i&&3==t&&(bl(this.V,this.W,"tick",this.fb),this.W.start())):(xl(this.j,this.m,s,null),af(this,s)),4==t&&rf(this),this.i&&!this.I&&(4==t?Th(this.l,this):(this.i=!1,Zl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ol(12)):(this.o=0,Ol(13)),rf(this),nf(this)}}}catch(t){}},Ms.fb=function(){if(this.g){var e=ch(this.g),t=this.g.ga();this.C<t.length&&(tf(this),Xl(this,e,t),this.i&&4!=e&&Zl(this))}},Ms.cancel=function(){this.I=!0,rf(this)},Ms.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Nl(3),Ol(17)),rf(this),this.o=2,nf(this)):ef(this,this.Y-e)},(Ms=uf.prototype).R=function(){sf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ms.T=function(){return sf(this),this.g.concat()},Ms.get=function(e,t){return cf(this.h,e)?this.h[e]:t},Ms.set=function(e,t){cf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ms.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var lf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ff(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ff){this.g=void 0!==t?t:e.g,df(this,e.j),this.s=e.s,pf(this,e.i),vf(this,e.m),this.l=e.l,t=e.h;var n=new Tf;n.i=t.i,t.g&&(n.g=new uf(t.g),n.h=t.h),mf(this,n),this.o=e.o}else e&&(n=String(e).match(lf))?(this.g=!!t,df(this,n[1]||"",!0),this.s=kf(n[2]||""),pf(this,n[3]||"",!0),vf(this,n[4]),this.l=kf(n[5]||"",!0),mf(this,n[6]||"",!0),this.o=kf(n[7]||"")):(this.g=!!t,this.h=new Tf(null,this.g))}function hf(e){return new ff(e)}function df(e,t,n){e.j=n?kf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pf(e,t,n){e.i=n?kf(t,!0):t}function vf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mf(e,t,n){t instanceof Tf?(e.h=t,function(e,t){t&&!e.j&&(Nf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cf(this,t),Df(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=bf(t,Sf)),e.h=new Tf(t,e.g))}function yf(e,t,n){e.h.set(t,n)}function gf(e){return yf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ff.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bf(t,_f,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bf(t,_f,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(bf(n,"/"==n.charAt(0)?Ef:xf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bf(n,If)),e.join("")};var _f=/[#\/\?@]/g,xf=/[#\?:]/g,Ef=/[#\?]/g,Sf=/[#\?@]/g,If=/#/g;function Tf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nf(e){e.g||(e.g=new uf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cf(e,t){Nf(e),t=Af(e,t),cf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,cf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sf(e)))}function Of(e,t){return Nf(e),t=Af(e,t),cf(e.g.h,t)}function Df(e,t,n){Cf(e,t),0<n.length&&(e.i=null,e.g.set(Af(e,t),tc(n)),e.h+=n.length)}function Af(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ms=Tf.prototype).add=function(e,t){Nf(this),this.i=null,e=Af(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ms.forEach=function(e,t){Nf(this),this.g.forEach((function(n,r){Zs(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ms.T=function(){Nf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ms.R=function(e){Nf(this);var t=[];if("string"===typeof e)Of(this,e)&&(t=ec(t,this.g.get(Af(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ec(t,e[n])}return t},Ms.set=function(e,t){return Nf(this),this.i=null,Of(this,e=Af(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ms.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ms.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Pf=d((function e(t,n){f(this,e),this.h=t,this.g=n}));function Rf(e){this.l=e||Mf,js.PerformanceNavigationTiming?e=0<(e=js.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(js.g&&js.g.Ea&&js.g.Ea()&&js.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mf=10;function Lf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ff(e){return e.h?1:e.g?e.g.size:0}function Uf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jf(e,t){e.g?e.g.add(t):e.h=t}function Vf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=p(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return tc(e.i)}function Bf(){}function qf(){this.g=new Bf}function Wf(e,t,n){var r=n||"";try{of(e,(function(e,n){var i=e;Bs(e)&&(i=nl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(tN){}}function Gf(e){this.l=e.$b||null,this.j=e.ib||!1}function Yf(e,t){Zc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rf.prototype.cancel=function(){if(this.i=zf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=p(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Bf.prototype.stringify=function(e){return js.JSON.stringify(e,void 0)},Bf.prototype.parse=function(e){return js.JSON.parse(e,void 0)},Qs(Gf,Ml),Gf.prototype.g=function(){return new Yf(this.l,this.j)},Gf.prototype.i=function(e){return function(){return e}}({}),Qs(Yf,Zc);var Kf=0;function Qf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function $f(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xf(e)}function Xf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ms=Yf.prototype).open=function(e,t){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xf(this)},Ms.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||js).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ms.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$f(this)),this.readyState=Kf},Ms.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xf(this)),this.g&&(this.readyState=3,Xf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof js.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ms.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$f(this):Xf(this),3==this.readyState&&Qf(this)}},Ms.Ua=function(e){this.g&&(this.response=this.responseText=e,$f(this))},Ms.Ta=function(e){this.g&&(this.response=e,$f(this))},Ms.ha=function(){this.g&&$f(this)},Ms.setRequestHeader=function(e,t){this.v.append(e,t)},Ms.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ms.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Jf=js.JSON.parse;function Zf(e){Zc.call(this),this.headers=new uf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eh,this.K=this.L=!1}Qs(Zf,Zc);var eh="",th=/^https?$/i,nh=["POST","PUT"];function rh(e){return"content-type"==e.toLowerCase()}function ih(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ah(e),uh(e)}function ah(e){e.D||(e.D=!0,el(e,"complete"),el(e,"error"))}function oh(e){if(e.h&&"undefined"!=typeof Us&&(!e.C[1]||4!=ch(e)||2!=e.ba()))if(e.v&&4==ch(e))vl(e.Fa,0,e);else if(el(e,"readystatechange"),4==ch(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(lf)[1]||null;if(!a&&js.self&&js.self.location){var o=js.self.location.protocol;a=o.substr(0,o.length-1)}i=!th.test(a?a.toLowerCase():"")}t=i}if(t)el(e,"complete"),el(e,"success");else{e.m=6;try{var u=2<ch(e)?e.g.statusText:""}catch(ZT){u=""}e.j=u+" ["+e.ba()+"]",ah(e)}}finally{uh(e)}}}function uh(e,t){if(e.g){sh(e);var n=e.g,r=e.C[0]?Vs:null;e.g=null,e.C=null,t||el(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function sh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(js.clearTimeout(e.A),e.A=null)}function ch(e){return e.g?e.g.readyState:0}function lh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case eh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lN){return null}}function fh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return cc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yf(e,t,n))}function hh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dh(e){this.za=0,this.l=[],this.h=new _l,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hh("baseRetryDelayMs",5e3,e),this.$a=hh("retryDelaySeedMs",1e4,e),this.Ya=hh("forwardChannelMaxRetries",2,e),this.ra=hh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Rf(e&&e.concurrentRequestLimit),this.Ca=new qf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ph(e){if(mh(e),3==e.G){var t=e.V++,n=hf(e.F);yf(n,"SID",e.J),yf(n,"RID",t),yf(n,"TYPE","terminate"),bh(e,n),(t=new ql(e,e.h,t,void 0)).K=2,t.v=gf(hf(n)),n=!1,js.navigator&&js.navigator.sendBeacon&&(n=js.navigator.sendBeacon(t.v.toString(),"")),!n&&js.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ah(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Zl(t)}Oh(e)}function vh(e){e.g&&(Eh(e),e.g.cancel(),e.g=null)}function mh(e){vh(e),e.u&&(js.clearTimeout(e.u),e.u=null),Ih(e),e.i.cancel(),e.m&&("number"===typeof e.m&&js.clearTimeout(e.m),e.m=null)}function yh(e,t){e.l.push(new Pf(e.Za++,t)),3==e.G&&gh(e)}function gh(e){Lf(e.i)||e.m||(e.m=!0,cl(e.Ha,e),e.C=0)}function kh(e,t){var n;n=t?t.m:e.V++;var r=hf(e.F);yf(r,"SID",e.J),yf(r,"RID",n),yf(r,"AID",e.U),bh(e,r),e.o&&e.s&&fh(r,e.o,e.s),n=new ql(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=wh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),jf(e.i,n),Kl(n,r,t)}function bh(e,t){e.j&&of({},(function(e,n){yf(t,n,e)}))}function wh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ys(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Wf(l,o,"req"+c+"_")}catch(od){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function _h(e){e.g||e.u||(e.Y=1,cl(e.Ga,e),e.A=0)}function xh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Al(Ys(e.Ga,e),Nh(e,e.A)),e.A++,!0)}function Eh(e){null!=e.B&&(js.clearTimeout(e.B),e.B=null)}function Sh(e){e.g=new ql(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=hf(e.oa);yf(t,"RID","rpc"),yf(t,"SID",e.J),yf(t,"CI",e.N?"0":"1"),yf(t,"AID",e.U),bh(e,t),yf(t,"TYPE","xmlhttp"),e.o&&e.s&&fh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gf(hf(t)),n.s=null,n.U=!0,Ql(n,e)}function Ih(e){null!=e.v&&(js.clearTimeout(e.v),e.v=null)}function Th(e,t){var n=null;if(e.g==t){Ih(e),Eh(e),e.g=null;var r=2}else{if(!Uf(e.i,t))return;n=t.D,Vf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;el(r=Il(),new Dl(r,n,t,i)),gh(e)}else _h(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ff(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Al(Ys(e.Ha,e,t),Nh(e,e.C)),e.C++,!0))}(e,t)||2==r&&xh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ch(e,5);break;case 4:Ch(e,10);break;case 3:Ch(e,6);break;default:Ch(e,2)}}function Nh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ch(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ys(e.jb,e);n||(n=new ff("//www.google.com/images/cleardot.gif"),js.location&&"http"==js.location.protocol||df(n,"https"),gf(n)),function(e,t){var n=new _l;if(js.Image){var r=new Image;r.onload=Ks(Hf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ks(Hf,n,r,"TestLoadImage: error",!1,t),r.onabort=Ks(Hf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ks(Hf,n,r,"TestLoadImage: timeout",!1,t),js.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ol(2);e.G=0,e.j&&e.j.va(t),Oh(e),mh(e)}function Oh(e){e.G=0,e.I=-1,e.j&&(0==zf(e.i).length&&0==e.l.length||(e.i.i.length=0,tc(e.l),e.l.length=0),e.j.ua())}function Dh(e,t,n){var r=function(e){return e instanceof ff?hf(e):new ff(e,void 0)}(n);if(""!=r.i)t&&pf(r,t+"."+r.i),vf(r,r.m);else{var i=js.location;r=function(e,t,n,r){var i=new ff(null,void 0);return e&&df(i,e),t&&pf(i,t),n&&vf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&cc(e.aa,(function(e,t){yf(r,t,e)})),t=e.D,n=e.sa,t&&n&&yf(r,t,n),yf(r,"VER",e.ma),bh(e,r),r}function Ah(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Zf(new Gf({ib:!0})):new Zf(e.qa)).L=e.H,t}function Ph(){}function Rh(){if(mc&&!(10<=Number(Cc)))throw Error("Environmental error: no available transport.")}function Mh(e,t){Zc.call(this),this.g=new dh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!nc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Uh(this)}function Lh(e){Vl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fh(){zl.call(this),this.status=1}function Uh(e){this.g=e}(Ms=Zf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ul.g(),this.C=this.u?Ll(this.u):Ll(Ul),this.g.onreadystatechange=Ys(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(tN){return void ih(this,tN)}e=n||"";var i=new uf(this.headers);r&&of(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=rh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=js.FormData&&e instanceof js.FormData,!(0<=Js(nh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sh(this),0<this.B&&((this.K=function(e){return mc&&Tc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ys(this.pa,this)):this.A=vl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(tN){ih(this,tN)}},Ms.pa=function(){"undefined"!=typeof Us&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,el(this,"timeout"),this.abort(8))},Ms.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,el(this,"complete"),el(this,"abort"),uh(this))},Ms.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),Zf.Z.M.call(this)},Ms.Fa=function(){this.s||(this.F||this.v||this.l?oh(this):this.cb())},Ms.cb=function(){oh(this)},Ms.ba=function(){try{return 2<ch(this)?this.g.status:-1}catch(eN){return-1}},Ms.ga=function(){try{return this.g?this.g.responseText:""}catch(eN){return""}},Ms.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Jf(t)}},Ms.Da=function(){return this.m},Ms.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ms=dh.prototype).ma=8,Ms.G=1,Ms.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(lN){}},Ms.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ql(this,this.h,e,void 0),n=this.s;if(this.P&&(n?hc(n=lc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=wh(this,t,r),yf(i=hf(this.F),"RID",e),yf(i,"CVER",22),this.D&&yf(i,"X-HTTP-Session-Id",this.D),bh(this,i),this.o&&n&&fh(i,this.o,n),jf(this.i,t),this.Ra&&yf(i,"TYPE","init"),this.ja?(yf(i,"$req",r),yf(i,"SID","null"),t.$=!0,Kl(t,i,null)):Kl(t,i,r),this.G=2}}else 3==this.G&&(e?kh(this,e):0==this.l.length||Lf(this.i)||kh(this))},Ms.Ga=function(){if(this.u=null,Sh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Al(Ys(this.bb,this),e)}},Ms.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ol(10),vh(this),Sh(this))},Ms.ab=function(){null!=this.v&&(this.v=null,vh(this),xh(this),Ol(19))},Ms.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ol(2)):(this.h.info("Failed to ping google.com"),Ol(1))},(Ms=Ph.prototype).xa=function(){},Ms.wa=function(){},Ms.va=function(){},Ms.ua=function(){},Ms.Oa=function(){},Rh.prototype.g=function(e,t){return new Mh(e,t)},Qs(Mh,Zc),Mh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),cl(Ys(e.hb,e,t))),Ol(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Dh(e,null,e.W),gh(e)},Mh.prototype.close=function(){ph(this.g)},Mh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,yh(this.g,t)}else this.v?((t={}).__data__=nl(e),yh(this.g,t)):yh(this.g,e)},Mh.prototype.M=function(){this.g.j=null,delete this.j,ph(this.g),delete this.g,Mh.Z.M.call(this)},Qs(Lh,Vl),Qs(Fh,zl),Qs(Uh,Ph),Uh.prototype.xa=function(){el(this.g,"a")},Uh.prototype.wa=function(e){el(this.g,new Lh(e))},Uh.prototype.va=function(e){el(this.g,new Fh(e))},Uh.prototype.ua=function(){el(this.g,"b")},Rh.prototype.createWebChannel=Rh.prototype.g,Mh.prototype.send=Mh.prototype.u,Mh.prototype.open=Mh.prototype.m,Mh.prototype.close=Mh.prototype.close,Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,Rl.COMPLETE="complete",Fl.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Zc.prototype.listen=Zc.prototype.N,Zf.prototype.listenOnce=Zf.prototype.O,Zf.prototype.getLastError=Zf.prototype.La,Zf.prototype.getLastErrorCode=Zf.prototype.Da,Zf.prototype.getStatus=Zf.prototype.ba,Zf.prototype.getResponseJson=Zf.prototype.Qa,Zf.prototype.getResponseText=Zf.prototype.ga,Zf.prototype.send=Zf.prototype.ea;var jh=Fs.createWebChannelTransport=function(){return new Rh},Vh=Fs.getStatEventTarget=function(){return Il()},zh=Fs.ErrorCode=Pl,Bh=Fs.EventType=Rl,qh=Fs.Event=El,Wh=Fs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hh=Fs.FetchXmlHttpFactory=Gf,Gh=Fs.WebChannel=Fl,Yh=Fs.XhrIo=Zf,Kh="@firebase/firestore",Qh=function(){function e(t){f(this,e),this.uid=t}return d(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Qh.UNAUTHENTICATED=new Qh(null),Qh.GOOGLE_CREDENTIALS=new Qh("google-credentials-uid"),Qh.FIRST_PARTY=new Qh("first-party-uid"),Qh.MOCK_USER=new Qh("mock-user");var $h="9.6.9",Xh=new xe("@firebase/firestore");function Jh(){return Xh.logLevel}function Zh(e){if(Xh.logLevel<=pe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nd);Xh.debug.apply(Xh,["Firestore (".concat($h,"): ").concat(e)].concat(ue(i)))}}function ed(e){if(Xh.logLevel<=pe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nd);Xh.error.apply(Xh,["Firestore (".concat($h,"): ").concat(e)].concat(ue(i)))}}function td(e){if(Xh.logLevel<=pe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nd);Xh.warn.apply(Xh,["Firestore (".concat($h,"): ").concat(e)].concat(ue(i)))}}function nd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($h,") INTERNAL ASSERTION FAILED: ")+e;throw ed(t),new Error(t)}function id(e,t){e||rd()}function ad(e,t){return e}var od={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ud=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return d(n)}(z),sd=d((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cd=d((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ld=function(){function e(){f(this,e)}return d(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fd=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return d(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),hd=function(){function e(t){f(this,e),this.t=t,this.currentUser=Qh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return d(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new sd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new sd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Zh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Zh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(id("string"==typeof n.accessToken),new cd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return id(null===e||"string"==typeof e),new Qh(e)}}]),e}(),dd=d((function e(t,n,r){f(this,e),this.type="FirstParty",this.user=Qh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),pd=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r}return d(e,[{key:"getToken",value:function(){return Promise.resolve(new dd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vd=d((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),md=function(){function e(t){f(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return d(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Zh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Zh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(id("string"==typeof t.token),e.p=t.token,new vd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),yd=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return d(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function gd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}yd.A=-1;var kd=function(){function e(){f(this,e)}return d(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=gd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function bd(e,t){return e<t?-1:e>t?1:0}function wd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function _d(e){return e+"\0"}var xd=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ud(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ud(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ud(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ud(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return d(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?bd(this.nanoseconds,e.nanoseconds):bd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ed=function(){function e(t){f(this,e),this.timestamp=t}return d(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xd(0,0))}}]),e}();function Sd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Id(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Td(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Nd=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&rd(),void 0===r?r=t.length-n:r>t.length-n&&rd(),this.segments=t,this.offset=n,this.len=r}return d(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Cd=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ud(od.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ue(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nd),Od=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dd=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Od.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ud(od.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ud(od.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ud(od.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ud(od.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nd),Ad=function(){function e(t){f(this,e),this.fields=t,t.sort(Dd.comparator)}return d(e,[{key:"covers",value:function(e){var t,n=p(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return wd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Pd=function(e){function t(e){f(this,t),this.binaryString=e}return d(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return bd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Pd.EMPTY_BYTE_STRING=new Pd("");var Rd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Md(e){if(id(!!e),"string"==typeof e){var t=0,n=Rd.exec(e);if(id(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ld(e.seconds),nanos:Ld(e.nanos)}}function Ld(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fd(e){return"string"==typeof e?Pd.fromBase64String(e):Pd.fromUint8Array(e)}function Ud(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jd(e){var t=e.mapValue.fields.__previous_value__;return Ud(t)?jd(t):t}function Vd(e){var t=Md(e.mapValue.fields.__local_write_time__.timestampValue);return new xd(t.seconds,t.nanos)}var zd=d((function e(t,n,r,i,a,o,u,s){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Bd=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return d(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function qd(e){return null==e}function Wd(e){return 0===e&&1/e==-1/0}function Hd(e){return"number"==typeof e&&Number.isInteger(e)&&!Wd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Gd=function(){function e(t){f(this,e),this.path=t}return d(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Cd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Cd.fromString(t))}},{key:"fromName",value:function(t){return new e(Cd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Cd.emptyPath())}},{key:"comparator",value:function(e,t){return Cd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Cd(t.slice()))}}]),e}(),Yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kd={nullValue:"NULL_VALUE"};function Qd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ud(e)?4:cp(e)?9:10:rd()}function $d(e,t){if(e===t)return!0;var n=Qd(e);if(n!==Qd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vd(e).isEqual(Vd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Md(e.timestampValue),r=Md(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fd(e.bytesValue).isEqual(Fd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ld(e.geoPointValue.latitude)===Ld(t.geoPointValue.latitude)&&Ld(e.geoPointValue.longitude)===Ld(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ld(e.integerValue)===Ld(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ld(e.doubleValue),r=Ld(t.doubleValue);return n===r?Wd(n)===Wd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wd(e.arrayValue.values||[],t.arrayValue.values||[],$d);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Sd(n)!==Sd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$d(n[i],r[i])))return!1;return!0}(e,t);default:return rd()}}function Xd(e,t){return void 0!==(e.values||[]).find((function(e){return $d(e,t)}))}function Jd(e,t){if(e===t)return 0;var n=Qd(e),r=Qd(t);if(n!==r)return bd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ld(e.integerValue||e.doubleValue),r=Ld(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zd(e.timestampValue,t.timestampValue);case 4:return Zd(Vd(e),Vd(t));case 5:return bd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fd(e),r=Fd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=bd(n[i],r[i]);if(0!==a)return a}return bd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=bd(Ld(e.latitude),Ld(t.latitude));return 0!==n?n:bd(Ld(e.longitude),Ld(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Jd(n[i],r[i]);if(a)return a}return bd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=bd(r[o],a[o]);if(0!==u)return u;var s=Jd(n[r[o]],i[a[o]]);if(0!==s)return s}return bd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rd()}}function Zd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bd(e,t);var n=Md(e),r=Md(t),i=bd(n.seconds,r.seconds);return 0!==i?i:bd(n.nanos,r.nanos)}function ep(e){return tp(e)}function tp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Md(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Gd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=p(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=tp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=p(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(tp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rd();var t,n}function np(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function rp(e){return!!e&&"integerValue"in e}function ip(e){return!!e&&"arrayValue"in e}function ap(e){return!!e&&"nullValue"in e}function op(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function up(e){return!!e&&"mapValue"in e}function sp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Id(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=sp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=sp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function lp(e,t){return void 0===e?t:void 0===t||Jd(e,t)>0?e:t}function fp(e,t){return void 0===e?t:void 0===t||Jd(e,t)<0?e:t}var hp=function(){function e(t){f(this,e),this.value=t}return d(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!up(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sp(t)}},{key:"setAll",value:function(e){var t=this,n=Dd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=sp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $d(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];up(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Id(t,(function(t,n){return e[t]=n}));var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(sp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dp(e){var t=[];return Id(e.fields,(function(e,n){var r=new Dd([e]);if(up(n)){var i=dp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=p(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ad(t)}var pp=function(){function e(t,n,r,i,a,o){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return d(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ed.min(),Ed.min(),hp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ed.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ed.min(),hp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ed.min(),hp.empty(),2)}}]),e}(),vp=d((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function mp(e){return e.fields.find((function(e){return 2===e.kind}))}function yp(e){return e.fields.filter((function(e){return 2!==e.kind}))}vp.UNKNOWN_ID=-1;var gp=d((function e(t,n){f(this,e),this.fieldPath=t,this.kind=n})),kp=function(){function e(t,n){f(this,e),this.sequenceNumber=t,this.offset=n}return d(e,null,[{key:"empty",value:function(){return new e(0,bp.min())}}]),e}(),bp=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return d(e,null,[{key:"min",value:function(){return new e(Ed.min(),Gd.empty(),-1)}}]),e}(),wp=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function _p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new wp(e,t,n,r,i,a,o)}function xp(e){var t=ad(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ep(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),qd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ep(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ep(e)})).join(",")),t.P=n}return t.P}function Ep(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Up(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$d(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vp(e.startAt,t.startAt)&&Vp(e.endAt,t.endAt)}function Sp(e){return Gd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ip(e,t){return e.filters.filter((function(e){return e instanceof Tp&&e.field.isEqual(t)}))}var Tp=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Jd(t,this.value)):null!==t&&Qd(this.value)===Qd(t)&&this.v(Jd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rd()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Np(e,t,r):"array-contains"===t?new Ap(e,r):"in"===t?new Pp(e,r):"not-in"===t?new Rp(e,r):"array-contains-any"===t?new Mp(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Cp(e,n):new Op(e,n)}}]),n}(function(){return d((function e(){f(this,e)}))}()),Np=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=Gd.fromName(i.referenceValue),a}return d(n,[{key:"matches",value:function(e){var t=Gd.comparator(e.key,this.key);return this.v(t)}}]),n}(Tp),Cp=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=Dp("in",r),i}return d(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tp),Op=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=Dp("not-in",r),i}return d(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tp);function Dp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Gd.fromName(e.referenceValue)}))}var Ap=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ip(t)&&Xd(t.arrayValue,this.value)}}]),n}(Tp),Pp=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Xd(this.value.arrayValue,t)}}]),n}(Tp),Rp=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return d(n,[{key:"matches",value:function(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Xd(this.value.arrayValue,t)}}]),n}(Tp),Mp=function(e){y(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return d(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Xd(t.value.arrayValue,e)}))}}]),n}(Tp),Lp=d((function e(t,n){f(this,e),this.position=t,this.inclusive=n})),Fp=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function Up(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function jp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Gd.comparator(Gd.fromName(o.referenceValue),n.key):Jd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$d(e.position[n],t.position[n]))return!1;return!0}var zp=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Bp(e,t,n,r,i,a,o,u){return new zp(e,t,n,r,i,a,o,u)}function qp(e){return new zp(e)}function Wp(e){return!qd(e.limit)&&"F"===e.limitType}function Hp(e){return!qd(e.limit)&&"L"===e.limitType}function Gp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yp(e){var t,n=p(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kp(e){return null!==e.collectionGroup}function Qp(e){var t=ad(e);if(null===t.D){t.D=[];var n=Yp(t),r=Gp(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Fp(n)),t.D.push(new Fp(Dd.keyField(),"asc"));else{var i,a=!1,o=p(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Fp(Dd.keyField(),s))}}}return t.D}function $p(e){var t=ad(e);if(!t.C)if("F"===t.limitType)t.C=_p(t.path,t.collectionGroup,Qp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=p(Qp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Fp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Lp(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Lp(t.startAt.position,!t.startAt.inclusive):null;t.C=_p(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Xp(e,t,n){return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jp(e,t){return Ep($p(e),$p(t))&&e.limitType===t.limitType}function Zp(e){return"".concat(xp($p(e)),"|lt:").concat(e.limitType)}function ev(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ep(t.value));var t})).join(", "),"]")),qd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ep(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ep(e)})).join(",")),"Target(".concat(t,")")}($p(e)),"; limitType=").concat(e.limitType,")")}function tv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=p(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=p(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qp(e),t))&&!(e.endAt&&!function(e,t,n){var r=jp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qp(e),t))}(e,t)}function nv(e){return function(t,n){var r,i=!1,a=p(Qp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=rv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function rv(e,t,n){var r=e.field.isKeyField()?Gd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jd(r,i):rd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rd()}}function iv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(t)?"-0":t}}function av(e){return{integerValue:""+e}}function ov(e,t){return Hd(t)?av(t):iv(e,t)}var uv=d((function e(){f(this,e),this._=void 0}));function sv(e,t,n){return e instanceof fv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hv?dv(e,t):e instanceof pv?vv(e,t):function(e,t){var n=lv(e,t),r=yv(n)+yv(e.k);return rp(n)&&rp(e.k)?av(r):iv(e.M,r)}(e,t)}function cv(e,t,n){return e instanceof hv?dv(e,t):e instanceof pv?vv(e,t):n}function lv(e,t){return e instanceof mv?rp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var fv=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n)}(uv),hv=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return d(n)}(uv);function dv(e,t){var n,r=gv(t),i=p(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $d(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pv=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return d(n)}(uv);function vv(e,t){var n,r=gv(t),i=p(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$d(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mv=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).M=e,i.k=r,i}return d(n)}(uv);function yv(e){return Ld(e.integerValue||e.doubleValue)}function gv(e){return ip(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kv=d((function e(t,n){f(this,e),this.field=t,this.transform=n}));var bv=d((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),wv=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return d(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _v(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xv=d((function e(){f(this,e)}));function Ev(e,t,n){e instanceof Cv?function(e,t,n){var r=e.value.clone(),i=Av(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ov?function(e,t,n){if(_v(e.precondition,t)){var r=Av(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sv(e,t,n){e instanceof Cv?function(e,t,n){if(_v(e.precondition,t)){var r=e.value.clone(),i=Pv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Nv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ov?function(e,t,n){if(_v(e.precondition,t)){var r=Pv(e.fieldTransforms,n,t),i=t.data;i.setAll(Dv(e)),i.setAll(r),t.convertToFoundDocument(Nv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){_v(e.precondition,t)&&t.convertToNoDocument(Ed.min())}(e,t)}function Iv(e,t){var n,r=null,i=p(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=lv(a.transform,o||null);null!=u&&(null==r&&(r=hp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Tv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hv&&t instanceof hv||e instanceof pv&&t instanceof pv?wd(e.elements,t.elements,$d):e instanceof mv&&t instanceof mv?$d(e.k,t.k):e instanceof fv&&t instanceof fv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Nv(e){return e.isFoundDocument()?e.version:Ed.min()}var Cv=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return d(n)}(xv),Ov=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return d(n)}(xv);function Dv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Av(e,t,n){var r=new Map;id(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,cv(o,u,n[i]))}return r}function Pv(e,t,n){var r,i=new Map,a=p(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,sv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Rv,Mv,Lv=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return d(n)}(xv),Fv=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return d(n)}(xv),Uv=d((function e(t){f(this,e),this.count=t}));function jv(e){switch(e){default:return rd();case od.CANCELLED:case od.UNKNOWN:case od.DEADLINE_EXCEEDED:case od.RESOURCE_EXHAUSTED:case od.INTERNAL:case od.UNAVAILABLE:case od.UNAUTHENTICATED:return!1;case od.INVALID_ARGUMENT:case od.NOT_FOUND:case od.ALREADY_EXISTS:case od.PERMISSION_DENIED:case od.FAILED_PRECONDITION:case od.ABORTED:case od.OUT_OF_RANGE:case od.UNIMPLEMENTED:case od.DATA_LOSS:return!0}}function Vv(e){if(void 0===e)return ed("GRPC error has no .code"),od.UNKNOWN;switch(e){case Rv.OK:return od.OK;case Rv.CANCELLED:return od.CANCELLED;case Rv.UNKNOWN:return od.UNKNOWN;case Rv.DEADLINE_EXCEEDED:return od.DEADLINE_EXCEEDED;case Rv.RESOURCE_EXHAUSTED:return od.RESOURCE_EXHAUSTED;case Rv.INTERNAL:return od.INTERNAL;case Rv.UNAVAILABLE:return od.UNAVAILABLE;case Rv.UNAUTHENTICATED:return od.UNAUTHENTICATED;case Rv.INVALID_ARGUMENT:return od.INVALID_ARGUMENT;case Rv.NOT_FOUND:return od.NOT_FOUND;case Rv.ALREADY_EXISTS:return od.ALREADY_EXISTS;case Rv.PERMISSION_DENIED:return od.PERMISSION_DENIED;case Rv.FAILED_PRECONDITION:return od.FAILED_PRECONDITION;case Rv.ABORTED:return od.ABORTED;case Rv.OUT_OF_RANGE:return od.OUT_OF_RANGE;case Rv.UNIMPLEMENTED:return od.UNIMPLEMENTED;case Rv.DATA_LOSS:return od.DATA_LOSS;default:return rd()}}(Mv=Rv||(Rv={}))[Mv.OK=0]="OK",Mv[Mv.CANCELLED=1]="CANCELLED",Mv[Mv.UNKNOWN=2]="UNKNOWN",Mv[Mv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mv[Mv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mv[Mv.NOT_FOUND=5]="NOT_FOUND",Mv[Mv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mv[Mv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mv[Mv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mv[Mv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mv[Mv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mv[Mv.ABORTED=10]="ABORTED",Mv[Mv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mv[Mv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mv[Mv.INTERNAL=13]="INTERNAL",Mv[Mv.UNAVAILABLE=14]="UNAVAILABLE",Mv[Mv.DATA_LOSS=15]="DATA_LOSS";var zv=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return d(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Id(this.inner,(function(t,n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Td(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Bv=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||Wv.EMPTY}return d(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qv(this.root,e,this.comparator,!0)}}]),e}(),qv=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return d(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Wv=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return d(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rd();if(this.right.isRed())throw rd();var e=this.left.check();if(e!==this.right.check())throw rd();return e+(this.isRed()?0:1)}}]),e}();Wv.EMPTY=null,Wv.RED=!0,Wv.BLACK=!1,Wv.EMPTY=new(function(){function e(){f(this,e),this.size=0}return d(e,[{key:"key",get:function(){throw rd()}},{key:"value",get:function(){throw rd()}},{key:"color",get:function(){throw rd()}},{key:"left",get:function(){throw rd()}},{key:"right",get:function(){throw rd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Hv=function(){function e(t){f(this,e),this.comparator=t,this.data=new Bv(this.comparator)}return d(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Gv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Gv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Gv=function(){function e(t){f(this,e),this.iter=t}return d(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Yv(e){return e.hasNext()?e.getNext():void 0}var Kv=new Bv(Gd.comparator);function Qv(){return Kv}var $v=new Bv(Gd.comparator);function Xv(){return $v}function Jv(){return new zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Zv=new Bv(Gd.comparator),em=new Hv(Gd.comparator);function tm(){for(var e=em,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nm=new Hv(bd);function rm(){return nm}var im=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return d(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,am.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ed.min(),r,rm(),Qv(),tm())}}]),e}(),am=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return d(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Pd.EMPTY_BYTE_STRING,n,tm(),tm(),tm())}}]),e}(),om=d((function e(t,n,r,i){f(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),um=d((function e(t,n){f(this,e),this.targetId=t,this.F=n})),sm=d((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cm=function(){function e(){f(this,e),this.B=0,this.L=hm(),this.q=Pd.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return d(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=tm(),t=tm(),n=tm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rd()}})),new am(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=hm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),lm=function(){function e(t){f(this,e),this.nt=t,this.st=new Map,this.it=Qv(),this.rt=fm(),this.ot=new Hv(bd)}return d(e,[{key:"at",value:function(e){var t,n=p(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=p(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:rd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Sp(i))if(0===n){var a=new Gd(i.path);this.ct(t,a,pp.newNoDocument(a,Ed.min()))}else id(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Sp(a.target)){var o=new Gd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,pp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=tm();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new im(e,n,this.ot,this.it,r);return this.it=Qv(),this.rt=fm(),this.ot=new Hv(bd),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new cm,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Hv(bd),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Zh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new cm),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fm(){return new Bv(Gd.comparator)}function hm(){return new Bv(Gd.comparator)}var dm={asc:"ASCENDING",desc:"DESCENDING"},pm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vm=d((function e(t,n){f(this,e),this.databaseId=t,this.N=n}));function mm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ym(e,t){return e.N?t.toBase64():t.toUint8Array()}function gm(e,t){return mm(e,t.toTimestamp())}function km(e){return id(!!e),Ed.fromTimestamp(function(e){var t=Md(e);return new xd(t.seconds,t.nanos)}(e))}function bm(e,t){return function(e){return new Cd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wm(e){var t=Cd.fromString(e);return id(Wm(t)),t}function _m(e,t){return bm(e.databaseId,t.path)}function xm(e,t){var n=wm(t);if(n.get(1)!==e.databaseId.projectId)throw new ud(od.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ud(od.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gd(Tm(n))}function Em(e,t){return bm(e.databaseId,t)}function Sm(e){var t=wm(e);return 4===t.length?Cd.emptyPath():Tm(t)}function Im(e){return new Cd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tm(e){return id(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nm(e,t,n){return{name:_m(e,t),fields:n.value.mapValue.fields}}function Cm(e,t,n){var r=xm(e,t.name),i=km(t.updateTime),a=new hp({mapValue:{fields:t.fields}}),o=pp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Om(e,t){return"found"in t?function(e,t){id(!!t.found),t.found.name,t.found.updateTime;var n=xm(e,t.found.name),r=km(t.found.updateTime),i=new hp({mapValue:{fields:t.found.fields}});return pp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){id(!!t.missing),id(!!t.readTime);var n=xm(e,t.missing),r=km(t.readTime);return pp.newNoDocument(n,r)}(e,t):rd()}function Dm(e,t){var n;if(t instanceof Cv)n={update:Nm(e,t.key,t.value)};else if(t instanceof Lv)n={delete:_m(e,t.key)};else if(t instanceof Ov)n={update:Nm(e,t.key,t.data),updateMask:qm(t.fieldMask)};else{if(!(t instanceof Fv))return rd();n={verify:_m(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof fv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw rd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rd()}(e,t.precondition)),n}function Am(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?wv.updateTime(km(e.updateTime)):void 0!==e.exists?wv.exists(e.exists):wv.none()}(t.currentDocument):wv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)id("REQUEST_TIME"===t.setToServerValue),n=new fv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new hv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new pv(i)}else"increment"in t?n=new mv(e,t.increment):rd();var a=Dd.fromServerFormat(t.fieldPath);return new kv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xm(e,t.update.name),a=new hp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ad(t.map((function(e){return Dd.fromServerFormat(e)})))}(t.updateMask);return new Ov(i,a,o,n,r)}return new Cv(i,a,n,r)}if(t.delete){var u=xm(e,t.delete);return new Lv(u,n)}if(t.verify){var s=xm(e,t.verify);return new Fv(s,n)}return rd()}function Pm(e,t){return{documents:[Em(e,t.path)]}}function Rm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Em(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Em(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(op(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NAN"}};if(ap(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(op(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NOT_NAN"}};if(ap(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jm(e.field),op:Um(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jm(e.field),direction:Fm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||qd(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Mm(e){var t=Sm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){id(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Lm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Fp(Vm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return qd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Lp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Lp(n,t)}(n.endAt)),Bp(t,i,u,o,s,"F",c,l)}function Lm(e){return e?void 0!==e.unaryFilter?[Bm(e)]:void 0!==e.fieldFilter?[zm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Lm(e)})).reduce((function(e,t){return e.concat(t)})):rd():[]}function Fm(e){return dm[e]}function Um(e){return pm[e]}function jm(e){return{fieldPath:e.canonicalString()}}function Vm(e){return Dd.fromServerFormat(e.fieldPath)}function zm(e){return Tp.create(Vm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Bm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Vm(e.unaryFilter.field);return Tp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Vm(e.unaryFilter.field);return Tp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vm(e.unaryFilter.field);return Tp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vm(e.unaryFilter.field);return Tp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rd()}}function qm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Wm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Hm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ym(t)),t=Gm(e.get(n),t);return Ym(t)}function Gm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ym(e){return e+"\x01\x01"}function Km(e){var t=e.length;if(id(t>=2),2===t)return id("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Cd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rd()}a=o+2}return new Cd(r)}var Qm=["userId","batchId"];function $m(e,t){return[e,Hm(t)]}function Xm(e,t,n){return[e,Hm(t),n]}var Jm={},Zm=["parentPath","readTime"],ey=["canonicalId","targetId"],ty=["targetId","path"],ny=["path","targetId"],ry=["collectionId","parent"],iy=["indexId","uid"],ay=["uid","sequenceNumber"],oy=["indexId","uid","arrayValue","directionalValue","documentKey"],uy=["indexId","uid","documentKey"],sy=["userId","collectionPath","documentId"],cy=["userId","collectionPath","largestBatchId"],ly=["userId","collectionGroup","largestBatchId"],fy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),hy=[].concat(ue(fy),["documentOverlays"]),dy=[].concat(ue(hy),["indexConfiguration","indexState","indexEntries"]),py="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=function(){function e(){f(this,e),this.onCommittedListeners=[]}return d(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),my=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return d(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=p(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),yy=function(){function e(t,n){var r=this;f(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new sd,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new by(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Sy(e.target.error);r.At.reject(new by(t,n))}}return d(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Zh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new _y(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new by(n,t)}}}]),e}(),gy=function(){function e(t,n,r){f(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(R())&&ed("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return d(e,[{key:"Nt",value:function(){var e=ce(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new by(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ud(od.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ud(od.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new by(t,n))},i.onupgradeneeded=function(e){Zh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Zh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ce(I().mark((function e(t,n,r,i){var a,o,u,s,c=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(I().mark((function e(){var n,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=yy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),my.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Zh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zh("SimpleDb","Removing database:",e),xy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!V())return!1;if(e.St())return!0;var t=R(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ky=function(){function e(t){f(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return d(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return xy(this.$t.delete())}}]),e}(),by=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,od.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return d(n)}(ud);function wy(e){return"IndexedDbTransactionError"===e.name}var _y=function(){function e(t){f(this,e),this.store=t}return d(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xy(n)}},{key:"add",value:function(e){return Zh("SimpleDb","ADD",this.store.name,e,e),xy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zh("SimpleDb","DELETE",this.store.name,e),xy(this.store.delete(e))}},{key:"count",value:function(){return Zh("SimpleDb","COUNT",this.store.name),xy(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new my((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new my((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Zh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new my((function(n,r){t.onerror=function(e){var t=Sy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new my((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ky(i),o=t(i.primaryKey,i.value,a);if(o instanceof my){var u=o.catch((function(e){return a.done(),my.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return my.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xy(e){return new my((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Sy(e.target.error);n(t)}}))}var Ey=!1;function Sy(e){var t=gy.Vt(R());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ud("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ey||(Ey=!0,setTimeout((function(){throw r}),0)),r}}return e}var Iy=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return d(n)}(vy);function Ty(e,t){var n=ad(e);return gy.xt(n.Ht,t)}var Ny=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return d(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ev(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=p(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Sv(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=p(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Sv(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ed.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&wd(this.mutations,e.mutations,(function(e,t){return Tv(e,t)}))&&wd(this.baseMutations,e.baseMutations,(function(e,t){return Tv(e,t)}))}}]),e}(),Cy=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return d(e,null,[{key:"from",value:function(t,n,r){id(t.mutations.length===r.length);for(var i=Zv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Oy=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return d(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ed.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ed.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pd.EMPTY_BYTE_STRING;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return d(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ay=d((function e(t){f(this,e),this.Jt=t}));function Py(e,t){var n;if(t.document)n=Cm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Gd.fromSegments(t.noDocument.path),i=Uy(t.noDocument.readTime);n=pp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rd();var a=Gd.fromSegments(t.unknownDocument.path),o=Uy(t.unknownDocument.version);n=pp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(Ly(t.readTime)),n}function Ry(e,t){var n=t.key.path.popLast().toArray(),r=My(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:_m(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mm(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:Fy(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:Fy(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:rd()}function My(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ly(e){var t=new xd(e[0],e[1]);return Ed.fromTimestamp(t)}function Fy(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Uy(e){var t=new xd(e.seconds,e.nanoseconds);return Ed.fromTimestamp(t)}function jy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Am(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Am(e.Jt,t)})),u=xd.fromMillis(t.localWriteTimeMs);return new Ny(t.batchId,u,n,o)}function Vy(e){var t,n,r=Uy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Uy(e.lastLimboFreeSnapshotVersion):Ed.min();return void 0!==e.query.documents?(id(1===(n=e.query).documents.length),t=$p(qp(Sm(n.documents[0])))):t=function(e){return $p(Mm(e))}(e.query),new Dy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Pd.fromBase64String(e.resumeToken))}function zy(e,t){var n,r=Fy(t.snapshotVersion),i=Fy(t.lastLimboFreeSnapshotVersion);n=Sp(t.target)?Pm(e.Jt,t.target):Rm(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function By(e){var t=Mm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xp(t,t.limit,"L"):t}function qy(e,t){return new Oy(t.largestBatchId,Am(e.Jt,t.overlayMutation))}function Wy(e,t){var n=t.path.lastSegment();return[e,Hm(t.path.popLast()),n]}var Hy=function(){function e(){f(this,e)}return d(e,[{key:"getBundleMetadata",value:function(e,t){return Gy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Uy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Gy(e).put({bundleId:(n=t).id,createTime:Fy(km(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Yy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:By(t.bundledQuery),readTime:Uy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Yy(e).put(function(e){return{name:e.name,readTime:Fy(km(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Gy(e){return Ty(e,"bundles")}function Yy(e){return Ty(e,"namedQueries")}var Ky=function(){function e(t,n){f(this,e),this.M=t,this.userId=n}return d(e,[{key:"getOverlay",value:function(e,t){var n=this;return Qy(e).get(Wy(this.userId,t)).next((function(e){return e?qy(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Oy(t,a);i.push(r.Xt(e,o))})),my.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Hm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Qy(e).Qt("collectionPathOverlayIndex",i))})),my.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jv(),a=Hm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Qy(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=qy(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qy(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=qy(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Qy(e).put(function(e,t,n){var r=s(Wy(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Dm(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Qy(e){return Ty(e,"documentOverlays")}var $y=function(){function e(){f(this,e)}return d(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ld(e.integerValue));else if("doubleValue"in e){var n=Ld(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Wd(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Fd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?cp(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rd()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),Gd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Xy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}$y.fe=new $y;var Zy=function(){function e(){f(this,e),this.buffer=new Uint8Array(1024),this.position=0}return d(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Jy(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Jy(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),eg=function(){function e(t){f(this,e),this.De=t}return d(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),tg=function(){function e(t){f(this,e),this.De=t}return d(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),ng=function(){function e(){f(this,e),this.De=new Zy,this.Ce=new eg(this.De),this.xe=new tg(this.De)}return d(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),rg=function(){function e(t,n,r,i){f(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return d(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ig(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ag(e.arrayValue,t.arrayValue))?n:0!==(n=ag(e.directionalValue,t.directionalValue))?n:Gd.comparator(e.documentKey,t.documentKey)}function ag(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var og=function(){function e(t){f(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=p(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return d(e,[{key:"Fe",value:function(e){var t=mp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=yp(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=p(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ug=function(){function e(){f(this,e),this.Ue=new sg}return d(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),my.resolve()}},{key:"getCollectionParents",value:function(e,t){return my.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return my.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return my.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return my.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return my.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return my.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return my.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return my.resolve()}},{key:"updateIndexEntries",value:function(e,t){return my.resolve()}}]),e}(),sg=function(){function e(){f(this,e),this.index={}}return d(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hv(Cd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Hv(Cd.comparator)).toArray()}}]),e}(),cg=new Uint8Array(0),lg=function(){function e(t){f(this,e),this.user=t,this.Ke=new sg,this.Ge=new zv((function(e){return xp(e)}),(function(e,t){return Ep(e,t)})),this.uid=t.uid||""}return d(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Hm(i)};return fg(e).put(a)}return my.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[_d(t),""],!1,!0);return fg(e).Ut(r).next((function(e){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Km(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=dg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dg(e),r=pg(e),i=hg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hg(e),i=!0,a=new Map;return my.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=tm();return my.forEach(a,(function(i,a){var o;Zh("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xp(t)));var u=function(e,t){var n=mp(t);if(void 0===n)return null;var r,i=p(Ip(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=p(yp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=p(Ip(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=p(yp(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=p(Ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Kd:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?np(Bd.empty(),Gd.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:rd();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,v=!1;break;case"!=":case"not-in":d=Kd}lp(c,d)===d&&(c=d,l=v)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.startAt)for(var m=0;m<e.orderBy.length;++m)if(e.orderBy[m].field.isEqual(s.fieldPath)){var y=e.startAt.position[m];lp(c,y)===y&&(c=y,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new Lp(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=p(yp(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=p(Ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?np(Bd.empty(),Gd.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Yd:rd(),v=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,v=!1;break;case"!=":case"not-in":d=Yd}fp(c,d)===d&&(c=d,l=v)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.endAt)for(var m=0;m<e.orderBy.length;++m)if(e.orderBy[m].field.isEqual(s.fieldPath)){var y=e.endAt.position[m];fp(c,y)===y&&(c=y,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new Lp(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),v=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return my.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Gd(Km(t.documentKey)))}))}))}))})).next((function(){return e}))}return my.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):cg,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,ue(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new rg(e,Gd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new rg(e,Gd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new rg(e,Gd.empty(),cg,cg)}},{key:"getFieldIndex",value:function(e,t){var n=new og(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new ng,i=p(yp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);$y.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new ng;return $y.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ng);var i,a=0,o=p(yp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=p(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&ip(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);$y.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=ue(e),a=[],o=p(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=p(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new ng;f.seed(l.Se()),$y.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Tp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dg(e),i=pg(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return my.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new kp(t.sequenceNumber,new bp(Uy(t.readTime),new Gd(Km(t.documentKey)),t.largestBatchId)):kp.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new gp(Dd.fromServerFormat(n),r)}));return new vp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:bd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dg(e),a=pg(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return my.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fy(r.readTime),documentKey:Hm(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return my.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?my.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),my.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?my.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return hg(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Hm(t.key.path)})}},{key:"cn",value:function(e,t,n){return hg(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Hm(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=hg(e),i=new Hv(ig);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Hm(t.path)])},(function(e,r){i=i.add(new rg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Hv(ig),r=this.Ze(t,e);if(null==r)return n;var i=mp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ip(a)){var o,u=p(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new rg(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new rg(t.indexId,e.key,cg,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;Zh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Yv(a),s=Yv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Yv(o)):l?(i(u),u=Yv(a)):(u=Yv(a),s=Yv(o))}}(n,r,ig,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),my.waitFor(a)}},{key:"sn",value:function(e){var t=1;return pg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ig(e,t)})).filter((function(e,t,n){return!t||0!==ig(e,n[t-1])}));var r=[];r.push(e);var i,a=p(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ig(o,e),s=ig(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function fg(e){return Ty(e,"collectionParents")}function hg(e){return Ty(e,"indexEntries")}function dg(e){return Ty(e,"indexConfiguration")}function pg(e){return Ty(e,"indexState")}var vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mg=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return d(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function yg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){id(1===u)})));var c,l=[],f=p(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return my.waitFor(a).next((function(){return l}))}function gg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rd();t=e.noDocument}return JSON.stringify(t).length}mg.DEFAULT_COLLECTION_PERCENTILE=10,mg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mg.DEFAULT=new mg(41943040,mg.DEFAULT_COLLECTION_PERCENTILE,mg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mg.DISABLED=new mg(-1,0,0);var kg=function(){function e(t,n,r,i){f(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return d(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_g(e),o=wg(e);return o.add({}).next((function(u){id("number"==typeof u);var s,c=new Ny(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Dm(e.Jt,t)})),i=n.mutations.map((function(t){return Dm(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Hv((function(e,t){return bd(e.canonicalString(),t.canonicalString())})),d=p(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,m=Xm(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(m,Jm))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),my.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return wg(e).get(t).next((function(e){return e?(id(e.userId===n.userId),jy(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?my.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return wg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(id(t.batchId>=r),a=jy(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wg(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return jy(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$m(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _g(e).Wt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Km(l);if(c===n.userId&&t.path.isEqual(h))return wg(e).get(f).next((function(e){if(!e)throw rd();id(e.userId===n.userId),a.push(jy(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hv(bd),i=[];return t.forEach((function(t){var a=$m(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=_g(e).Wt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Km(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),my.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$m(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Hv(bd);return _g(e).Wt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Km(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wg(e).get(t).next((function(e){if(null===e)throw rd();id(e.userId===n.userId),r.push(jy(n.M,e))})))})),my.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return yg(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),my.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return my.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _g(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Km(e[1]);i.push(a)}else r.done()})).next((function(){id(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bg(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return xg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return id(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bg(e,t,n){var r=$m(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _g(e).Wt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function wg(e){return Ty(e,"mutations")}function _g(e){return Ty(e,"documentMutations")}function xg(e){return Ty(e,"mutationQueues")}var Eg=function(){function e(t){f(this,e),this.wn=t}return d(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Sg=function(){function e(t,n){f(this,e),this.referenceDelegate=t,this.M=n}return d(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Eg(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Ed.fromTimestamp(new xd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ig(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return id(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ig(e).Wt((function(o,u){var s=Vy(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return my.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ig(e).Wt((function(e,n){var r=Vy(n);t(r)}))}},{key:"yn",value:function(e){return Tg(e).get("targetGlobalKey").next((function(e){return id(null!==e),e}))}},{key:"pn",value:function(e,t){return Tg(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Ig(e).put(zy(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ig(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Vy(n);Ep(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ng(e);return t.forEach((function(t){var o=Hm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),my.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ng(e);return my.forEach(t,(function(t){var a=Hm(t.path);return my.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ng(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ng(e),i=tm();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Km(e[1]),a=new Gd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Hm(t.path),r=IDBKeyRange.bound([n],[_d(n)],!1,!0),i=0;return Ng(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ig(e).get(t).next((function(e){return e?Vy(e):null}))}}]),e}();function Ig(e){return Ty(e,"targets")}function Tg(e){return Ty(e,"targetGlobal")}function Ng(e){return Ty(e,"targetDocuments")}function Cg(e){return Og.apply(this,arguments)}function Og(){return Og=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===od.FAILED_PRECONDITION&&t.message===py){e.next=2;break}throw t;case 2:Zh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Og.apply(this,arguments)}function Dg(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=bd(r,o);return 0===c?bd(i,u):c}var Ag=function(){function e(t){f(this,e),this.En=t,this.buffer=new Hv(Dg),this.An=0}return d(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Dg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Pg=function(){function e(t,n){f(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return d(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Zh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!wy(n.t0)){n.next=12;break}Zh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Cg(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Rg=function(){function e(t,n){f(this,e),this.Sn=t,this.params=n}return d(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return my.resolve(yd.A);var r=new Ag(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zh("LruGarbageCollector","Garbage collection skipped; disabled"),my.resolve(vg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vg):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Jh()<=pe.DEBUG&&Zh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),my.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Mg=function(){function e(t,n){f(this,e),this.db=t,this.garbageCollector=function(e,t){return new Rg(e,t)}(this,n)}return d(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lg(e,n)}},{key:"removeReference",value:function(e,t,n){return Lg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lg(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return xg(e).zt((function(r){return bg(e,r,t).next((function(e){return e&&(n=!0),my.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ed.min()),Ng(e).delete([0,Hm(o.path)])}))}));i.push(s)}})).next((function(){return my.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lg(e,t)}},{key:"kn",value:function(e,t){var n,r=Ng(e),i=yd.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==yd.A&&t(new Gd(Km(n)),i),i=c,n=u):i=yd.A})).next((function(){i!==yd.A&&t(new Gd(Km(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lg(e,t){return Ng(e).put(function(e,t){return{targetId:0,path:Hm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fg=function(){function e(){f(this,e),this.changes=new zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return d(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,pp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?my.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ug=function(){function e(t){f(this,e),this.M=t}return d(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return zg(e).put(Bg(t),n)}},{key:"removeEntry",value:function(e,t){var n=zg(e),r=Bg(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return zg(e).get(Bg(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return zg(e).get(Bg(t)).next((function(e){return{document:n.$n(t,e),size:gg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qv();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Qv(),i=new Bv(Gd.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,gg(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return my.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return zg(e).Wt({range:r},(function(e,t,r){for(var o=Gd.fromSegments(e);a&&Gd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Qv(),a=t.length+1,o={};if(n.isEqual(Ed.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=My(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return zg(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(Gd.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new jg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Vg(e).get("remoteDocumentGlobalKey").next((function(e){return id(!!e),e}))}},{key:"On",value:function(e,t){return Vg(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=Py(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Ed.min()))return n}return pp.newInvalidDocument(e)}}]),e}(),jg=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return d(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Hv((function(e,t){return bd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=Ry(t.Un.M,o);i=i.add(a.path.popLast());var c=gg(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Ry(t.Un.M,o.convertToNoDocument(Ed.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),my.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(Fg);function Vg(e){return Ty(e,"remoteDocumentGlobal")}function zg(e){return Ty(e,"remoteDocuments")}function Bg(e){return e.path.toArray()}var qg=function(){function e(t){f(this,e),this.M=t}return d(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new yy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qm,{unique:!0}),e.createObjectStore("documentMutations")}(e),Wg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=my.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Wg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ed.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return my.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",Zm,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:sy});t.createIndex("collectionPathOverlayIndex",cy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ly,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:iy}).createIndex("sequenceNumberIndex",ay,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:oy}).createIndex("documentKeyIndex",uy,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=gg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return my.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return my.forEach(r,(function(r){id(r.userId===n.userId);var i=jy(t.M,r);return yg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Cd(n),o=function(e){return[0,Hm(e)]}(a);r.push(t.get(o).next((function(n){return n?my.resolve():function(n){return t.put({targetId:0,path:Hm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return my.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ry});var n=t.store("collectionParents"),r=new sg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Hm(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Cd(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Km(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Vy(r),a=zy(t.M,i);return n.put(a)}))}}]),e}();function Wg(e){e.createObjectStore("targetDocuments",{keyPath:ty}).createIndex("documentTargetsIndex",ny,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ey,{unique:!0}),e.createObjectStore("targetGlobal")}var Hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gg=function(){function e(t,n,r,i,a,o,u,s,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(f(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=h,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new ud(od.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mg(this,i),this.us=n+"main",this.M=new Ay(s),this.cs=new gy(this.us,this.Xn,new qg(this.M)),this.hs=new Sg(this.referenceDelegate,this.M),this.ls=function(e){return new Ug(e)}(this.M),this.fs=new Hy,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&ed("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return d(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ud(od.FAILED_PRECONDITION,Hg);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new yd(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=ce(I().mark((function n(r){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=ce(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Kg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(wy(t))return Zh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return Yg(e).get("owner").next((function(e){return my.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return Kg(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=ce(I().mark((function e(){var t,n,r,i,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ty(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return my.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=p(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?my.resolve(!0):Yg(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new ud(od.FAILED_PRECONDITION,Hg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Kg(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ce(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Iy(e,yd.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Kg(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return kg.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new lg(e)}},{key:"getDocumentOverlayCache",value:function(e){return Ky.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zh("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?dy:12===i?hy:11===i?fy:void rd();return this.cs.runTransaction(e,o,u,(function(i){return a=new Iy(i,r.Zn?r.Zn.next():yd.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw ed("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new ud(od.FAILED_PRECONDITION,py);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return Yg(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ud(od.FAILED_PRECONDITION,Hg)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yg(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=Yg(e);return n.get("owner").next((function(e){return t.Rs(e)?(Zh("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):my.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ed("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!L()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return Zh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ed("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(Qs){ed("Failed to set zombie client id.",Qs)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(Qs){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return gy.vt()}}]),e}();function Yg(e){return Ty(e,"owner")}function Kg(e){return Ty(e,"clientMetadata")}function Qg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $g=d((function e(t,n){f(this,e),this.progress=t,this.$s=n})),Xg=function(){function e(t,n,r){f(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return d(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=p(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=p(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return Gd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Kp(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Gd(t)).next((function(e){var t=Xv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xv();return this.indexManager.getCollectionParents(e,i).next((function(o){return my.forEach(o,(function(o){var u=function(e,t){return new zp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=p(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=pp.newInvalidDocument(s),r=r.insert(s,c)),Sv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){tv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Jg=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return d(e,null,[{key:"Js",value:function(t,n){var r,i=tm(),a=tm(),o=p(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Zg=function(){function e(){f(this,e)}return d(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ed.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(Wp(t)||Hp(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Jh()<=pe.DEBUG&&Zh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ev(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Hv(nv(e));return t.forEach((function(t,r){tv(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Jh()<=pe.DEBUG&&Zh("QueryEngine","Using full collection scan to execute query:",ev(t)),this.Xs.Gs(e,t,Ed.min())}}]),e}(),ek=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Bv(bd),this.ii=new zv((function(e){return xp(e)}),Ep),this.ri=Ed.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return d(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new Xg(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function tk(e,t,n,r){return new ek(e,t,n,r)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=tm(),s=p(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=p(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=p(n);try{for(v.s();!(d=v.n()).done;){var m=d.value;o.push(m.batchId);var y,g=p(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t){var n=ad(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=my.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);id(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function ak(e){var t=ad(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function ok(e,t){var n=ad(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Pd.EMPTY_BYTE_STRING,Ed.min()).withLastLimboFreeSnapshotVersion(Ed.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=Qv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(uk(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Ed.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return my.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function uk(e,t,n){var r=tm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qv();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Ed.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Zh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function sk(e,t){var n=ad(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function ck(e,t){var n=ad(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,my.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new Dy(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function lk(e,t,n){return fk.apply(this,arguments)}function fk(){return fk=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ad(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),wy(e.t1)){e.next=12;break}throw e.t1;case 12:Zh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),fk.apply(this,arguments)}function hk(e,t,n){var r=ad(e),i=Ed.min(),a=tm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ad(e),i=r.ii.get(n);return void 0!==i?my.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,$p(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:Ed.min(),n?a:tm())})).next((function(e){return{documents:e,hi:a}}))}))}function dk(e,t){var n=ad(e),r=ad(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function pk(e){var t=ad(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ad(e),i=Qv(),a=My(n),o=zg(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=Py(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:Ly(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function vk(e){return mk.apply(this,arguments)}function mk(){return mk=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ad(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=zg(e),n=Ed.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=Ly(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t,n,r){return gk.apply(this,arguments)}function gk(){return gk=ce(I().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ad(t),o=tm(),u=Qv(),s=p(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(m){s.e(m)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,ck(a,function(e){return $p(qp(Cd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return uk(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.hs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){return bk.apply(this,arguments)}function bk(){return bk=ce(I().mark((function e(t,n){var r,i,a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tm(),e.next=3,ck(t,$p(By(n.bundledQuery)));case 3:return i=e.sent,a=ad(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=km(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(Pd.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}var wk=function(){function e(t){f(this,e),this.M=t,this._i=new Map,this.wi=new Map}return d(e,[{key:"getBundleMetadata",value:function(e,t){return my.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:km(n.createTime)}),my.resolve()}},{key:"getNamedQuery",value:function(e,t){return my.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:By(e.bundledQuery),readTime:km(e.readTime)}}(t)),my.resolve()}}]),e}(),_k=function(){function e(){f(this,e),this.overlays=new Bv(Gd.comparator),this.mi=new Map}return d(e,[{key:"getOverlay",value:function(e,t){return my.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),my.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),my.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jv(),i=t.length+1,a=new Gd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return my.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return my.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Oy(t,n));var a=this.mi.get(t);void 0===a&&(a=tm(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),xk=function(){function e(){f(this,e),this.gi=new Hv(Ek.yi),this.pi=new Hv(Ek.Ii)}return d(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ek(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Ek(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Gd(new Cd([])),r=new Ek(n,e),i=new Ek(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Gd(new Cd([])),n=new Ek(t,e),r=new Ek(t,e+1),i=tm();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ek(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ek=function(){function e(t,n){f(this,e),this.key=t,this.Vi=n}return d(e,null,[{key:"yi",value:function(e,t){return Gd.comparator(e.key,t.key)||bd(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return bd(e.Vi,t.Vi)||Gd.comparator(e.key,t.key)}}]),e}(),Sk=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new Hv(Ek.yi)}return d(e,[{key:"checkEmpty",value:function(e){return my.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new Ny(i,t,n,r);this.Fs.push(a);var o,u=p(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Ek(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return my.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return my.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return my.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return my.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return my.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ek(t,0),i=new Ek(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),my.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hv(bd);return t.forEach((function(e){var t=new Ek(e,0),i=new Ek(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),my.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Gd.isDocumentKey(i)||(i=i.child(""));var a=new Ek(new Gd(i),0),o=new Hv(bd);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),my.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;id(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return my.forEach(t.mutations,(function(i){var a=new Ek(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ek(t,0),r=this.Si.firstAfterOrEqual(n);return my.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,my.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),Ik=function(){function e(t){f(this,e),this.ki=t,this.docs=new Bv(Gd.comparator),this.size=0}return d(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return my.resolve(n?n.document.mutableCopy():pp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():pp.newInvalidDocument(e))})),my.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Qv(),i=new Gd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return my.resolve(r)}},{key:"Mi",value:function(e,t){return my.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Tk(this)}},{key:"getSize",value:function(e){return my.resolve(this.size)}}]),e}(),Tk=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).Un=e,r}return d(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),my.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(Fg),Nk=function(){function e(t){f(this,e),this.persistence=t,this.Oi=new zv((function(e){return xp(e)}),Ep),this.lastRemoteSnapshotVersion=Ed.min(),this.highestTargetId=0,this.$i=0,this.Fi=new xk,this.targetCount=0,this.Bi=Eg.mn()}return d(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),my.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return my.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return my.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),my.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),my.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Eg(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,my.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),my.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,my.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),my.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return my.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return my.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),my.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),my.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),my.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return my.resolve(n)}},{key:"containsKey",value:function(e,t){return my.resolve(this.Fi.containsKey(t))}}]),e}(),Ck=function(){function e(t,n){var r=this;f(this,e),this.Li={},this.overlays={},this.Zn=new yd(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new Nk(this),this.indexManager=new ug,this.ls=new Ik((function(e){return r.referenceDelegate.qi(e)})),this.M=new Ay(n),this.fs=new wk(this.M)}return d(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _k,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Sk(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zh("MemoryPersistence","Starting transaction:",e);var i=new Ok(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return my.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ok=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return d(n)}(vy),Dk=function(){function e(t){f(this,e),this.persistence=t,this.Qi=new xk,this.ji=null}return d(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw rd()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),my.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),my.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),my.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return my.forEach(this.zi,(function(r){var i=Gd.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Ed.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return my.or([function(){return my.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Ak(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Pk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Rk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Mk=function(){function e(t,n,r,i){f(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return d(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ud(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ed("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Lk=function(){function e(t,n,r){f(this,e),this.targetId=t,this.state=n,this.error=r}return d(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ud(i.error.code,i.error.message))),a?new e(t,i.state,r):(ed("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fk=function(){function e(t,n){f(this,e),this.clientId=t,this.activeTargetIds=n}return d(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rm(),o=0;i&&o<r.activeTargetIds.length;++o)i=Hd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ed("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Uk=function(){function e(t,n){f(this,e),this.clientId=t,this.onlineState=n}return d(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ed("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),jk=function(){function e(){f(this,e),this.activeTargetIds=rm()}return d(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Vk=function(){function e(t,n,r,i,a){f(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Bv(bd),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Ak(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new jk),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return d(e,[{key:"start",value:function(){var e=ce(I().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=p(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ak(this.persistenceKey,i)))&&(o=Fk.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=p(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Rk(this.persistenceKey,e));if(n){var r=Lk.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Rk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void ed("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(ce(I().mark((function e(){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=yd.A;if(null!=e)try{var n=JSON.parse(e);id("number"==typeof n),t=n}catch(e){ed("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==yd.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Mk(this.currentUser,e,t,n),i=Pk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Pk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Rk(this.persistenceKey,e),i=new Lk(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Fk.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mk.Ji(new Qh(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Lk.Ji(r,t)}},{key:"wr",value:function(e){return Uk.Ji(e)}},{key:"vr",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:Zh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=rm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zk=function(){function e(){f(this,e),this.Or=new jk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return d(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new jk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Bk=function(){function e(){f(this,e)}return d(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),qk=function(){function e(){var t=this;f(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return d(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){Zh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=p(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){Zh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=p(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hk=function(){function e(t){f(this,e),this.Qr=t.Qr,this.jr=t.jr}return d(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),Gk=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return d(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Yh;o.listenOnce(Bh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zh.NO_ERROR:var t=o.getResponseJson();Zh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case zh.TIMEOUT:Zh("Connection",'RPC "'+e+'" timed out'),a(new ud(od.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:var n=o.getStatus();if(Zh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(od).indexOf(t)>=0?t:od.UNKNOWN}(r.status);a(new ud(u,r.message))}else a(new ud(od.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ud(od.UNAVAILABLE,"Connection failed."));break;default:rd()}}finally{Zh("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jh(),a=Vh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Hh({})),this.oo(o.initMessageHeaders,t,n),M()||U()||R().indexOf("Electron/")>=0||j()||R().indexOf("MSAppHost/")>=0||F()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Zh("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Hk({Qr:function(e){l?Zh("Connection","Not sending because WebChannel is closed:",e):(c||(Zh("Connection","Opening WebChannel transport."),s.open(),c=!0),Zh("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Gh.EventType.OPEN,(function(){l||Zh("Connection","WebChannel transport opened.")})),h(s,Gh.EventType.CLOSE,(function(){l||(l=!0,Zh("Connection","WebChannel transport closed"),f.Zr())})),h(s,Gh.EventType.ERROR,(function(e){l||(l=!0,td("Connection","WebChannel transport errored:",e),f.Zr(new ud(od.UNAVAILABLE,"The operation could not be completed")))})),h(s,Gh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];id(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Rv[e];if(void 0!==t)return Vv(t)}(a),u=i.message;void 0===o&&(o=od.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new ud(o,u)),s.close()}else Zh("Connection","WebChannel received:",n),f.eo(n)}})),h(a,qh.STAT_EVENT,(function(e){e.stat===Wh.PROXY?Zh("Connection","Detected buffering proxy"):e.stat===Wh.NOPROXY&&Zh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return d(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);Zh("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return Zh("RestConnection","Received: ",e),e}),(function(t){throw td("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=Wk[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function Yk(){return"undefined"!=typeof window?window:null}function Kk(){return"undefined"!=typeof document?document:null}function Qk(e){return new vm(e,!0)}var $k=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return d(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&Zh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),Xk=function(){function e(t,n,r,i,a,o,u,s){f(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new $k(t,n)}return d(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===od.RESOURCE_EXHAUSTED?(ed(n.toString()),ed("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===od.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new ud(od.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Zh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(Zh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Jk=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return d(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(id(void 0===t||"string"==typeof t),Pd.fromBase64String(t||"")):(id(void 0===t||t instanceof Uint8Array),Pd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?od.UNKNOWN:Vv(e.code);return new ud(t,e.message||"")}(o);n=new sm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xm(e,s.document.name),l=km(s.document.updateTime),f=new hp({mapValue:{fields:s.document.fields}}),h=pp.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new om(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=xm(e,v.document),y=v.readTime?km(v.readTime):Ed.min(),g=pp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new om([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=xm(e,b.document),_=b.removedTargetIds||[];n=new om([],_,w,null)}else{if(!("filter"in t))return rd();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new Uv(E),I=x.targetId;n=new um(I,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Ed.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ed.min():t.readTime?km(t.readTime):Ed.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Im(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Sp(r)?{documents:Pm(e,r)}:{query:Rm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ym(e,t.resumeToken):t.snapshotVersion.compareTo(Ed.min())>0&&(n.readTime=mm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Im(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(Xk),Zk=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return d(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,kt(g(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(id(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(id(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?km(e.updateTime):km(t);return n.isEqual(Ed.min())&&(n=km(t)),new bv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=km(e.commitTime);return this.listener.Ho(n,t)}return id(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Im(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Dm(t.M,e)}))};this.Mo(n)}}]),n}(Xk),eb=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return d(n,[{key:"Zo",value:function(){if(this.Xo)throw new ud(od.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ud(od.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ud(od.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return d((function e(){f(this,e)}))}()),tb=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return d(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(ed(t),this.na=!1):Zh("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),nb=d((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=db(o),!e.t0){e.next=5;break}return Zh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ad(t)).ha.add(4),e.next=4,ab(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,rb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new tb(r,i)}));function rb(e){return ib.apply(this,arguments)}function ib(){return ib=ce(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!db(t)){e.next=18;break}n=p(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ib.apply(this,arguments)}function ab(e){return ob.apply(this,arguments)}function ob(){return ob=ce(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ob.apply(this,arguments)}function ub(e,t){var n=ad(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),hb(n)?fb(n):Bb(n).Do()&&cb(n,t))}function sb(e,t){var n=ad(e),r=Bb(n);n.ca.delete(t),r.Do()&&lb(n,t),0===n.ca.size&&(r.Do()?r.No():db(n)&&n.da.set("Unknown"))}function cb(e,t){e._a.Z(t.targetId),Bb(e).Go(t)}function lb(e,t){e._a.Z(t),Bb(e).Qo(t)}function fb(e){e._a=new lm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),Bb(e).start(),e.da.sa()}function hb(e){return db(e)&&!Bb(e).So()&&e.ca.size>0}function db(e){return 0===ad(e).ha.size}function pb(e){e._a=void 0}function vb(e){return mb.apply(this,arguments)}function mb(){return mb=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){cb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pb(t),hb(t)?(t.da.oa(n),fb(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t,n){return bb.apply(this,arguments)}function bb(){return bb=ce(I().mark((function e(t,n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof sm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=p(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof om?t._a.at(n):n instanceof um?t._a._t(n):t._a.ht(n),r.isEqual(Ed.min())){e.next=29;break}return e.prev=14,e.next=17,ak(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(Pd.EMPTY_BYTE_STRING,n.snapshotVersion)),lb(e,t);var r=new Dy(n.target,t,1,n.sequenceNumber);cb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bb.apply(this,arguments)}function wb(e,t,n){return _b.apply(this,arguments)}function _b(){return _b=ce(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wy(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,ab(t);case 5:t.da.set("Offline"),r||(r=function(){return ak(t.localStore)}),t.asyncQueue.enqueueRetryable(ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,rb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function xb(e,t){return t().catch((function(n){return wb(e,n,t)}))}function Eb(e){return Sb.apply(this,arguments)}function Sb(){return Sb=ce(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ad(t),r=qb(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!Ib(n)){e.next=19;break}return e.prev=3,e.next=6,sk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,Tb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wb(n,e.t0);case 17:e.next=2;break;case 19:Nb(n)&&Cb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Sb.apply(this,arguments)}function Ib(e){return db(e)&&e.ua.length<10}function Tb(e,t){e.ua.push(t);var n=qb(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function Nb(e){return db(e)&&!qb(e).So()&&e.ua.length>0}function Cb(e){qb(e).start()}function Ob(e){return Db.apply(this,arguments)}function Db(){return Db=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qb(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Ab(e){return Pb.apply(this,arguments)}function Pb(){return Pb=ce(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qb(t),r=p(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Pb.apply(this,arguments)}function Rb(e,t,n){return Mb.apply(this,arguments)}function Mb(){return Mb=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=Cy.from(i,n,r),e.next=3,xb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Eb(t);case 5:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Lb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=ce(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qb(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jv(i=n.code)||i===od.ABORTED){e.next=7;break}return r=t.ua.shift(),qb(t).xo(),e.next=5,xb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Eb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Nb(t)&&Cb(t);case 5:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return jb=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ad(t)).asyncQueue.verifyOperationInProgress(),Zh("RemoteStore","RemoteStore received new credentials"),i=db(r),r.ha.add(3),e.next=6,ab(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,rb(r);case 12:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=ce(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ad(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,rb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,ab(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Bb(e){return e.wa||(e.wa=function(e,t,n){var r=ad(e);return r.Zo(),new Jk(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:vb.bind(null,e),Hr:yb.bind(null,e),Ko:kb.bind(null,e)}),e.la.push(function(){var t=ce(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),hb(e)?fb(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:pb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function qb(e){return e.ma||(e.ma=function(e,t,n){var r=ad(e);return r.Zo(),new Zk(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Ob.bind(null,e),Hr:Lb.bind(null,e),Jo:Ab.bind(null,e),Ho:Rb.bind(null,e)}),e.la.push(function(){var t=ce(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,Eb(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(Zh("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var Wb=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return d(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ud(od.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Hb(e,t){if(ed("AsyncQueue","".concat(t,": ").concat(e)),wy(e))return new ud(od.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Gb=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||Gd.comparator(e.key,n.key)}:function(e,t){return Gd.comparator(e.key,t.key)},this.keyedMap=Xv(),this.sortedSet=new Bv(this.comparator)}return d(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Yb=function(){function e(){f(this,e),this.ga=new Bv(Gd.comparator)}return d(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):rd():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kb=function(){function e(t,n,r,i,a,o,u,s){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return d(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Gb.emptySet(n),a,r,i,!0,!1)}}]),e}(),Qb=d((function e(){f(this,e),this.pa=void 0,this.listeners=[]})),$b=d((function e(){f(this,e),this.queries=new zv((function(e){return Zp(e)}),Jp),this.onlineState="Unknown",this.Ia=new Set}));function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=ce(I().mark((function e(t,n){var r,i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ad(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Qb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Hb(e.t0,"Initialization of query '".concat(ev(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&rw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jb.apply(this,arguments)}function Zb(e,t){return ew.apply(this,arguments)}function ew(){return ew=ce(I().mark((function e(t,n){var r,i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ad(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t){var n,r=ad(e),i=!1,a=p(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=p(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&rw(r)}function nw(e,t,n){var r=ad(e),i=r.queries.get(t);if(i){var a,o=p(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rw(e){e.Ia.forEach((function(e){e.next()}))}var iw=function(){function e(t,n,r){f(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return d(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=p(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Kb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=Kb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),aw=function(){function e(t,n){f(this,e),this.payload=t,this.byteLength=n}return d(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),ow=function(){function e(t){f(this,e),this.M=t}return d(e,[{key:"li",value:function(e){return xm(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Cm(this.M,e.document,!1):pp.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return km(e)}}]),e}(),uw=function(){function e(t,n,r){f(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=sw(t)}return d(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new ow(this.M),i=p(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=p(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||tm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ce(I().mark((function e(){var t,n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yk(this.localStore,new ow(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=p(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,kk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new $g(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var cw=d((function e(t){f(this,e),this.key=t})),lw=d((function e(t){f(this,e),this.key=t})),fw=function(){function e(t,n){f(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=tm(),this.mutatedKeys=tm(),this.$a=nv(t),this.Fa=new Gb(this.$a)}return d(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new Yb,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Wp(this.query)&&i.size===this.query.limit?i.last():null,c=Hp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Wp(this.query)||Hp(this.query))for(;o.size>this.query.limit;){var l=Wp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rd()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new Kb(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Yb,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=tm(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new lw(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new cw(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=tm();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return Kb.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),hw=d((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),dw=d((function e(t){f(this,e),this.key=t,this.Ha=!1})),pw=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new zv((function(e){return Zp(e)}),Jp),this.Xa=new Map,this.Za=new Set,this.tu=new Bv(Gd.comparator),this.eu=new Map,this.nu=new xk,this.su={},this.iu=new Map,this.ru=Eg.gn(),this.onlineState="Unknown",this.ou=void 0}return d(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=ce(I().mark((function e(t,n){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s_(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,ck(r.localStore,$p(n));case 8:return u=e.sent,r.isPrimaryClient&&ub(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,yw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t,n,r){return gw.apply(this,arguments)}function gw(){return gw=ce(I().mark((function e(t,n,r,i){var a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=ce(I().mark((function e(t,n,r,i){var a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,hk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Uw(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,hk(t.localStore,n,!0);case 3:return a=e.sent,o=new fw(n,a.hi),u=o.La(a.documents),s=am.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Uw(t,r,c.Qa),l=new hw(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function kw(e,t){return bw.apply(this,arguments)}function bw(){return bw=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ad(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!Jp(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,lk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sb(r.remoteStore,i.targetId),Lw(r,i.targetId)})).catch(Cg);case 9:e.next=14;break;case 11:return Lw(r,i.targetId),e.next=14,lk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function ww(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=ce(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c_(t),e.prev=1,e.next=4,function(e,t){var n,r=ad(e),i=xd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),tm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=p(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Iv(c,n.get(c.key));null!=l&&u.push(new Ov(c.key,l,dp(l.value.mapValue),wv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new Bv(bd)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zw(i,a.changes);case 9:return e.next=11,Eb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Hb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_w.apply(this,arguments)}function xw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),e.prev=1,e.next=4,ok(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(id(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?id(n.Ha):e.removedDocuments.size>0&&(id(n.Ha),n.Ha=!1))})),e.next=8,zw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Cg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ew.apply(this,arguments)}function Sw(e,t,n){var r=ad(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ad(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=p(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rw(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Iw(e,t,n){return Tw.apply(this,arguments)}function Tw(){return Tw=ce(I().mark((function e(t,n,r){var i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ad(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bv(Gd.comparator)).insert(o,pp.newNoDocument(o,Ed.min())),s=tm().add(o),c=new im(Ed.min(),new Map,new Hv(bd),u,s),e.next=9,xw(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),Vw(i),e.next=16;break;case 14:return e.next=16,lk(i.localStore,n,!1).then((function(){return Lw(i,n,r)})).catch(Cg);case 16:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Nw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),i=n.batch.batchId,e.prev=1,e.next=4,ik(r.localStore,n);case 4:return a=e.sent,Mw(r,i,null),Rw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cw.apply(this,arguments)}function Ow(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ad(t),e.prev=1,e.next=4,function(e,t){var n=ad(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return id(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Mw(i,n,r),Rw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dw.apply(this,arguments)}function Aw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return db((r=ad(t)).remoteStore)||Zh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ad(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Hb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Pw.apply(this,arguments)}function Rw(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function Mw(e,t,n){var r=ad(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function Lw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=p(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||Fw(e,t)}))}function Fw(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(sb(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),Vw(e))}function Uw(e,t,n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cw?(e.nu.addReference(a.key,t),jw(e,a)):a instanceof lw?(Zh("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||Fw(e,a.key)):rd()}}catch(o){i.e(o)}finally{i.f()}}function jw(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(Zh("SyncEngine","New document in limbo: "+n),e.Za.add(r),Vw(e))}function Vw(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new Gd(Cd.fromString(t)),r=e.ru.next();e.eu.set(r,new dw(n)),e.tu=e.tu.insert(n,r),ub(e.remoteStore,new Dy($p(qp(n.path)),r,2,yd.A))}}function zw(e,t,n){return Bw.apply(this,arguments)}function Bw(){return Bw=ce(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ad(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Jg.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=ce(I().mark((function e(t,n){var r,i,a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return my.forEach(n,(function(t){return my.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return my.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),wy(e.t0)){e.next=10;break}throw e.t0;case 10:Zh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=p(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ad(t)).currentUser.isEqual(n)){e.next=11;break}return Zh("SyncEngine","User change. New user:",n.toKey()),e.next=5,nk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new ud(od.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zw(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Hw(e,t){var n=ad(e),r=n.eu.get(t);if(r&&r.Ha)return tm().add(r.key);var i=tm(),a=n.Xa.get(t);if(!a)return i;var o,u=p(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function Gw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),e.next=3,hk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&Uw(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Kw(e){return Qw.apply(this,arguments)}function Qw(){return Qw=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ad(t),e.abrupt("return",pk(n.localStore).then((function(e){return zw(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function $w(e,t,n,r){return Xw.apply(this,arguments)}function Xw(){return Xw=ce(I().mark((function e(t,n,r,i){var a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ad(t),e.next=3,function(e,t){var n=ad(e),r=ad(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):my.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Eb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Mw(a,n,i||null),Rw(a,n),function(e,t){ad(ad(e).Fs).dn(t)}(a.localStore,n)):rd();case 11:return e.next=13,zw(a,o);case 13:e.next=16;break;case 15:Zh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=ce(I().mark((function e(t,n){var r,i,a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s_(r=ad(t)),c_(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,e_(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,Vb(r.remoteStore,!0);case 9:o=p(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ub(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Lw(r,t),lk(r.localStore,t,!0)})),sb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,e_(r,c);case 21:return function(e){var t=ad(e);t.eu.forEach((function(e,n){sb(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new Bv(Gd.comparator)}(r),r.ou=!1,e.next=25,Vb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return t_=ce(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,m,y,g;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ad(t),a=[],o=[],u=p(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,ck(i.localStore,$p(f[0]));case 11:l=e.sent,h=p(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,m=i.Ya.get(v),e.next=20,Gw(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,dk(i.localStore,c);case 36:return g=e.sent,e.next=39,ck(i.localStore,g);case 39:return l=e.sent,e.next=42,yw(i,n_(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),t_.apply(this,arguments)}function n_(e){return Bp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function r_(e){var t=ad(e);return ad(ad(t.localStore).persistence).Ms()}function i_(e,t,n,r){return a_.apply(this,arguments)}function a_(){return a_=ce(I().mark((function e(t,n,r,i){var a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ad(t)).ou){e.next=5;break}Zh("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,pk(a.localStore);case 11:return o=e.sent,u=im.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,zw(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,lk(a.localStore,n,!0);case 18:return Lw(a,n,i),e.abrupt("break",21);case 20:rd();case 21:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=ce(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=s_(t)).ou){e.next=45;break}a=p(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return Zh("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,dk(i.localStore,u);case 12:return s=e.sent,e.next=15,ck(i.localStore,s);case 15:return c=e.sent,e.next=18,yw(i,n_(s),c.targetId,!1);case 18:ub(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=p(r),e.prev=30,h=I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,lk(i.localStore,t,!1).then((function(){sb(i.remoteStore,t),Lw(i,t)})).catch(Cg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),u_.apply(this,arguments)}function s_(e){var t=ad(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Iw.bind(null,t),t.Ja.Ko=tw.bind(null,t.eventManager),t.Ja.uu=nw.bind(null,t.eventManager),t}function c_(e){var t=ad(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ow.bind(null,t),t}function l_(e,t,n){var r=ad(e);(function(){var e=ce(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ad(e),r=km(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(sw(i)),a=new uw(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,zw(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=ad(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),td("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var f_=function(){function e(){f(this,e),this.synchronizeTabs=!1}return d(e,[{key:"initialize",value:function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Qk(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return tk(this.persistence,new Zg,e.initialUser,this.M)}},{key:"lu",value:function(e){return new Ck(Dk.Wi,this.M)}},{key:"hu",value:function(e){return new zk}},{key:"terminate",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),h_=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return d(n,[{key:"initialize",value:function(){var e=ce(I().mark((function e(t){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,vk(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,c_(this._u.syncEngine);case 8:return e.next=10,Eb(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return tk(this.persistence,new Zg,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Pg(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mg.withCacheSize(this.cacheSizeBytes):mg.DEFAULT;return new Gg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Yk(),Kk(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new zk}}]),n}(f_),d_=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return d(n,[{key:"initialize",value:function(){var e=ce(I().mark((function e(t){var r,i=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof Vk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:$w.bind(null,r),kr:i_.bind(null,r),Mr:o_.bind(null,r),Ms:r_.bind(null,r),Cr:Kw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=Yk();if(!Vk.vt(t))throw new ud(od.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(h_),p_=function(){function e(){f(this,e)}return d(e,[{key:"initialize",value:function(){var e=ce(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Sw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),e.next=12,Vb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new $b}},{key:"createDatastore",value:function(e){var t,n=Qk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Gk(t));return function(e,t,n,r){return new eb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Sw(o.syncEngine,e,0)},a=qk.vt()?new qk:new Bk,new nb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pw(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ad(t),Zh("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,ab(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function v_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ce(I().mark((function r(){var i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var m_=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return d(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),y_=function(){function e(t,n){var r=this;f(this,e),this.gu=t,this.M=n,this.metadata=new sd,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return d(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=ce(I().mark((function e(){var t,n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new aw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=ce(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=ce(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),g_=function(){function e(t){f(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return d(e,[{key:"lookup",value:function(){var e=ce(I().mark((function e(t){var n,r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ud(od.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ce(I().mark((function e(t,n){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),i=Im(r.M)+"/documents",a={documents:n.map((function(e){return _m(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Om(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());id(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Lv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ce(I().mark((function e(){var t,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Gd.fromPath(t);n.mutations.push(new Fv(r,n.precondition(r)))})),e.next=7,function(){var e=ce(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ad(t),i=Im(r.M)+"/documents",a={writes:n.map((function(e){return Dm(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rd();t=Ed.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ud(od.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wv.updateTime(t):wv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ed.min()))throw new ud(od.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wv.updateTime(t)}return wv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),k_=function(){function e(t,n,r,i){f(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new $k(this.asyncQueue,"transaction_retry")}return d(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(ce(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new g_(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!qd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!jv(t)}return!1}}]),e}(),b_=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qh.UNAUTHENTICATED,this.clientId=kd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return d(e,[{key:"getConfiguration",value:function(){var e=ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ud(od.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new sd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ce(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Hb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function w_(e,t){return __.apply(this,arguments)}function __(){return __=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,nk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function x_(e,t){return E_.apply(this,arguments)}function E_(){return E_=ce(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,S_(t);case 3:return r=e.sent,Zh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ub(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ub(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function S_(e){return I_.apply(this,arguments)}function I_(){return I_=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Zh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,w_(t,new f_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function T_(e){return N_.apply(this,arguments)}function N_(){return N_=ce(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Zh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,x_(t,new p_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function C_(e){return S_(e).then((function(e){return e.persistence}))}function O_(e){return S_(e).then((function(e){return e.localStore}))}function D_(e){return T_(e).then((function(e){return e.remoteStore}))}function A_(e){return T_(e).then((function(e){return e.syncEngine}))}function P_(e){return R_.apply(this,arguments)}function R_(){return R_=ce(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vw.bind(null,n.syncEngine),r.onUnlisten=kw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function M_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new m_({next:function(a){t.enqueueAndForget((function(){return Zb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ud(od.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ud(od.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new iw(qp(n.path),a,{includeMetadataChanges:!0,Sa:!0});return Xb(e,o)},i.next=3,P_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function L_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new m_({next:function(n){t.enqueueAndForget((function(){return Zb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ud(od.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new iw(n,a,{includeMetadataChanges:!0,Sa:!0});return Xb(e,o)},i.next=3,P_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var F_=new Map;function U_(e,t,n){if(!n)throw new ud(od.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function j_(e,t,n,r){if(!0===t&&!0===r)throw new ud(od.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function V_(e){if(!Gd.isDocumentKey(e))throw new ud(od.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function z_(e){if(Gd.isDocumentKey(e))throw new ud(od.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function B_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rd()}function q_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ud(od.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=B_(e);throw new ud(od.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function W_(e,t){if(t<=0)throw new ud(od.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var H_=function(){function e(t){var n;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ud(od.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ud(od.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,j_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return d(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),G_=function(){function e(t,n,r){f(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,t instanceof Bd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ud(od.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(e.options.projectId)}(t))}return d(e,[{key:"app",get:function(){if(!this._app)throw new ud(od.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ud(od.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ld;switch(e.type){case"gapi":var t=e.client;return id(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new pd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ud(od.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=F_.get(e);t&&(Zh("ComponentProvider","Removing Datastore"),F_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Y_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=q_(e,G_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&td("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Qh.MOCK_USER;else{o=P(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ud(od.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qh(s)}e._authCredentials=new fd(new cd(o,u))}}var K_=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return d(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Q_=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return d(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$_=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,qp(i)))._path=i,a.type="collection",a}return d(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new K_(this.firestore,null,new Gd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Q_);function X_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),U_("collection","path",t),e instanceof G_){var a=Cd.fromString.apply(Cd,[t].concat(r));return z_(a),new $_(e,null,a)}if(!(e instanceof K_||e instanceof $_))throw new ud(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Cd.fromString.apply(Cd,[t].concat(r)));return z_(o),new $_(e.firestore,null,o)}function J_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),1===arguments.length&&(t=kd.R()),U_("doc","path",t),e instanceof G_){var a=Cd.fromString.apply(Cd,[t].concat(r));return V_(a),new K_(e,null,new Gd(a))}if(!(e instanceof K_||e instanceof $_))throw new ud(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Cd.fromString.apply(Cd,[t].concat(r)));return V_(o),new K_(e.firestore,e instanceof $_?e.converter:null,new Gd(o))}function Z_(e,t){return e=ee(e),t=ee(t),(e instanceof K_||e instanceof $_)&&(t instanceof K_||t instanceof $_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ex(e,t){return e=ee(e),t=ee(t),e instanceof Q_&&t instanceof Q_&&e.firestore===t.firestore&&Jp(e._query,t._query)&&e.converter===t.converter}var tx=function(){function e(){var t=this;f(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new $k(this,"async_queue_retry"),this.Fu=function(){var e=Kk();e&&Zh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=Kk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return d(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=Kk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new sd;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=ce(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),wy(e.t0)){e.next=12;break}throw e.t0;case 12:Zh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ed("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=Wb.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&rd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=ce(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=p(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=p(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function nx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=p(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rx=function(){function e(){f(this,e),this._progressObserver={},this._taskCompletionResolver=new sd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return d(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ix=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new tx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return d(n,[{key:"_terminate",value:function(){return this._firestoreClient||ox(this),this._firestoreClient.terminate()}}]),n}(G_);function ax(e){return e._firestoreClient||ox(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ox(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new zd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new b_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ux(e,t,n){var r=new sd;return e.asyncQueue.enqueue(ce(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,w_(e,n);case 3:return i.next=5,x_(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===od.FAILED_PRECONDITION||e.code===od.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sx(e){return function(e){return e.asyncQueue.enqueue(ce(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C_(e);case 2:return n=t.sent,t.next=5,D_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ad(e);return t.ha.delete(0),rb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ax(e=q_(e,ix)))}function cx(e){return function(e){return e.asyncQueue.enqueue(ce(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C_(e);case 2:return n=t.sent,t.next=5,D_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ad(t)).ha.add(0),e.next=4,ab(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ax(e=q_(e,ix)))}function lx(e,t){var n=ax(e=q_(e,ix)),r=new rx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new y_(e,t)}(function(e,t){if(e instanceof Uint8Array)return v_(e,t);if(e instanceof ArrayBuffer)return v_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Qk(t));e.asyncQueue.enqueueAndForget(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l_,t.next=3,A_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fx(e,t){return function(e,t){return e.asyncQueue.enqueue(ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ad(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,O_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ax(e=q_(e,ix)),t).then((function(t){return t?new Q_(e,null,t.query):null}))}function hx(e){if(e._initialized||e._terminated)throw new ud(od.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dx=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ud(od.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dd(n)}return d(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var px=function(){function e(t){f(this,e),this._byteString=t}return d(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Pd.fromBase64String(t))}catch(t){throw new ud(od.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Pd.fromUint8Array(t))}}]),e}(),vx=d((function e(t){f(this,e),this._methodName=t})),mx=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new ud(od.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ud(od.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return d(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return bd(this._lat,e._lat)||bd(this._long,e._long)}}]),e}(),yx=/^__.*__$/,gx=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return d(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ov(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cv(e,this.data,t,this.fieldTransforms)}}]),e}(),kx=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return d(e,[{key:"toMutation",value:function(e,t){return new Ov(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rd()}}var wx=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return d(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return zx(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(bx(this.zu)&&yx.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),_x=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Qk(t)}return d(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wx({zu:e,methodName:t,sc:n,path:Dd.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function xx(e){var t=e._freezeSettings(),n=Qk(e._databaseId);return new _x(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ex(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);Fx("Data must be an object, but it was:",o,r);var u,s,c=Mx(r,o);if(a.merge)u=new Ad(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=p(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Ux(t,d,n);if(!o.contains(v))throw new ud(od.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Bx(f,v)||f.push(v)}}catch(m){h.e(m)}finally{h.f()}u=new Ad(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gx(new hp(c),u,s)}var Sx=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vx);function Ix(e,t,n){return new wx({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Tx=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"_toFieldTransform",value:function(e){return new kv(e.path,new fv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vx),Nx=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).rc=r,i}return d(n,[{key:"_toFieldTransform",value:function(e){var t=Ix(this,e,!0),n=this.rc.map((function(e){return Rx(e,t)})),r=new hv(n);return new kv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vx),Cx=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).rc=r,i}return d(n,[{key:"_toFieldTransform",value:function(e){var t=Ix(this,e,!0),n=this.rc.map((function(e){return Rx(e,t)})),r=new pv(n);return new kv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vx),Ox=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).oc=r,i}return d(n,[{key:"_toFieldTransform",value:function(e){var t=new mv(e.M,ov(e.M,this.oc));return new kv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vx);function Dx(e,t,n,r){var i=e.ic(1,t,n);Fx("Data must be an object, but it was:",i,r);var a=[],o=hp.empty();Id(r,(function(e,r){var u=Vx(t,e,n);r=ee(r);var s=i.Zu(u);if(r instanceof Sx)a.push(u);else{var c=Rx(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ad(a);return new kx(o,u,i.fieldTransforms)}function Ax(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[Ux(t,r,n)],s=[i];if(a.length%2!=0)throw new ud(od.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Ux(t,a[c])),s.push(a[c+1]);for(var l=[],f=hp.empty(),h=u.length-1;h>=0;--h)if(!Bx(l,u[h])){var d=u[h],p=s[h];p=ee(p);var v=o.Zu(d);if(p instanceof Sx)l.push(d);else{var m=Rx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ad(l);return new kx(f,y,o.fieldTransforms)}function Px(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rx(n,e.ic(r?4:3,t))}function Rx(e,t){if(Lx(e=ee(e)))return Fx("Unsupported field value:",t,e),Mx(e,t);if(e instanceof vx)return function(e,t){if(!bx(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=p(e);try{for(a.s();!(n=a.n()).done;){var o=Rx(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ee(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ov(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xd.fromDate(e);return{timestampValue:mm(t.M,n)}}if(e instanceof xd){var r=new xd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mm(t.M,r)}}if(e instanceof mx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof px)return{bytesValue:ym(t.M,e._byteString)};if(e instanceof K_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:bm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(B_(e)))}(e,t)}function Mx(e,t){var n={};return Td(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Id(e,(function(e,r){var i=Rx(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xd||e instanceof mx||e instanceof px||e instanceof K_||e instanceof vx)}function Fx(e,t,n){if(!Lx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=B_(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function Ux(e,t,n){if((t=ee(t))instanceof dx)return t._internalPath;if("string"==typeof t)return Vx(e,t);throw zx("Field path arguments must be of type string or ",e,!1,void 0,n)}var jx=new RegExp("[~\\*/\\[\\]]");function Vx(e,t,n){if(t.search(jx)>=0)throw zx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(dx,ue(t.split(".")))._internalPath}catch(rN){throw zx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ud(od.INVALID_ARGUMENT,u+e+s)}function Bx(e,t){return e.some((function(e){return e.isEqual(t)}))}var qx=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return d(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new K_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Hx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Wx=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"data",value:function(){return kt(g(n.prototype),"data",this).call(this)}}]),n}(qx);function Hx(e,t){return"string"==typeof t?Vx(e,t):t instanceof dx?t._internalPath:t._delegate._internalPath}var Gx=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return d(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Yx=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return d(n,[{key:"exists",value:function(){return kt(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Kx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Hx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qx),Kx=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kt(g(n.prototype),"data",this).call(this,e)}}]),n}(Yx),Qx=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gx(i.hasPendingWrites,i.fromCache),this.query=r}return d(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Kx(n._firestore,n._userDataWriter,r.key,r,new Gx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ud(od.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$x(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function $x(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rd()}}function Xx(e,t){return e instanceof Yx&&t instanceof Yx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qx&&t instanceof Qx&&e._firestore===t._firestore&&ex(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Jx(e){if(Hp(e)&&0===e.explicitOrderBy.length)throw new ud(od.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zx=d((function e(){f(this,e)}));function eE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var tE=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return d(n,[{key:"_apply",value:function(e){var t=xx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ud(od.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dE(o,a);var s,c=[],l=p(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(hE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=hE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dE(o,a),u=Px(n,"where",o,"in"===a||"not-in"===a);var h=Tp.create(i,a,u);return function(e,t){if(t.S()){var n=Yp(e);if(null!==n&&!n.isEqual(t.field))throw new ud(od.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Gp(e);null!==r&&pE(e,t.field,r)}var i=function(e,t){var n,r=p(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ud(od.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ud(od.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new Q_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Zx);var nE=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return d(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ud(od.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ud(od.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fp(t,n);return function(e,t){if(null===Gp(e)){var n=Yp(e);null!==n&&pE(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new Q_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Zx);function rE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Hx("orderBy",e);return new nE(r,n)}var iE=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return d(n,[{key:"_apply",value:function(e){return new Q_(e.firestore,e.converter,Xp(e._query,this.lc,this.fc))}}]),n}(Zx);var aE=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return d(n,[{key:"_apply",value:function(e){var t=fE(e,this.type,this.dc,this._c);return new Q_(e.firestore,e.converter,function(e,t){return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Zx);function oE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aE("startAt",t,!0)}function uE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aE("startAfter",t,!1)}var sE=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return d(n,[{key:"_apply",value:function(e){var t=fE(e,this.type,this.dc,this._c);return new Q_(e.firestore,e.converter,function(e,t){return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Zx);function cE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sE("endBefore",t,!1)}function lE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sE("endAt",t,!0)}function fE(e,t,n,r){if(n[0]=ee(n[0]),n[0]instanceof qx)return function(e,t,n,r,i){if(!r)throw new ud(od.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=p(Qp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(np(t,r.key));else{var c=r.data.field(s.field);if(Ud(c))throw new ud(od.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ud(od.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Lp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ud(od.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ud(od.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kp(e)&&-1!==c.indexOf("/"))throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Cd.fromString(c));if(!Gd.isDocumentKey(l))throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Gd(l);u.push(np(t,f))}else{var h=Px(n,r,c);u.push(h)}}return new Lp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hE(e,t,n){if("string"==typeof(n=ee(n))){if(""===n)throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kp(t)&&-1!==n.indexOf("/"))throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Cd.fromString(n));if(!Gd.isDocumentKey(r))throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return np(e,new Gd(r))}if(n instanceof K_)return np(e,n._key);throw new ud(od.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(B_(n),"."))}function dE(e,t){if(!Array.isArray(e)||0===e.length)throw new ud(od.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ud(od.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function pE(e,t,n){if(!n.isEqual(t))throw new ud(od.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vE=function(){function e(){f(this,e)}return d(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ld(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Id(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mx(Ld(e.latitude),Ld(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=jd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Md(e);return new xd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Cd.fromString(e);id(Wm(n));var r=new Bd(n.get(1),n.get(3)),i=new Gd(n.popFirst(5));return r.isEqual(t)||ed("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yE=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return d(n,[{key:"convertBytes",value:function(e){return new px(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new K_(this.firestore,null,t)}}]),n}(vE),gE=function(){function e(t,n){f(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xx(t)}return d(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=kE(e,this._firestore),i=mE(r.converter,t,n),a=Ex(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,wv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=kE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ee(t))||t instanceof dx?Ax(this._dataReader,"WriteBatch.update",i._key,t,n,o):Dx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=kE(e,this._firestore);return this._mutations=this._mutations.concat(new Lv(t._key,wv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ud(od.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function kE(e,t){if((e=ee(e)).firestore!==t)throw new ud(od.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function bE(e){e=q_(e,K_);var t=q_(e.firestore,ix);return M_(ax(t),e._key).then((function(n){return DE(t,e,n)}))}var wE=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return d(n,[{key:"convertBytes",value:function(e){return new px(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new K_(this.firestore,null,t)}}]),n}(vE);function _E(e){e=q_(e,K_);var t=q_(e.firestore,ix),n=ax(t),r=new wE(t);return function(e,t){var n=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ce(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ad(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ud(od.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Hb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,O_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Yx(t,r,e._key,n,new Gx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function xE(e){e=q_(e,Q_);var t=q_(e.firestore,ix),n=ax(t),r=new wE(t);return function(e,t){var n=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ce(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hk(t,n,!0);case 3:i=e.sent,a=new fw(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Hb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,O_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Qx(t,r,e,n)}))}function EE(e,t,n){e=q_(e,K_);var r=q_(e.firestore,ix),i=mE(e.converter,t,n);return OE(r,[Ex(xx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wv.none())])}function SE(e,t,n){e=q_(e,K_);for(var r=q_(e.firestore,ix),i=xx(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return OE(r,[("string"==typeof(t=ee(t))||t instanceof dx?Ax(i,"updateDoc",e._key,t,n,o):Dx(i,"updateDoc",e._key,t)).toMutation(e._key,wv.exists(!0))])}function IE(e){return OE(q_(e.firestore,ix),[new Lv(e._key,wv.none())])}function TE(e,t){var n=q_(e.firestore,ix),r=J_(e),i=mE(e.converter,t);return OE(n,[Ex(xx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wv.exists(!1))]).then((function(){return r}))}function NE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ee(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||nx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(nx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof K_)l=q_(e.firestore,ix),f=qp(e._key.path),c={next:function(t){n[s]&&n[s](DE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=q_(e,Q_);l=q_(p.firestore,ix),f=p._query;var v=new wE(l);c={next:function(e){n[s]&&n[s](new Qx(l,v,p,e))},error:n[s+1],complete:n[s+2]},Jx(e._query)}return function(e,t,n,r){var i=new m_(r),a=new iw(t,i,n);return e.asyncQueue.enqueueAndForget(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xb,t.next=3,P_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zb,t.next=3,P_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ax(l),f,h,c)}function CE(e,t){return function(e,t){var n=new m_(t);return e.asyncQueue.enqueueAndForget(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ad(e).Ia.add(t),t.next()},t.next=3,P_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(ce(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ad(e).Ia.delete(t)},t.next=3,P_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ax(e=q_(e,ix)),nx(t)?t:{next:t})}function OE(e,t){return function(e,t){var n=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ww,r.next=3,A_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ax(e),t)}function DE(e,t,n){var r=n.docs.get(t._key),i=new wE(e);return new Yx(e,i,t._key,r,new Gx(n.hasPendingWrites,n.fromCache),t.converter)}var AE=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r))._firestore=e,i}return d(n,[{key:"get",value:function(e){var t=this,r=kE(e,this._firestore),i=new wE(this._firestore);return kt(g(n.prototype),"get",this).call(this,e).then((function(e){return new Yx(t._firestore,i,r._key,e._document,new Gx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){f(this,e),this._firestore=t,this._transaction=n,this._dataReader=xx(t)}return d(e,[{key:"get",value:function(e){var t=this,n=kE(e,this._firestore),r=new yE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rd();var i=e[0];if(i.isFoundDocument())return new qx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qx(t._firestore,r,n._key,null,n.converter);throw rd()}))}},{key:"set",value:function(e,t,n){var r=kE(e,this._firestore),i=mE(r.converter,t,n),a=Ex(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=kE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ee(t))||t instanceof dx?Ax(this._dataReader,"Transaction.update",i._key,t,n,o):Dx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=kE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PE(e,t){return function(e,t){var n=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function r(){var i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return T_(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new k_(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ax(e=q_(e,ix)),(function(n){return t(new AE(e,n))}))}function RE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nx("arrayUnion",t)}function ME(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$h=e}(ze),Re(new le("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ix(i,new hd(e.getProvider("auth-internal")),new md(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ye(Kh,"3.4.6",e),Ye(Kh,"3.4.6","esm2017")}();function LE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ud("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function FE(){if("undefined"===typeof Uint8Array)throw new ud("unimplemented","Uint8Arrays are not available in this environment.")}function UE(){if("undefined"==typeof atob)throw new ud("unimplemented","Blobs are unavailable in Firestore in this environment.")}var jE=function(){function e(t){f(this,e),this._delegate=t}return d(e,[{key:"toBase64",value:function(){return UE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return FE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return UE(),new e(px.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return FE(),new e(px.fromUint8Array(t))}}]),e}();function VE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=p(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var zE=function(){function e(){f(this,e)}return d(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){hx(e=q_(e,ix));var n=ax(e),r=e._freezeSettings(),i=new p_;return ux(n,i,new h_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){hx(e=q_(e,ix));var t=ax(e),n=e._freezeSettings(),r=new p_;return ux(t,r,new d_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ud(od.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new sd;return e._queue.enqueueAndForgetEvenWhileRestricted(ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ce(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gy.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,gy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Qg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),BE=function(){function e(t,n,r){var i=this;f(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Bd||(this._appCompat=t)}return d(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||td("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Y_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sx(this._delegate)}},{key:"disableNetwork",value:function(){return cx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&j_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new sd;return e.asyncQueue.enqueueAndForget(ce(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Aw,n.next=3,A_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ax(e=q_(e,ix)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ud("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new nS(this,X_(this._delegate,e))}catch(t){throw KE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new YE(this,J_(this._delegate,e))}catch(t){throw KE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new ZE(this,function(e,t){if(e=q_(e,G_),U_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ud(od.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Q_(e,null,function(e){return new zp(Cd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw KE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PE(this._delegate,(function(n){return e(new WE(t,n))}))}},{key:"batch",value:function(){var e=this;return ax(this._delegate),new HE(new gE(this._delegate,(function(t){return OE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return lx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fx(this._delegate,e).then((function(e){return e?new ZE(t,e):null}))}}]),e}(),qE=function(e){y(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return d(n,[{key:"convertBytes",value:function(e){return new jE(new px(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return YE.forKey(t,this.firestore,null)}}]),n}(vE);var WE=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qE(t)}return d(e,[{key:"get",value:function(e){var t=this,n=rS(e);return this._delegate.get(n).then((function(e){return new XE(t._firestore,new Yx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=rS(e);return n?(LE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rS(e);return this._delegate.delete(t),this}}]),e}(),HE=function(){function e(t){f(this,e),this._delegate=t}return d(e,[{key:"set",value:function(e,t,n){var r=rS(e);return n?(LE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),GE=function(){function e(t,n,r){f(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return d(e,[{key:"fromFirestore",value:function(e,t){var n=new Kx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qE(t),n),i.set(n,a)),a}}]),e}();GE.INSTANCES=new WeakMap;var YE=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qE(t)}return d(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new nS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new nS(this.firestore,X_(this._delegate,e))}catch(t){throw KE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ee(e))instanceof K_&&Z_(this._delegate,e)}},{key:"set",value:function(e,t){t=LE("DocumentReference.set",t);try{return t?EE(this._delegate,e,t):EE(this._delegate,e)}catch(n){throw KE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?SE(this._delegate,e):SE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw KE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return IE(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QE(n),a=$E(n,(function(t){return new XE(e.firestore,new Yx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_E(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=q_(e,K_);var t=q_(e.firestore,ix);return M_(ax(t),e._key,{source:"server"}).then((function(n){return DE(t,e,n)}))}(this._delegate):bE(this._delegate),t.then((function(e){return new XE(n.firestore,new Yx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ud("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new K_(n._delegate,r,new Gd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new K_(n._delegate,r,t))}}]),e}();function KE(e,t,n){return e.message=e.message.replace(t,n),e}function QE(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!VE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $E(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=VE(e[0])?e[0]:VE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var XE=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return d(e,[{key:"ref",get:function(){return new YE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Xx(this._delegate,e._delegate)}}]),e}(),JE=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||rd()}(void 0!==t),t}}]),n}(XE),ZE=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qE(t)}return d(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eE(this._delegate,function(e,t,n){var r=t,i=Hx("where",e);return new tE(i,r,n)}(t,n,r)))}catch(i){throw KE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eE(this._delegate,rE(t,n)))}catch(r){throw KE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eE(this._delegate,function(e){return W_("limit",e),new iE("limit",e,"F")}(t)))}catch(n){throw KE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eE(this._delegate,function(e){return W_("limitToLast",e),new iE("limitToLast",e,"L")}(t)))}catch(n){throw KE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eE(this._delegate,oE.apply(void 0,arguments)))}catch(t){throw KE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eE(this._delegate,uE.apply(void 0,arguments)))}catch(t){throw KE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eE(this._delegate,cE.apply(void 0,arguments)))}catch(t){throw KE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eE(this._delegate,lE.apply(void 0,arguments)))}catch(t){throw KE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ex(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=q_(e,Q_);var t=q_(e.firestore,ix),n=ax(t),r=new wE(t);return L_(n,e._query,{source:"server"}).then((function(n){return new Qx(t,r,e,n)}))}(this._delegate):function(e){e=q_(e,Q_);var t=q_(e.firestore,ix),n=ax(t),r=new wE(t);return Jx(e._query),L_(n,e._query).then((function(n){return new Qx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new tS(n.firestore,new Qx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QE(n),a=$E(n,(function(t){return new tS(e.firestore,new Qx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),eS=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return d(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new JE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),tS=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return d(e,[{key:"query",get:function(){return new ZE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new JE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new eS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new JE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Xx(this._delegate,e._delegate)}}]),e}(),nS=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return d(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new YE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new YE(this.firestore,void 0===e?J_(this._delegate):J_(this._delegate,e))}catch(t){throw KE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return TE(this._delegate,e).then((function(e){return new YE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Z_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(GE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(ZE);function rS(e){return q_(e,K_)}var iS=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(dx,n)}return d(e,[{key:"isEqual",value:function(e){return(e=ee(e))instanceof dx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Dd.keyField().canonicalString())}}]),e}(),aS=function(){function e(t){f(this,e),this._delegate=t}return d(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Tx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Sx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=RE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ME.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ox("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),oS={Firestore:BE,GeoPoint:mx,Timestamp:xd,Blob:jE,Transaction:WE,WriteBatch:HE,DocumentReference:YE,DocumentSnapshot:XE,Query:ZE,QueryDocumentSnapshot:JE,QuerySnapshot:tS,CollectionReference:nS,FieldPath:iS,FieldValue:aS,setLogLevel:function(e){!function(e){Xh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new le("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},oS)))}(e,(function(e,t){return new BE(e,t,new zE)})),e.registerVersion("@firebase/firestore-compat","0.1.15")}(yt);var uS="firebasestorage.googleapis.com",sS=function(e){y(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,cS(e),"Firebase Storage: ".concat(r," (").concat(cS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(v(i),n.prototype),i}return d(n,[{key:"_codeEquals",value:function(e){return cS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(z);function cS(e){return"storage/"+e}function lS(){return new sS("unknown","An unknown error occurred, please check the error payload for server response.")}function fS(){return new sS("canceled","User canceled the upload/download.")}function hS(){return new sS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dS(e){return new sS("invalid-argument",e)}function pS(){return new sS("app-deleted","The Firebase app was deleted.")}function vS(e,t){return new sS("invalid-format","String does not match format '"+e+"': "+t)}function mS(e){throw new sS("internal-error","Internal error: "+e)}var yS,gS=function(){function e(t,n){f(this,e),this.bucket=t,this.path_=n}return d(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new sS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===uS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new sS("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kS=function(){function e(t){f(this,e),this.promise_=Promise.reject(t)}return d(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function bS(e){return"string"===typeof e||e instanceof String}function wS(e){return _S()&&e instanceof Blob}function _S(){return"undefined"!==typeof Blob}function xS(e,t,n,r){if(r<t)throw dS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw dS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ES(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function SS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yS||(yS={}));var IS=function(){function e(t,n,r,i,a,o,u,s,c,l,h){var d=this;f(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return d(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=lS();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?pS():fS());else i(new sS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new TS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new TS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yS.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new TS(o,r))}else{var u=r.getErrorCode()===yS.ABORT;t(!1,new TS(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),TS=d((function e(t,n,r){f(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function NS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function CS(){for(var e=NS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(_S())return new Blob(n);throw new sS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var OS="raw",DS="base64",AS="base64url",PS="data_url",RS=d((function e(t,n){f(this,e),this.data=t,this.contentType=n||null}));function MS(e,t){switch(e){case OS:return new RS(LS(t));case DS:case AS:return new RS(FS(e,t));case PS:return new RS(function(e){var t=new US(e);return t.base64?FS(DS,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw vS(PS,"Malformed data URL.")}return LS(t)}(t.rest)}(t),new US(t).contentType)}throw lS()}function LS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function FS(e,t){switch(e){case DS:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case AS:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw vS(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var US=d((function e(t){f(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vS(PS,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var jS=function(){function e(t,n){f(this,e);var r=0,i="";wS(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return d(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(wS(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(_S()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(CS.apply(null,i))}var a=n.map((function(e){return bS(e)?MS(OS,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function VS(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function BS(e,t){return t}var qS=d((function e(t,n,r,i){f(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||BS})),WS=null;function HS(){if(WS)return WS;var e=[];e.push(new qS("bucket")),e.push(new qS("generation")),e.push(new qS("metageneration")),e.push(new qS("name","fullPath",!0));var t=new qS("name");t.xform=function(e,t){return function(e){return!bS(e)||e.length<2?e:zS(e)}(t)},e.push(t);var n=new qS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qS("timeCreated")),e.push(new qS("updated")),e.push(new qS("md5Hash",null,!0)),e.push(new qS("cacheControl",null,!0)),e.push(new qS("contentDisposition",null,!0)),e.push(new qS("contentEncoding",null,!0)),e.push(new qS("contentLanguage",null,!0)),e.push(new qS("contentType",null,!0)),e.push(new qS("metadata","customMetadata",!0)),WS=e}function GS(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function YS(e,t,n){var r=VS(t);return null===r?null:GS(e,r,n)}function KS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var QS=d((function e(t,n,r,i){f(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $S(e){if(!e)throw lS()}function XS(e,t){return function(n,r){var i=YS(e,r,t);return $S(null!==i),i}}function JS(e,t){return function(n,r){var i=YS(e,r,t);return $S(null!==i),function(e,t,n,r){var i=VS(t);if(null===i)return null;if(!bS(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return ES("/b/"+o(i)+"/o/"+o(a),n,r)+SS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ZS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new sS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new sS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new sS("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new sS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function eI(e){var t=ZS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new sS("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function tI(e,t,n){var r=ES(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new QS(r,"GET",XS(e,n),i);return a.errorHandler=eI(t),a}function nI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function rI(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=nI(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+KS(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=jS.getBlob(c,r,l);if(null===f)throw hS();var h={name:s.fullPath},d=ES(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new QS(d,"POST",XS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=ZS(t),v}var iI=d((function e(t,n,r,i){f(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function aI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){$S(!1)}return $S(!!n&&-1!==(t||["active"]).indexOf(n)),n}var oI=262144;function uI(e,t,n,r,i,a,o,u){var s=new iI(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new sS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw hS();var v=t.maxUploadRetryTime,m=new QS(n,"POST",(function(e,n){var i,o=aI(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?XS(t,a)(e,n):null,new iI(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=ZS(e),m}var sI="running",cI="paused",lI="success",fI="canceled",hI="error";function dI(e){switch(e){case"running":case"pausing":case"canceling":return sI;case"paused":return cI;case"success":return lI;case"canceled":return fI;default:return hI}}var pI=d((function e(t,n,r){f(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function vI(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var mI=function(){function e(){var t=this;f(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yS.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yS.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yS.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return d(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),yI=function(e){y(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(mI);function gI(){return new yI}var kI=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=HS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return d(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=nI(t,r,i),u={name:o.fullPath},s=ES(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=KS(o,n),f=e.maxUploadRetryTime,h=new QS(s,"POST",(function(e){var t;aI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){$S(!1)}return $S(bS(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=ZS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,gI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new QS(n,"POST",(function(e){var t=aI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){$S(!1)}n||$S(!1);var i=Number(n);return $S(!isNaN(i)),new iI(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=ZS(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,gI,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=oI*this._chunkMultiplier,n=new iI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=uI(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,gI,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){oI*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=tI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,gI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=rI(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,gI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=fS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=dI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new pI(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(dI(this._state)){case lI:vI(this._resolve.bind(null,this.snapshot))();break;case fI:case hI:vI(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(dI(this._state)){case sI:case cI:e.next&&vI(e.next.bind(e,this.snapshot))();break;case lI:e.complete&&vI(e.complete.bind(e))();break;default:e.error&&vI(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),bI=function(){function e(t,n){f(this,e),this._service=t,this._location=n instanceof gS?n:gS.makeFromUrl(n,t.host)}return d(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return zS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new sS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function wI(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=ES(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new QS(r,"GET",JS(e,n),i);return a.errorHandler=eI(t),a}(e.storage,e._location,HS());return e.storage.makeRequestWithTokens(t,gI).then((function(e){if(null===e)throw new sS("no-download-url","The given file does not have any download URLs.");return e}))}function _I(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gS(e._location.bucket,n);return new bI(e.storage,r)}function xI(e,t){if(e instanceof II){var n=e;if(null==n._bucket)throw new sS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bI(n,n._bucket);return null!=t?xI(r,t):r}return void 0!==t?_I(e,t):e}function EI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof II)return new bI(e,t);throw dS("To use ref(service, url), the first argument must be a Storage instance.")}return xI(e,t)}function SI(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gS.makeFromBucketSpec(n,e)}var II=function(){function e(t,n,r,i,a){f(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gS.makeFromBucketSpec(i,this._host):SI(this._host,this.app.options)}return d(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gS.makeFromBucketSpec(this._url,e):this._bucket=SI(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){xS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){xS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ce(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ce(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new bI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kS(pS());var a=function(e,t,n,r,i,a){var o=SS(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new IS(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ce(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),TI="@firebase/storage",NI="0.9.3",CI="storage";function OI(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new kI(e,new jS(t),n)}(e=ee(e),t,n)}function DI(e){return wI(e=ee(e))}function AI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new II(r,i,a,n,ze)}Re(new le(CI,AI,"PUBLIC").setMultipleInstances(!0)),Ye(TI,NI,""),Ye(TI,NI,"esm2017");var PI=yt.initializeApp({apiKey:"AIzaSyBG_M896fM_3Px5U-k4LNzOv402P7iO-yg",authDomain:"dicord-clone-fbb6f.firebaseapp.com",projectId:"dicord-clone-fbb6f",storageBucket:"dicord-clone-fbb6f.appspot.com",messagingSenderId:"106878401739",appId:"1:106878401739:web:decd5fa740e6302aa06f4e"}),RI=PI.firestore(),MI=yt.auth(),LI=new yt.auth.GoogleAuthProvider,FI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe(),t=arguments.length>1?arguments[1]:void 0,n=Me(e=ee(e),CI),r=n.getImmediate({identifier:t});return r}(PI);function UI(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function jI(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var VI,zI=function(){return zI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zI.apply(this,arguments)},BI=function(e){return{loading:void 0===e||null===e,value:e}},qI=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return zI(zI({},e),{error:t.error,loading:!1,value:void 0});case"reset":return BI(t.defaultValue);case"value":return zI(zI({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),BI(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},WI=function(e,n){var r=qI((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;(0,t.useEffect)((function(){var t=function(e,t,n,r){return ee(e).onAuthStateChanged(t,n,r)}(e,(function(e){return UI(void 0,void 0,void 0,(function(){var t;return jI(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]);var c=[s,a,i];return(0,t.useMemo)((function(){return c}),c)};function HI(){return HI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HI.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(VI||(VI={}));var GI=function(e){return e};var YI="beforeunload",KI="popstate";function QI(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=eT(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=r.state||{};return[c.idx,GI({pathname:i,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var a=null;function o(){if(a)h.call(a),a=null;else{var e=VI.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else y(e)}}n.addEventListener(KI,o),n.addEventListener("hashchange",(function(){ZI(i()[1])!==ZI(l)&&o()}));var u=VI.Pop,s=i(),c=s[0],l=s[1],f=XI(),h=XI();function d(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:ZI(e))}function p(e,t){return void 0===t&&(t=null),GI(HI({pathname:l.pathname,hash:"",search:""},"string"===typeof e?eT(e):e,{state:t,key:JI()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function y(e){u=e;var t=i();c=t[0],l=t[1],f.call({action:u,location:l})}function g(e){r.go(e)}null==c&&(c=0,r.replaceState(HI({},r.state,{idx:c}),""));var k={get action(){return u},get location(){return l},createHref:d,push:function e(t,i){var a=VI.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var u=v(o,c+1),s=u[0],l=u[1];try{r.pushState(s,"",l)}catch(f){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=VI.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,c),u=o[0],s=o[1];r.replaceState(u,"",s),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(YI,$I),function(){t(),h.length||n.removeEventListener(YI,$I)}}};return k}function $I(e){e.preventDefault(),e.returnValue=""}function XI(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function JI(){return Math.random().toString(36).substr(2,8)}function ZI(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function eT(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tT(e,t){if(!e)throw new Error(t)}var nT=(0,t.createContext)(null);var rT=(0,t.createContext)(null);var iT=(0,t.createContext)({outlet:null,matches:[]});function aT(e){tT(!1)}function oT(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?VI.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;sT()&&tT(!1);var h=_T(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=eT(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,E=void 0===x?"default":x,S=(0,t.useMemo)((function(){var e=bT(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:_,key:E}}),[h,m,g,b,_,E]);return null==S?null:(0,t.createElement)(nT.Provider,{value:d},(0,t.createElement)(rT.Provider,{children:a,value:{location:S,navigationType:s}}))}function uT(e){var n=e.children,r=e.location;return function(e,n){sT()||tT(!1);var r=(0,t.useContext)(iT).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=cT();if(n){var c,l="string"===typeof n?eT(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||tT(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=bT(("string"===typeof t?eT(t):t).pathname||"/",n);if(null==r)return null;var i=hT(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=mT(i[o],r);return a}(e,{pathname:h});0;return yT(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:wT([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:wT([o,e.pathnameBase])})})),r)}(fT(n),r)}function sT(){return null!=(0,t.useContext)(rT)}function cT(){return sT()||tT(!1),(0,t.useContext)(rT).location}function lT(){sT()||tT(!1);var e=(0,t.useContext)(nT),n=e.basename,r=e.navigator,i=(0,t.useContext)(iT).matches,a=cT().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=kT(e,JSON.parse(o),a);"/"!==n&&(i.pathname=wT([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function fT(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==aT&&tT(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=fT(e.props.children)),n.push(r)}else n.push.apply(n,fT(e.props.children))})),n}function hT(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||tT(!1),a.relativePath=a.relativePath.slice(r.length));var o=wT([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&tT(!1),hT(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:vT(o,e.index),routesMeta:u})})),t}var dT=/^:\w+$/,pT=function(e){return"*"===e};function vT(e,t){var n=e.split("/"),r=n.length;return n.some(pT)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!pT(e)})).reduce((function(e,t){return e+(dT.test(t)?3:""===t?1:10)}),r)}function mT(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=gT({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:wT([i,l.pathname]),pathnameBase:_T(wT([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=wT([i,l.pathnameBase]))}return a}function yT(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(iT.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function gT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function kT(e,t,n){var r,i="string"===typeof e?eT(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?eT(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:xT(a),hash:ET(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function bT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var wT=function(e){return e.join("/").replace(/\/\/+/g,"/")},_T=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},xT=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ET=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};var ST=function(){return ST=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ST.apply(this,arguments)},IT=function(e){return{loading:void 0===e||null===e,value:e}},TT=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return ST(ST({},e),{error:t.error,loading:!1,value:void 0});case"reset":return IT(t.defaultValue);case"value":return ST(ST({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),IT(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},NT=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},CT=function(e,t){var n=!e&&!t,r=!!e&&!!t&&ex(e,t);return n||r},OT=function(e,t){return NT(e,CT,t)},DT=function(e,n){var r=TT(),i=r.error,a=r.loading,o=r.reset,u=r.setError,s=r.setValue,c=r.value,l=OT(e,o);(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?NE(l.current,n.snapshotListenOptions,s,u):NE(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,i];return(0,t.useMemo)((function(){return f}),f)},AT=t.createContext(null);var PT=function(e){e()},RT=function(){return PT};var MT={notify:function(){},get:function(){return[]}};function LT(e,t){var n,r=MT;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=RT(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=MT)},getListeners:function(){return r}};return o}var FT="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var UT=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=LT(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);FT((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||AT;return t.createElement(u.Provider,{value:a},i)};n(110),n(441);function jT(){return(0,t.useContext)(AT)}function VT(e){void 0===e&&(e=AT);var n=e===AT?jT:function(){return(0,t.useContext)(e)};return function(){return n().store}}var zT=VT();function BT(e){void 0===e&&(e=AT);var t=e===AT?zT:VT(e);return function(){return t().dispatch}}var qT=BT(),WT=function(e,t){return e===t};function HT(e){void 0===e&&(e=AT);var n=e===AT?jT:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=WT);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0),u=o[1],s=(0,t.useMemo)((function(){return LT(r,i)}),[r,i]),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=(0,t.useRef)(),d=r.getState();try{if(e!==l.current||d!==f.current||c.current){var p=e(d);a=void 0!==h.current&&n(p,h.current)?h.current:p}else a=h.current}catch(v){throw c.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),v}return FT((function(){l.current=e,f.current=d,h.current=a,c.current=void 0})),FT((function(){function e(){try{var e=r.getState();if(e===f.current)return;var t=l.current(e);if(n(t,h.current))return;h.current=t,f.current=e}catch(v){c.current=v}u()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var GT,YT=HT();function KT(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function QT(e){return!!e&&!!e[UN]}function $T(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===jN}(e)||Array.isArray(e)||!!e[FN]||!!e.constructor[FN]||rN(e)||iN(e))}function XT(e,t,n){void 0===n&&(n=!1),0===JT(e)?(n?Object.keys:VN)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function JT(e){var t=e[UN];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:rN(e)?2:iN(e)?3:0}function ZT(e,t){return 2===JT(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eN(e,t){return 2===JT(e)?e.get(t):e[t]}function tN(e,t,n){var r=JT(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function nN(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function rN(e){return PN&&e instanceof Map}function iN(e){return RN&&e instanceof Set}function aN(e){return e.o||e.t}function oN(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=zN(e);delete t[UN];for(var n=VN(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function uN(e,t){return void 0===t&&(t=!1),cN(e)||QT(e)||!$T(e)||(JT(e)>1&&(e.set=e.add=e.clear=e.delete=sN),Object.freeze(e),t&&XT(e,(function(e,t){return uN(t,!0)}),!0)),e}function sN(){KT(2)}function cN(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function lN(e){var t=BN[e];return t||KT(18,e),t}function fN(e,t){BN[e]||(BN[e]=t)}function hN(){return DN}function dN(e,t){t&&(lN("Patches"),e.u=[],e.s=[],e.v=t)}function pN(e){vN(e),e.p.forEach(yN),e.p=null}function vN(e){e===DN&&(DN=e.l)}function mN(e){return DN={p:[],l:DN,h:e,m:!0,_:0}}function yN(e){var t=e[UN];0===t.i||1===t.i?t.j():t.O=!0}function gN(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||lN("ES5").S(t,e,r),r?(n[UN].P&&(pN(t),KT(4)),$T(e)&&(e=kN(t,e),t.l||wN(t,e)),t.u&&lN("Patches").M(n[UN].t,e,t.u,t.s)):e=kN(t,n,[]),pN(t),t.u&&t.v(t.u,t.s),e!==LN?e:void 0}function kN(e,t,n){if(cN(t))return t;var r=t[UN];if(!r)return XT(t,(function(i,a){return bN(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return wN(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=oN(r.k):r.o;XT(3===r.i?new Set(i):i,(function(t,a){return bN(e,r,i,t,a,n)})),wN(e,i,!1),n&&e.u&&lN("Patches").R(r,n,e.u,e.s)}return r.o}function bN(e,t,n,r,i,a){if(QT(i)){var o=kN(e,i,a&&t&&3!==t.i&&!ZT(t.D,r)?a.concat(r):void 0);if(tN(n,r,o),!QT(o))return;e.m=!1}if($T(i)&&!cN(i)){if(!e.h.F&&e._<1)return;kN(e,i),t&&t.A.l||wN(e,i)}}function wN(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&uN(t,n)}function _N(e,t){var n=e[UN];return(n?aN(n):e)[t]}function xN(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function EN(e){e.P||(e.P=!0,e.l&&EN(e.l))}function SN(e){e.o||(e.o=oN(e.t))}function IN(e,t,n){var r=rN(t)?lN("MapSet").N(t,n):iN(t)?lN("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:hN(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=qN;n&&(i=[r],a=WN);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):lN("ES5").J(t,n);return(n?n.A:hN()).p.push(r),r}function TN(e){return QT(e)||KT(22,e),function e(t){if(!$T(t))return t;var n,r=t[UN],i=JT(t);if(r){if(!r.P&&(r.i<4||!lN("ES5").K(r)))return r.t;r.I=!0,n=NN(t,i),r.I=!1}else n=NN(t,i);return XT(n,(function(t,i){r&&eN(r.t,t)===i||tN(n,t,e(i))})),3===i?new Set(n):n}(e)}function NN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return oN(e)}function CN(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[UN];return qN.get(t,e)},set:function(t){var n=this[UN];qN.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][UN];if(!i.P)switch(i.i){case 5:r(i)&&EN(i);break;case 4:n(i)&&EN(i)}}}function n(e){for(var t=e.t,n=e.k,r=VN(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==UN){var o=t[a];if(void 0===o&&!ZT(t,a))return!0;var u=n[a],s=u&&u[UN];if(s?s.t!==o:!nN(u,o))return!0}}var c=!!t[UN];return r.length!==VN(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};fN("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=zN(n);delete a[UN];for(var o=VN(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:hN(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,UN,{value:a,writable:!0}),i},S:function(e,n,i){i?QT(n)&&n[UN].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[UN];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)XT(a,(function(t){t!==UN&&(void 0!==i[t]||ZT(i,t)?o[t]||e(a[t]):(o[t]=!0,EN(n)))})),XT(i,(function(e){void 0!==a[e]||ZT(a,e)||(o[e]=!1,EN(n))}));else if(5===u){if(r(n)&&(EN(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}GT=r.unstable_batchedUpdates,PT=GT;var ON,DN,AN="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),PN="undefined"!=typeof Map,RN="undefined"!=typeof Set,MN="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,LN=AN?Symbol.for("immer-nothing"):((ON={})["immer-nothing"]=!0,ON),FN=AN?Symbol.for("immer-draftable"):"__$immer_draftable",UN=AN?Symbol.for("immer-state"):"__$immer_state",jN=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),VN="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,zN=Object.getOwnPropertyDescriptors||function(e){var t={};return VN(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},BN={},qN={get:function(e,t){if(t===UN)return e;var n=aN(e);if(!ZT(n,t))return function(e,t,n){var r,i=xN(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!$T(r)?r:r===_N(e.t,t)?(SN(e),e.o[t]=IN(e.A.h,r,e)):r},has:function(e,t){return t in aN(e)},ownKeys:function(e){return Reflect.ownKeys(aN(e))},set:function(e,t,n){var r=xN(aN(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=_N(aN(e),t),a=null==i?void 0:i[UN];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(nN(n,i)&&(void 0!==n||ZT(e.t,t)))return!0;SN(e),EN(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==_N(e.t,t)||t in e.t?(e.D[t]=!1,SN(e),EN(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=aN(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){KT(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){KT(12)}},WN={};XT(qN,(function(e,t){WN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),WN.deleteProperty=function(e,t){return WN.set.call(this,e,t,void 0)},WN.set=function(e,t,n){return qN.set.call(this,e[0],t,n,e[0])};var HN=function(){function e(e){var t=this;this.g=MN,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&KT(6),void 0!==r&&"function"!=typeof r&&KT(7),$T(e)){var u=mN(t),s=IN(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?pN(u):vN(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return dN(u,r),gN(e,u)}),(function(e){throw pN(u),e})):(dN(u,r),gN(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===LN&&(o=void 0),t.F&&uN(o,!0),r){var l=[],f=[];lN("Patches").M(e,o,l,f),r(l,f)}return o}KT(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){$T(e)||KT(8),QT(e)&&(e=TN(e));var t=mN(this),n=IN(this,e,void 0);return n[UN].C=!0,vN(t),n},t.finishDraft=function(e,t){var n=(e&&e[UN]).A;return dN(n,t),gN(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!MN&&KT(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=lN("Patches").$;return QT(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),GN=new HN,YN=GN.produce,KN=(GN.produceWithPatches.bind(GN),GN.setAutoFreeze.bind(GN),GN.setUseProxies.bind(GN),GN.applyPatches.bind(GN),GN.createDraft.bind(GN),GN.finishDraft.bind(GN),YN);function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QN(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XN(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var JN="function"===typeof Symbol&&Symbol.observable||"@@observable",ZN=function(){return Math.random().toString(36).substring(7).split("").join(".")},eC={INIT:"@@redux/INIT"+ZN(),REPLACE:"@@redux/REPLACE"+ZN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ZN()}};function tC(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function nC(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(XN(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(XN(1));return n(nC)(e,t)}if("function"!==typeof e)throw new Error(XN(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(XN(3));return a}function f(e){if("function"!==typeof e)throw new Error(XN(4));if(s)throw new Error(XN(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(XN(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!tC(e))throw new Error(XN(7));if("undefined"===typeof e.type)throw new Error(XN(8));if(s)throw new Error(XN(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(XN(10));i=e,h({type:eC.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(XN(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[JN]=function(){return this},e}return h({type:eC.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[JN]=p,r}function rC(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:eC.INIT}))throw new Error(XN(12));if("undefined"===typeof n(void 0,{type:eC.PROBE_UNKNOWN_ACTION()}))throw new Error(XN(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(XN(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function aC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(XN(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=iC.apply(void 0,a)(n.dispatch),$N($N({},n),{},{dispatch:r})}}}function oC(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var uC=oC();uC.withExtraArgument=oC;var sC=uC,cC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lC=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},fC=Object.defineProperty,hC=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),dC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable,vC=function(e,t,n){return t in e?fC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},mC=function(e,t){for(var n in t||(t={}))dC.call(t,n)&&vC(e,n,t[n]);if(hC)for(var r=0,i=hC(t);r<i.length;r++){n=i[r];pC.call(t,n)&&vC(e,n,t[n])}return e},yC="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?iC:iC.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function gC(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var kC=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return cC(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,lC([void 0],e[0].concat(this)))):new(t.bind.apply(t,lC([void 0],e.concat(this))))},t}(Array);function bC(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new kC);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(sC.withExtraArgument(n.extraArgument)):r.push(sC));0;return r}(e)}}function wC(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return mC(mC({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function _C(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function xC(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:KN(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?_C(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=mC(mC({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?_C(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return KN(e(),(function(){}))};else{var c=KN(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=lC([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(QT(e))return"undefined"===typeof(r=n(e,t))?e:r;if($T(e))return KN(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?wC(c,r):wC(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var EC="listenerMiddleware";wC(EC+"/add"),wC(EC+"/removeAll"),wC(EC+"/remove");CN();var SC=xC({name:"server",initialState:{serverName:null,serverId:null},reducers:{setServerInfo:function(e,t){e.serverName=t.payload.serverName,e.serverId=t.payload.serverId}}}),IC=SC.actions.setServerInfo,TC=function(e){return e.server.serverName},NC=function(e){return e.server.serverId},CC=SC.reducer,OC=xC({name:"channel",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,t){e.channelId=t.payload.channelId,e.channelName=t.payload.channelName}}}),DC=OC.actions.setChannelInfo,AC=function(e){return e.channel.channelId},PC=function(e){return e.channel.channelName},RC=OC.reducer,MC=n(987),LC=n.n(MC);var FC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))})),UC=n(184);var jC=function(){return(0,UC.jsx)("div",{className:"   relative  bg-discord_blue py-10 sm:h-[7%] md:h-[90vh]  ",children:(0,UC.jsxs)("div",{className:"     h-[100%]   flex  max-w-7xl mx-auto my-0    flex-col md:flex-row px-4 md:px-10 lg:gap-5 lg:py-14 lg:px-0 lg:text-9xl",children:[(0,UC.jsxs)("div",{className:" lg:text-4xl  lg:self-start  lg:w-[60%] lg:mx-auto lg:my-0 lg:text-center",children:[(0,UC.jsx)("h1",{className:" text-white text-3xl font-extrabold   uppercase  mb-6 md:text-5xl",children:"Imagine A Place..."}),(0,UC.jsx)("p",{className:" text-white font-light mb-6 mx-auto my-0 md:max-w-lg lg:max-w-5xl lg:text-lg  lg:mt-8 ",children:"...where you can belong to a school club, a gaming group, or a worldwide art community. Where just you and a handful of friends can spend time together. A place that makes it easy to talk every day and hang out more often."}),(0,UC.jsxs)("div",{className:" lg:flex gap-2 lg:justify-center",children:[(0,UC.jsxs)("button",{className:" hidden  sm:flex  focus:outline-none transition duration-200  ease-in-out hover:shadow-xl  hover:text-discord_blurple text-black bg-white  mb-6 flex justify-between   rounded-3xl p-4 items-center ",children:[(0,UC.jsx)(FC,{className:"w-6 mr-2"}),(0,UC.jsx)("h2",{className:"ml-2 lg:text-lg",children:"Download for Windows"})]}),(0,UC.jsx)("button",{className:"  focus:outline-none   hover:shadow-xl  hover:text-white hover:bg-gray-700 bg-gray-900 text-white  mb-6 flex justify-between   rounded-3xl p-4 items-center ",children:(0,UC.jsx)("h2",{className:"ml-2 lg:text-lg",children:"Open Discord in your browser"})})]})]}),(0,UC.jsx)("img",{src:n(53),alt:"hero1",className:" mx-auto my-0  w-65   md:w-80        md:order-first md:hidden  lg:w-[25%]   lg:absolute      lg:left-0 lg:bottom-0       lg:inline lg:left-0 "}),(0,UC.jsx)("img",{src:n(447),alt:"hero2",className:"hidden md:inline      md:w-[40%]  md:bottom-0  md:absolute  md:left-[55%]        lg:w-[25%] lg:left-[75%] lg:bottom-0  "})]})})};var VC=function(){var e=s(WI(MI),1)[0],t=qT(),r=lT(),i=YT(NC),a=YT(AC),o=s(DT(eE(X_(RI,"servers"))),1)[0],u=s(DT(eE(X_(RI,"servers/".concat(i),"channels"),rE("timeStamp","asc"))),1)[0],l=null===o||void 0===o?void 0:o.docs,f=null===l||void 0===l?void 0:l.length;if(f){var h=l[f-1].id,d=l[f-1].data().serverName;if(t(IC({serverId:h,serverName:d})),null!==u&&void 0!==u&&u.docs.length){var p=null===u||void 0===u?void 0:u.docs,v=null===u||void 0===u?void 0:u.docs.length,m=p[v-1].id,y=p[v-1].data().channelName;t(DC({channelId:m,channelName:y}))}}return(0,UC.jsx)(UC.Fragment,{children:MI?(0,UC.jsxs)("div",{children:[(0,UC.jsx)("header",{className:"bg-discord_blue md:h-[10vh] ",children:(0,UC.jsxs)("div",{className:"p-4 flex justify-between lg:px-15  py-5   gap-8 max-w-7xl mx-auto my-0",children:[(0,UC.jsx)("a",{href:"/",className:"flex cursor-pointer",children:(0,UC.jsx)("img",{src:n(338),alt:"dicord",className:" max-w-30 max-h-10 bg-discord_blue "})}),(0,UC.jsxs)("div",{className:" hidden lg:flex justify-between justify-items-end",children:[(0,UC.jsx)("a",{className:"link ",children:"Download"}),(0,UC.jsx)("a",{className:"link",children:"Nitro"}),(0,UC.jsx)("a",{className:"link",children:"Safety"}),(0,UC.jsx)("a",{className:"link",children:"Support"}),(0,UC.jsx)("a",{className:"link",children:"Blog"}),(0,UC.jsx)("a",{className:"link",children:"Carrers"})]}),(0,UC.jsxs)("div",{className:" flex",children:[(0,UC.jsx)("button",{className:'bg-white text-black text-base  font-semibold  min-w-min lg:py-3 px-6    rounded-md  outline-none hover:shadow-xl hover:text-blue-400"\n            }',onClick:function(e){e.preventDefault(),MI.signInWithPopup(LI).then((function(){a&&i&&r("channels/".concat(i,"/").concat(a," ")),r("channels/ ")}))},children:(0,UC.jsx)("p",{className:"md:min-w-full",children:e?"Open Discord":"Login"})}),(0,UC.jsx)(c,{className:"w-10 h-10 text-white   cursor-pointer  ml-5 md:hidden"})]})]})}),(0,UC.jsx)(jC,{})]}):(0,UC.jsx)("div",{className:" bg-discord_blue w-full h-screen flex items-center",children:(0,UC.jsx)(LC().Oval,{className:"h-10 mx-auto my-0"})})})};function zC(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=QI({window:i}));var o=a.current,u=s((0,t.useState)({action:o.action,location:o.location}),2),c=u[0],l=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(oT,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var BC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z",clipRule:"evenodd"}))}));var qC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}));var WC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}));var HC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}));var GC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z",clipRule:"evenodd"}))}));var YC=function(e){var t=e.id,n=e.channelName,r=qT(),i=lT(),a=YT(NC),o=YT(AC);return(0,UC.jsxs)("div",{className:"flex justify-start  hover:text-white p-2  ".concat(t===o&&"text-white","   space-x-1   cursor-pointer"),onClick:function(){return r(DC({channelId:t,channelName:n})),void i("/channels/".concat(a,"/").concat(t))},children:[(0,UC.jsx)(GC,{className:"h-6  "})," ",(0,UC.jsx)("h4",{className:"lowercase truncate ... text-sm  font-black",children:n})]})};var KC=function(){var e=s((0,t.useState)(!0),2),n=e[0],r=e[1],i=s(WI(MI),1)[0],a=qT(),o="#".concat(null===i||void 0===i?void 0:i.uid.substring(0,4)),u=YT(TC),c=YT(NC),l=s(DT(eE(X_(RI,"servers/".concat(c),"channels"),rE("timeStamp","asc"))),1)[0],f=lT(),h=function(){var e=ce(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=prompt("Enter a new channel name",""))){e.next=9;break}return e.next=4,TE(X_(RI,"servers",c,"channels"),{channelName:t,timeStamp:yt.firestore.FieldValue.serverTimestamp()});case 4:return n=e.sent,e.next=7,bE(n);case 7:(r=e.sent).exists()&&(a(DC({channelId:r.id,channelName:r.data().channelName})),f("/channels/".concat(c,"/").concat(r.id)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,UC.jsxs)("div",{className:" relative  min-w-[260px] max-w-[260px]    text-[#829297]      ",children:[(0,UC.jsxs)("div",{className:" p-3 border-b w-[100%] border-gray-800 text-white flex hover:bg-[#34373c] cursor-pointer justify-between items-center",children:[(0,UC.jsx)("h2",{className:"  truncate ...  font-bold static ",children:u}),(0,UC.jsx)(WC,{className:"h-5"})]}),(0,UC.jsxs)("div",{className:" flex  justify-between p-3 mb-0 cursor-pointer     ",children:[(0,UC.jsxs)("h3",{className:"flex uppercase font-black text-sm hover:text-white   ",onClick:function(){return r(!n)},children:[n?(0,UC.jsx)(WC,{className:"h-4 self-center"}):(0,UC.jsx)(HC,{className:"h-4  self-center"}),"Text channels"]}),(0,UC.jsx)(qC,{className:"h-5  hover:text-white  ",onClick:function(){return h()}})]}),(0,UC.jsx)("div",{className:"  overflow-y-scroll mb-16 scrollbar-hide",children:n&&(0,UC.jsx)("div",{className:" ",children:null===l||void 0===l?void 0:l.docs.map((function(e){return(0,UC.jsx)("div",{children:(0,UC.jsx)(YC,{id:e.id,channelName:e.data().channelName},e.id)},e.id)}))})}),(0,UC.jsxs)("div",{className:" p-2 w-full max-h-fit  flex justify-between flex-wrap  absolute bottom-0 ",children:[(0,UC.jsxs)("div",{className:" flex justify-between space-x-1  items-center",children:[(0,UC.jsx)("img",{className:"   rounded-full h-7",src:null===i||void 0===i?void 0:i.photoURL}),(0,UC.jsxs)("div",{className:"flex flex-col",children:[(0,UC.jsx)("h4",{className:" text-sm  truncate ...   text-white",children:null===i||void 0===i?void 0:i.displayName.substring(0,10)}),(0,UC.jsx)("p",{className:"cursor-pointer",onClick:function(){navigator.clipboard.writeText(o),alert("Your id copied")},children:o})]})]}),(0,UC.jsx)("div",{className:" text-white font-bold text-base cursor-pointer mx-auto my-0    p-2 items-end w-fit ",onClick:function(){return MI.signOut(),void f("/")},children:(0,UC.jsx)("h4",{children:"Logout"})})]})]})};var QC=function(e){var t=e.id,n=e.serverPhoto,r=e.serverName,i=r&&r.substring(0,1),a=lT(),o=qT(),u=YT(NC),c=s(DT(eE(X_(RI,"servers/".concat(t),"channels"),rE("timeStamp","asc"))),1)[0];return(0,UC.jsx)("div",{className:"h-12 bg-[#2f3136]  w-12 cursor-pointer hover:bg-discord_purple  text-white rounded-full hover:rounded-2xl ".concat(t===u&&"bg-discord_purple "),onClick:function(){o(IC({serverName:r,serverId:t}));var e=(null===c||void 0===c?void 0:c.docs.length)-1,n=null===c||void 0===c?void 0:c.docs[e].id;o(DC({channelId:n,channelName:null===c||void 0===c?void 0:c.docs[e].data().channelName})),a("/channels/".concat(t,"/").concat(n))},children:n?(0,UC.jsx)("img",{className:" rounded-full  hover:rounded-2xl",src:n}):(0,UC.jsx)("h1",{className:" font-bold uppercase text-center p-3",children:i})})};var $C=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))}));var XC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}));var JC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}))}));var ZC=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"}))}));var eO=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))})),tO=n(426),nO=n.n(tO),rO=(n(570),function(e){return"".concat(e,"ms")}),iO=function(e){var t=e.height,n=e.innerHeight,r=e.innerWidth,i=e.isLoaded,a=e.isUnloading,o=e.left,u=e.originalTransform,s=e.top,c=e.transitionDuration,l=e.width,f=e.zoomMargin,h=rO(c);if(!i||a){var d=wt(["scale(1)","translate(0, 0)"],u?[u]:[],!0).join(" ");return{height:t,left:o,top:s,transform:d,WebkitTransform:d,transitionDuration:h,width:l}}var p=function(e){var t=e.height,n=e.innerHeight,r=e.innerWidth,i=e.width,a=e.zoomMargin,o=r/(i+a),u=n/(t+a);return Math.min(o,u)}({height:t,innerWidth:r,innerHeight:n,width:l,zoomMargin:f}),v=(r/2-(o+l/2))/p,m=(n/2-(s+t/2))/p,y=wt(["scale(".concat(p,")"),"translate(".concat(v,"px, ").concat(m,"px)")],u?[u]:[],!0).join(" ");return{height:t,left:o,top:s,transform:y,WebkitTransform:y,transitionDuration:h,width:l}},aO=function(e){var t=e.isLoaded,n=e.isUnloading,r=e.overlayBgColorEnd,i=e.overlayBgColorStart,a=e.transitionDuration,o=e.zoomZindex,u={backgroundColor:i,transitionDuration:rO(a),zIndex:o};return t&&!n&&(u.backgroundColor=r),u},oO={getBoundingClientRect:function(){return{height:0,left:0,top:0,width:0}},style:{transform:null}},uO=function(e){var n,r=(0,t.useRef)(e);r.current=e,n=function(){return function(){return r.current()}},(0,t.useEffect)(n,[])},sO=function(e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);var r="undefined"!==typeof window,i=function(e){var n=(0,t.useRef)(0),r=(0,t.useState)(e),i=r[0],a=r[1],o=(0,t.useCallback)((function(e){cancelAnimationFrame(n.current),n.current=requestAnimationFrame((function(){a(e)}))}),[]);return uO((function(){cancelAnimationFrame(n.current)})),[i,o]}({width:r?window.innerWidth:e,height:r?window.innerHeight:n}),a=i[0],o=i[1];return(0,t.useEffect)((function(){if(r){var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[r,o]),a};function cO(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}var lO=(0,t.memo)((function(e){var n=e.children,i=e.closeText,a=void 0===i?"Unzoom Image":i,o=e.isActive,u=e.onLoad,s=e.onUnload,c=e.onZoomChange,l=e.overlayBgColorEnd,f=void 0===l?"rgba(255, 255, 255, 0.95)":l,h=e.overlayBgColorStart,d=void 0===h?"rgba(255, 255, 255, 0)":h,p=e.parentRef,v=e.portalEl,m=void 0===v?document.body:v,y=e.scrollableEl,g=void 0===y?window:y,k=e.transitionDuration,b=void 0===k?300:k,w=e.zoomMargin,_=void 0===w?0:w,x=e.zoomZindex,E=void 0===x?2147483647:x,S=(0,t.useRef)(null),I=(0,t.useState)(0)[1],T=(0,t.useState)(o),N=T[0],C=T[1],O=(0,t.useState)(!1),D=O[0],A=O[1],P=(0,t.useState)(!1),R=P[0],M=P[1],L=cO(N),F=cO(o),U=cO(D),j=sO(),V=j.width,z=j.height,B=(0,t.useCallback)((function(e){e.preventDefault(),c&&c(!1)}),[c]),q=(0,t.useCallback)((function(e){!N||"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),c&&c(!1))}),[N,c]),W=(0,t.useCallback)((function(){I((function(e){return e+1})),!R&&c&&c(!1)}),[R,c]);(0,t.useEffect)((function(){return document.addEventListener("keydown",q),function(){document.removeEventListener("keydown",q)}}),[q]),(0,t.useEffect)((function(){var e;return null===(e=null===g||void 0===g?void 0:g.addEventListener)||void 0===e||e.call(g,"scroll",W),function(){var e;null===(e=null===g||void 0===g?void 0:g.removeEventListener)||void 0===e||e.call(g,"scroll",W)}}),[W,g]),(0,t.useEffect)((function(){!L&&N&&(A(!0),S.current&&S.current.focus({preventScroll:!0}))}),[N,L]),(0,t.useEffect)((function(){F&&!o&&M(!0),!F&&o&&C(!0)}),[o,F]),(0,t.useEffect)((function(){var e;return R&&(e=setTimeout((function(){A(!1),C(!1),M(!1)}),b)),function(){clearTimeout(e)}}),[R,b]),(0,t.useEffect)((function(){!U&&D&&u(),U&&!D&&s()}),[D,u,s,U]);var H=p.current||oO,G=H.getBoundingClientRect(),Y=G.height,K=G.left,Q=G.top,$=G.width,X=aO({isLoaded:D,isUnloading:R,overlayBgColorEnd:f,overlayBgColorStart:d,transitionDuration:b,zoomZindex:E}),J=iO({height:Y,isLoaded:D,innerHeight:z,innerWidth:V,isUnloading:R,left:K,originalTransform:H.style.transform,top:Q,transitionDuration:b,width:$,zoomMargin:_});return N?(0,r.createPortal)(t.createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:X},t.createElement("div",{"data-rmiz-modal-content":!0,style:J},n),t.createElement("button",{"aria-label":a,"data-rmiz-btn-close":!0,onClick:B,ref:S,type:"button"})),m):null})),fO=((0,t.memo)((function(e){var n=e.children,r=e.closeText,i=void 0===r?"Unzoom image":r,a=e.isZoomed,o=e.overlayBgColorEnd,u=void 0===o?"rgba(255, 255, 255, 0.95)":o,s=e.overlayBgColorStart,c=void 0===s?"rgba(255, 255, 255, 0)":s,l=e.portalEl,f=e.onZoomChange,h=e.openText,d=void 0===h?"Zoom image":h,p=e.scrollableEl,v=e.transitionDuration,m=void 0===v?300:v,y=e.wrapElement,g=void 0===y?"div":y,k=e.wrapStyle,b=e.zoomMargin,w=void 0===b?0:b,_=e.zoomZindex,x=void 0===_?2147483647:_,E=(0,t.useState)(!1),S=E[0],I=E[1],T=(0,t.useRef)(null),N=(0,t.useRef)(null),C=(0,t.useCallback)((function(e){!a&&f&&(e.preventDefault(),f(!0))}),[a,f]),O=(0,t.useCallback)((function(){I(!0)}),[]),D=(0,t.useCallback)((function(){I(!1),N.current&&N.current.focus({preventScroll:!0})}),[]),A=S?"hidden":"visible";return t.createElement(t.StrictMode,null,t.createElement(g,{"data-rmiz-wrap":A,ref:T,style:k},n,t.createElement("button",{"aria-label":d,"data-rmiz-btn-open":!0,onClick:C,ref:N,type:"button"}),"undefined"!==typeof window&&t.createElement(lO,{closeText:i,isActive:a,onLoad:O,onUnload:D,onZoomChange:f,overlayBgColorEnd:u,overlayBgColorStart:c,parentRef:T,portalEl:l,scrollableEl:p,transitionDuration:m,zoomMargin:w,zoomZindex:x},n)))})),(0,t.memo)((function(e){var n=e.children,i=e.closeText,a=void 0===i?"Unzoom Image":i,o=e.onUnload,u=e.onLoad,s=e.overlayBgColorEnd,c=void 0===s?"rgba(255, 255, 255, 0.95)":s,l=e.overlayBgColorStart,f=void 0===l?"rgba(255, 255, 255, 0)":l,h=e.parentRef,d=e.portalEl,p=void 0===d?document.body:d,v=e.scrollableEl,m=void 0===v?window:v,y=e.transitionDuration,g=void 0===y?300:y,k=e.zoomMargin,b=void 0===k?0:k,w=e.zoomZindex,_=void 0===w?2147483647:w,x=(0,t.useRef)(null),E=(0,t.useState)(0)[1],S=(0,t.useState)(!1),I=S[0],T=S[1],N=(0,t.useState)(!1),C=N[0],O=N[1],D=sO(),A=D.width,P=D.height,R=(0,t.useCallback)((function(e){e.preventDefault(),O(!0)}),[]),M=(0,t.useCallback)((function(e){"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),O(!0))}),[]),L=(0,t.useCallback)((function(){E((function(e){return e+1})),C||O(!0)}),[C]);(0,t.useEffect)((function(){return document.addEventListener("keydown",M),function(){document.removeEventListener("keydown",M)}}),[M]),(0,t.useEffect)((function(){var e;return null===(e=null===m||void 0===m?void 0:m.addEventListener)||void 0===e||e.call(m,"scroll",L),function(){var e;null===(e=null===m||void 0===m?void 0:m.removeEventListener)||void 0===e||e.call(m,"scroll",L)}}),[L,m]),(0,t.useEffect)((function(){T(!0),u(),x.current&&x.current.focus({preventScroll:!0})}),[u]),(0,t.useEffect)((function(){var e=C?setTimeout(o,g):null;return function(){e&&clearTimeout(e)}}),[C,o,g]);var F=h.current||oO,U=F.getBoundingClientRect(),j=U.height,V=U.left,z=U.top,B=U.width,q=aO({isLoaded:I,isUnloading:C,overlayBgColorEnd:c,overlayBgColorStart:f,transitionDuration:g,zoomZindex:_}),W=iO({height:j,isLoaded:I,innerHeight:P,innerWidth:A,isUnloading:C,left:V,originalTransform:F.style.transform,top:z,transitionDuration:g,width:B,zoomMargin:b});return(0,r.createPortal)(t.createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:q},t.createElement("div",{"data-rmiz-modal-content":!0,style:W},n),t.createElement("button",{"aria-label":a,"data-rmiz-btn-close":!0,onClick:R,ref:x})),p)}))),hO=(0,t.memo)((function(e){var n=e.children,r=e.closeText,i=void 0===r?"Unzoom image":r,a=e.overlayBgColorEnd,o=void 0===a?"rgba(255, 255, 255, 0.95)":a,u=e.overlayBgColorStart,s=void 0===u?"rgba(255, 255, 255, 0)":u,c=e.portalEl,l=e.openText,f=void 0===l?"Zoom image":l,h=e.scrollableEl,d=e.transitionDuration,p=void 0===d?300:d,v=e.wrapElement,m=void 0===v?"div":v,y=e.wrapStyle,g=e.zoomMargin,k=void 0===g?0:g,b=e.zoomZindex,w=void 0===b?2147483647:b,_=(0,t.useState)(!1),x=_[0],E=_[1],S=(0,t.useState)(!1),I=S[0],T=S[1],N=(0,t.useRef)(null),C=(0,t.useRef)(null),O=(0,t.useCallback)((function(e){x||(e.preventDefault(),E(!0))}),[x]),D=(0,t.useCallback)((function(){T(!0)}),[]),A=(0,t.useCallback)((function(){E(!1),T(!1),C.current&&C.current.focus({preventScroll:!0})}),[]),P=x&&I?"hidden":"visible";return t.createElement(t.StrictMode,null,t.createElement(m,{"data-rmiz-wrap":P,ref:N,style:y},n,t.createElement("button",{"aria-label":f,"data-rmiz-btn-open":!0,onClick:O,ref:C}),"undefined"!==typeof window&&x&&t.createElement(fO,{closeText:i,onLoad:D,onUnload:A,overlayBgColorEnd:o,overlayBgColorStart:s,parentRef:N,portalEl:c,scrollableEl:h,transitionDuration:p,zoomMargin:k,zoomZindex:w},n)))}));var dO=function(e){var t=e.id,n=e.senderPhotoUrl,r=e.senderName,i=e.senderEmail,a=e.message,o=e.timeStamp,u=e.messageImage,c=s(WI(MI),1)[0],l=YT(NC),f=YT(AC);return(0,UC.jsxs)("div",{className:"flex  relative     m-3 justify-between group",children:[(0,UC.jsxs)("div",{className:" flex space-x-3  space-y-3 max-w-full ",children:[(0,UC.jsx)("img",{className:"h-9 self-start rounded-full",src:n}),(0,UC.jsxs)("div",{children:[(0,UC.jsxs)("div",{className:"flex space-x-2  items-center    ",children:[" ",(0,UC.jsx)("span",{className:"  text-xs lg:text-lg  text-white hover:underline cursor-pointer ",children:r}),(0,UC.jsx)("span",{className:" font-light text-xs md:text-sm text-white  ",children:nO()(null===o||void 0===o?void 0:o.toDate().getTime()).format("L")})]}),(0,UC.jsx)("p",{className:"text-[#dcddde]   break-all  leading-7  ",children:a}),u&&(0,UC.jsxs)(hO,{children:[" ",(0,UC.jsx)("img",{onClick:function(){console.log("how are")},className:"max-h-28 max-w-[100%] mt-2",src:u})]})]})]}),i===c.email&&(0,UC.jsx)("div",{className:"absolute top-2 right-0 self-center",children:(0,UC.jsx)(eO,{className:"h-8  self-center   text-red-500 bg-white rounded-full cursor-pointer hidden group-hover:inline",onClick:ce(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to delete?")){e.next=3;break}return e.next=3,IE(J_(RI,"servers",l,"channels",f,"messages",t));case 3:case"end":return e.stop()}}),e)})))})})]},t)};function pO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vO=n(694),mO=n.n(vO),yO={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},gO=function(){var e=(0,t.useRef)([]),n=(0,t.useRef)(null);return(0,t.useEffect)((function(){var t=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",n.current&&t-n.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(n.current=Date.now())})),e.current},kO=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],bO=function(e){var n=e.className,r=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,u=e.strokeWidth,s=e.style,c=e.trailColor,l=e.trailWidth,f=e.transition,h=pO(e,kO);delete h.gapPosition;var d=Array.isArray(r)?r:[r],p=Array.isArray(a)?a:[a],v=gO(),m=u/2,y=100-u/2,g="M ".concat("round"===o?m:0,",").concat(m,"\n         L ").concat("round"===o?y:100,",").concat(m),k="0 0 100 ".concat(u),b=0;return t.createElement("svg",HI({className:mO()("".concat(i,"-line"),n),viewBox:k,preserveAspectRatio:"none",style:s},h),t.createElement("path",{className:"".concat(i,"-line-trail"),d:g,strokeLinecap:o,stroke:c,strokeWidth:l||u,fillOpacity:"0"}),d.map((function(e,n){var r=1;switch(o){case"round":r=1-u/100;break;case"square":r=1-u/2/100;break;default:r=1}var a={strokeDasharray:"".concat(e*r,"px, 100px"),strokeDashoffset:"-".concat(b,"px"),transition:f||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},s=p[n]||p[p.length-1];return b+=e,t.createElement("path",{key:n,className:"".concat(i,"-line-path"),d:g,strokeLinecap:o,stroke:s,strokeWidth:u,fillOpacity:"0",ref:function(e){v[n]=e},style:a})})))};bO.defaultProps=yO,bO.displayName="Line";var wO=bO;var _O=0,xO=!("undefined"===typeof window||!window.document||!window.document.createElement);var EO=function(e){var n=s(t.useState(),2),r=n[0],i=n[1];return t.useEffect((function(){i("rc_progress_".concat(function(){var e;return xO?(e=_O,_O+=1):e="TEST_OR_SSR",e}()))}),[]),e||r},SO=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function IO(e){return+e.replace("%","")}function TO(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var NO=100,CO=function(e,t,n,r,i,a,o,u,s,c){var l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=n/100*360*((360-a)/360),h=0===a?0:{bottom:0,top:180,left:90,right:-90}[o],d=(100-r)/100*t;return"round"===s&&100!==r&&(d+=c/2)>=t&&(d=t-.01),{stroke:"string"===typeof u?u:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:d+l,transform:"rotate(".concat(i+f+h,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},OO=function(e){var n=e.id,r=e.prefixCls,i=e.steps,a=e.strokeWidth,o=e.trailWidth,u=e.gapDegree,s=void 0===u?0:u,c=e.gapPosition,l=e.trailColor,f=e.strokeLinecap,h=e.style,d=e.className,p=e.strokeColor,v=e.percent,m=pO(e,SO),y=EO(n),g="".concat(y,"-gradient"),k=50-a/2,w=2*Math.PI*k,_=s>0?90+s/2:-90,x=w*((360-s)/360),E="object"===b(i)?i:{count:i,space:2},S=E.count,I=E.space,T=CO(w,x,0,100,_,s,c,l,f,a),N=TO(v),C=TO(p),O=C.find((function(e){return e&&"object"===b(e)})),D=gO();return t.createElement("svg",HI({className:mO()("".concat(r,"-circle"),d),viewBox:"0 0 ".concat(NO," ").concat(NO),style:h,id:n},m),O&&t.createElement("defs",null,t.createElement("linearGradient",{id:g,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(O).sort((function(e,t){return IO(e)-IO(t)})).map((function(e,n){return t.createElement("stop",{key:n,offset:e,stopColor:O[e]})})))),!S&&t.createElement("circle",{className:"".concat(r,"-circle-trail"),r:k,cx:50,cy:50,stroke:l,strokeLinecap:f,strokeWidth:o||a,style:T}),S?function(){var e=Math.round(S*(N[0]/100)),n=100/S,i=0;return new Array(S).fill(null).map((function(o,u){var f=u<=e-1?C[0]:l,h=f&&"object"===b(f)?"url(#".concat(g,")"):void 0,d=CO(w,x,i,n,_,s,c,f,"butt",a,I);return i+=100*(x-d.strokeDashoffset+I)/x,t.createElement("circle",{key:u,className:"".concat(r,"-circle-path"),r:k,cx:50,cy:50,stroke:h,strokeWidth:a,opacity:1,style:d,ref:function(e){D[u]=e}})}))}():function(){var e=0;return N.map((function(n,i){var o=C[i]||C[C.length-1],u=o&&"object"===b(o)?"url(#".concat(g,")"):void 0,l=CO(w,x,e,n,_,s,c,o,f,a);return e+=n,t.createElement("circle",{key:i,className:"".concat(r,"-circle-path"),r:k,cx:50,cy:50,stroke:u,strokeLinecap:f,strokeWidth:a,opacity:0===n?0:1,style:l,ref:function(e){D[i]=e}})})).reverse()}())};OO.defaultProps=yO,OO.displayName="Circle";var DO=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(null),r=YT(NC),i=YT(TC),a=YT(AC),o=YT(PC),u=s(WI(MI),1)[0],c=s((0,t.useState)(!1),2),l=c[0],f=c[1],h=s((0,t.useState)(""),2),d=h[0],p=h[1],v=s((0,t.useState)([]),2),m=v[0],y=v[1],g=s((0,t.useState)(null),2),k=g[0],b=g[1],w=s((0,t.useState)(),2),_=(w[0],w[1]),x=s((0,t.useState)(!1),2),E=(x[0],x[1]),S=s(DT(a&&RI.collection("servers").doc(r).collection("channels").doc(a).collection("messages").orderBy("timeStamp","asc")),1)[0];(0,t.useEffect)((function(){var e=[];y([]),null===S||void 0===S||S.docs.map((function(t){var n=t.data(),r={senderName:n.senderName,senderPhotoUrl:n.senderPhotoUrl};e.push(r);var i=e.map((function(e){return e.senderName})),a=e.filter((function(e,t){var n=e.senderName;return!i.includes(n,t+1)}));y(a)}))}),[null===S||void 0===S?void 0:S.docs.length]);var T=function(){var t=ce(I().mark((function t(i){var o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),e.current.value.trim().length>0&&(i.preventDefault(),RI.collection("servers").doc(r).collection("channels").doc(a).collection("messages").add({message:e.current.value,timeStamp:yt.firestore.FieldValue.serverTimestamp(),senderEmail:null===u||void 0===u?void 0:u.email,senderName:null===u||void 0===u?void 0:u.displayName,senderPhotoUrl:null===u||void 0===u?void 0:u.photoURL}),e.current.value="",null===(o=n.current)||void 0===o||o.scrollIntoView({behavior:"smooth",block:"end"})),t.abrupt("return");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,UC.jsxs)("div",{className:" relative bg-[#36393f]    flex    flex-grow text-[#72767d]         ",children:[(0,UC.jsxs)("div",{className:"flex flex-grow flex-col ",children:[(0,UC.jsxs)("header",{className:"flex justify-between border-b  border-gray-800  p-3 items-center  ",children:[(0,UC.jsxs)("div",{className:" flex  space-x-1",children:[(0,UC.jsx)(GC,{className:" font-bold h-6"}),(0,UC.jsx)("h3",{className:"text-white text-md",children:o})]}),(0,UC.jsxs)("div",{className:"flex space-x-3 items-center text-white",children:[(0,UC.jsx)($C,{className:"h-6 text-[#b9bbbe] cursor-pointer hover:text-[#dcddde] ",onClick:function(){f(!l)}}),(0,UC.jsxs)("div",{className:"flex bg-[#202225] text-xs  rounded-md items-center",children:[(0,UC.jsx)("input",{type:"text",placeholder:"Search",className:"     hidden  bg-[#202225] focus:outline-none p-1 text-white pl-1 placeholder-[#72767d] w-40 focus:w-60"}),(0,UC.jsx)(XC,{className:"     hidden h-4 cursor-pointer text-[#72767d] mr-1"})]})]})]}),(0,UC.jsxs)("main",{className:" text-[#2f3136] scrollbar-thin scrollbar-thumb-current  w-screen lg:w-full h-[100vh] p-6 ".concat(l&&"w-[83%] "),children:[null===S||void 0===S?void 0:S.docs.map((function(e){var t=e.data(),n=t.senderPhotoUrl,r=t.senderName,i=t.senderEmail,a=t.message,o=t.messageImage,u=t.timeStamp;return(0,UC.jsx)(dO,{id:e.id,senderPhotoUrl:n,senderName:r,senderEmail:i,message:a,timeStamp:u,messageImage:o},e.id)})),(0,UC.jsx)("div",{className:" h-2 w-2 mb-52 lg:mb-32 text-red-700"}),(0,UC.jsx)("div",{className:" h-2 w-2 mb-36 text-red-700",ref:n})]}),k&&(0,UC.jsx)(wO,{className:" bg-white absolute bottom-36 lg:bottom-20 items-center  flex mb-0 ml-5  w-[95%] ".concat(l&&"w-[78%] mr-5"),percent:k,strokeWidth:1,strokeColor:"#295de7"}),d&&(0,UC.jsx)("div",{class:"p-2 bg-discord_blue self-center  bottom-0 lg:mb-24 mb-36  absolute text-center w-fit  my-0 mx-auto text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex ",role:"alert",children:(0,UC.jsx)("span",{className:"font-semibold mr-2 text-center flex-auto",children:"Your photo is ready!"})}),(0,UC.jsxs)("form",{className:" absolute bg-[#40444b] bottom-20 lg:bottom-5 items-center  flex my-0 mx-auto left-5 right-5  w-[90%] ".concat(l&&"w-[78%] mr-5","  "),children:[(0,UC.jsxs)("label",{children:[(0,UC.jsx)(JC,{className:"h-10  ml-3 cursor-pointer   text-white rounded-full"}),(0,UC.jsx)("input",{className:"hidden",type:"file",accept:"image/*",onChange:function(e){e.preventDefault(),p(e.target.files[0])}})]}),(0,UC.jsx)("input",{disabled:!a,ref:e,type:"text",placeholder:"Send a message in #".concat(i),className:" z-10 text-[#dcddde] bg-transparent w-[100%] placeholder-[#72767d] focus:outline-none   p-4  "}),(0,UC.jsx)("button",{onClick:d?function(e){if(E(!0),e.preventDefault(),d){var t,i,o=100*new Date,s=OI((t=FI,i="/images/".concat(d.name+o),EI(t=ee(t),i)),d);p(""),s.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)}),(function(e){console.log(e.message),b(null),E(!1)}),ce(I().mark((function e(){var t,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DI(s.snapshot.ref);case 2:(t=e.sent)&&(b(null),_(t),setTimeout((function(){E(!1)}),3e3),RI.collection("servers").doc(r).collection("channels").doc(a).collection("messages").add({messageImage:t,timeStamp:yt.firestore.FieldValue.serverTimestamp(),senderEmail:null===u||void 0===u?void 0:u.email,senderName:null===u||void 0===u?void 0:u.displayName,senderPhotoUrl:null===u||void 0===u?void 0:u.photoURL}),null===(i=n.current)||void 0===i||i.scrollIntoView({behavior:"smooth",block:"end"}));case 4:case"end":return e.stop()}}),e)}))))}else console.log("Please select an image!")}:T,children:(0,UC.jsx)(ZC,{className:" h-10 outline-none  rounded-full  text-white bg-discord_blue"})})]})]}),l&&(0,UC.jsx)("div",{className:"  absolute  z-10  top-12 right-0  sm:w-[16.5%]  p-3 bg-[#383a40]  h-[92vh] overflow-y-scroll scrollbar-hide",children:(0,UC.jsxs)(UC.Fragment,{children:[(0,UC.jsx)("h1",{className:"text-white  text-2xl capitalize bg text-center",children:"Users In Channel"}),null===m||void 0===m?void 0:m.map((function(e){return(0,UC.jsxs)("div",{className:" hover:cursor-pointer hover:bg-[#36393f]  my-6  py-2  flex justify-start overflow-y-scroll scrollbar-hide   bg-[#2f3136]  ",children:[(0,UC.jsx)("img",{className:"h-9 self-center rounded-full",src:e.senderPhotoUrl}),(0,UC.jsx)("h2",{className:"p-2 text-sm text-discord_blurple ",children:null===e||void 0===e?void 0:e.senderName})]},e.senderPhotoUrl)}))]})})]})};var AO=n.p+"static/media/discordHead.1f27b8a8277fa4dd21db949b8f25aee8.svg";var PO=function(){var e=qT(),t=s(WI(MI),1)[0],n=lT(),r=s(DT(eE(X_(RI,"servers"),rE("timeStamp","asc"))),1)[0],i=YT(NC),a=(s(DT(eE(X_(RI,"servers".concat(i," 'channels")),rE("timeStamp","asc"))),1)[0],function(){var t=ce(I().mark((function t(){var r,i,a,o,u;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=prompt("Create a server"))){t.next=18;break}return t.next=4,TE(X_(RI,"servers"),{serverName:r,timeStamp:yt.firestore.FieldValue.serverTimestamp()});case 4:return i=t.sent,t.next=7,bE(i);case 7:if(!(a=t.sent).exists()){t.next=18;break}return e(IC({serverId:a.id,serverName:a.data().serverName})),"general",t.next=13,TE(X_(RI,"servers",i.id,"channels"),{channelName:"general",timeStamp:yt.firestore.FieldValue.serverTimestamp()});case 13:return o=t.sent,t.next=16,bE(o);case 16:(u=t.sent).exists()&&(e(DC({channelId:u.id,channelName:u.data().channelName})),n("/channels/".concat(i.id,"/").concat(u.id)));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return(0,UC.jsx)(UC.Fragment,{children:t?(0,UC.jsxs)("div",{className:"relative flex h-screen bg-[#2f3136] overflow-y-hidden",children:[(0,UC.jsxs)("div",{className:"flex   items-center  flex-col bg-[#202225]  min-w-[70px]     py-3  space-y-2  overflow-y-scroll scrollbar-hide     ",children:[(0,UC.jsxs)("div",{children:[(0,UC.jsx)("img",{className:"h-10 rounded-full hover:rounded-2xl  ",src:AO}),(0,UC.jsx)("hr",{className:"my-2   "})]}),(0,UC.jsx)("div",{className:" space-y-4 ",children:null===r||void 0===r?void 0:r.docs.map((function(e){var t=e.data(),n=t.serverPhoto,r=t.serverName;return(0,UC.jsx)(QC,{id:e.id,serverPhoto:n,serverName:r},e.id)}))}),(0,UC.jsx)("div",{children:(0,UC.jsx)(qC,{className:"h-10  cursor-pointer bg-discord_green rounded-full hover:rounded-2xl hover:text-white my-2 transition duration-500 ease-in-out",onClick:a})}),(0,UC.jsx)(QC,{serverPhoto:"https://i.picsum.photos/id/34/50/50.jpg?hmac=gFrHzGGp-BISOCwy9bJXx7WJM9IVo-Pd1qTXVGTp-WY"})]}),(0,UC.jsx)("div",{className:" flex flex-grow",children:(null===r||void 0===r?void 0:r.docs.length)>0&&null!==i?(0,UC.jsxs)(UC.Fragment,{children:[(0,UC.jsx)(KC,{}),(0,UC.jsx)(DO,{})]}):(0,UC.jsxs)("div",{className:" text-white w-full h-screen    flex justify-center flex-col p-10",children:[(0,UC.jsx)(BC,{className:"h-20"}),(0,UC.jsx)("h1",{className:"text-2xl font-bold mx-auto my-0",children:"Please create or Select a Server to continue..."})]})})]}):n("/")})};var RO=function(){return(0,UC.jsx)("div",{children:(0,UC.jsx)(zC,{children:(0,UC.jsxs)(uT,{children:[(0,UC.jsx)(aT,{exact:!0,path:"/",element:(0,UC.jsx)(VC,{})}),(0,UC.jsx)(aT,{exact:!0,path:"/channels",element:(0,UC.jsx)(PO,{})}),(0,UC.jsx)(aT,{exact:!0,path:"/channels/:id",element:(0,UC.jsx)(PO,{})}),(0,UC.jsx)(aT,{exact:!0,path:"/channels/:id/:id",element:(0,UC.jsx)(PO,{})})]})})})},MO=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},LO=function(e){var t,n=bC(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!gC(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=rC(a)}var p=u;"function"===typeof p&&(p=p(n));var v=aC.apply(void 0,p),m=iC;c&&(m=yC(mC({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=lC([v],d):"function"===typeof d&&(y=d(y)),nC(t,f,m.apply(void 0,y))}({reducer:{channel:RC,server:CC}});r.render((0,UC.jsx)(t.StrictMode,{children:(0,UC.jsx)(UT,{store:LO,children:(0,UC.jsx)(RO,{})})}),document.getElementById("root")),MO()}()}();
//# sourceMappingURL=main.8f7bd60f.js.map